{"version":3,"sources":["webpack:///static/js/296.6ea3e50f7a6c63d94bc0.js","webpack:///src/components/mipres/descargas/Descargas.vue","webpack:///./src/components/mipres/descargas/Descargas.vue?17f4","webpack:///./src/components/mipres/descargas/Descargas.vue?ea1c","webpack:///./src/components/mipres/descargas/Descargas.vue?24e3","webpack:///./src/components/mipres/descargas/Descargas.vue"],"names":["webpackJsonp","1299","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","name","props","value","type","Boolean","default","tipo","Number","components","InputDate","Promise","resolve","then","bind","data","loading","motivo","titulos","regimenes","descarga","watch","val","console","log","this","formReset","$validator","reset","computed","ruta","fecha","regimen","methods","download","_this","a","mark","_callee","wrap","_context","prev","next","validateAll","sent","$store","commit","msg","color","axios","get","$emit","catch","e","expression","error","stop","2471","exports","content","i","locals","2472","push","version","sources","names","mappings","file","sourceRoot","2473","render","_vm","_h","$createElement","_c","_self","attrs","row","justify-center","key","persistent","max-width","model","callback","$$v","staticClass","_v","_s","fluid","grid-list-xs","xs12","directives","rawName","label","hint","error-messages","errors","collect","$set","_e","items","flat","on","click","$event","stopPropagation","staticRenderFns","esExports","926","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Descargas_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_20779f72_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Descargas_vue__","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"static/js/296.6ea3e50f7a6c63d94bc0.js","sourcesContent":["webpackJsonp([296],{\n\n/***/ 1299:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'Descargas',\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    tipo: {\n      type: Number,\n      default: 0\n    }\n  },\n  components: {\n    InputDate: function InputDate() {\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 253));\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      motivo: null,\n      titulos: ['Prescripciones por fecha y régimen', 'Juntas médicas por fecha y régimen', 'Histórico de juntas médicas', 'Tutelas por fecha y régimen', 'Reportes de entrega por fecha y régimen'],\n      regimenes: ['Subsidiado', 'Contributivo'],\n      descarga: {}\n    };\n  },\n  watch: {\n    'value': function value(val) {\n      if (!val) {\n        this.$validator.reset();\n      } else {\n        console.log('se veeee');\n        this.formReset();\n        this.$validator.reset();\n      }\n    }\n  },\n  computed: {\n    ruta: function ruta() {\n      switch (this.tipo) {\n        case 0:\n          return 'mipres/prescripcionesFecha?fecha=' + this.descarga.fecha + '&regimen=' + this.descarga.regimen;\n        case 1:\n          return 'mipres/juntasFecha?fecha=' + this.descarga.fecha + '&regimen=' + this.descarga.regimen;\n        case 2:\n          return 'mipres/historicoJuntas?desde=' + this.descarga.fecha;\n        case 3:\n          return 'mipres/tutelasFecha?fecha=' + this.descarga.fecha + '&regimen=' + this.descarga.regimen;\n        case 4:\n          return 'mipres/reportesFecha?fecha=' + this.descarga.fecha + '&regimen=' + this.descarga.regimen;\n      }\n    }\n  },\n  methods: {\n    download: function download() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.$validator.validateAll();\n\n              case 2:\n                if (!_context.sent) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.loading = true;\n                _this.$store.commit('SNACK_SHOW', { msg: 'La descarga MIPRES \"' + _this.titulos[_this.tipo] + '\" ha iniciado, se notificar\\xE1 en pantalla cuando el proceso termine.', color: 'orange' });\n                _this.axios.get(_this.ruta).then(function () {\n                  _this.loading = false;\n                  _this.$emit('success');\n                  _this.$store.commit('SNACK_SHOW', { msg: 'La descarga MIPRES \"' + _this.titulos[_this.tipo] + '\" se ha realizado correctamente.', color: 'success' });\n                }).catch(function (e) {\n                  _this.loading = false;\n                  _this.$store.commit('SNACK_ERROR_LIST', { expression: ' al realizar la descarga de registros.', error: e });\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n    formReset: function formReset() {\n      this.descarga = {\n        fecha: null,\n        regimen: 'Subsidiado'\n      };\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 2471:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2472);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(456)(\"60492a4b\", content, true, {});\n\n/***/ }),\n\n/***/ 2472:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(455)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"Descargas.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 2473:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{key:\"dialogConfirm\",attrs:{\"persistent\":\"\",\"max-width\":\"400\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('v-card',[_c('v-card-text',{staticClass:\"title font-weight-bold text-xs-center\"},[_vm._v(_vm._s(_vm.titulos[_vm.tipo]))]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-xs\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[(_vm.value)?_c('input-date',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|fechaValida'),expression:\"'required|fechaValida'\"}],key:\"dateDownload\",attrs:{\"label\":(_vm.tipo === 2) ? 'Fecha desde' : 'Fecha',\"hint\":\"Formato: (Año-Mes-Día)\",\"name\":(_vm.tipo === 2) ? 'fecha desde' : 'fecha',\"error-messages\":_vm.errors.collect((_vm.tipo === 2) ? 'fecha desde' : 'fecha')},model:{value:(_vm.descarga.fecha),callback:function ($$v) {_vm.$set(_vm.descarga, \"fecha\", $$v)},expression:\"descarga.fecha\"}}):_vm._e()],1),_vm._v(\" \"),(_vm.tipo !== 2)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"label\":\"Régimen\",\"items\":_vm.regimenes,\"name\":\"regimen\",\"error-messages\":_vm.errors.collect('regimen')},model:{value:(_vm.descarga.regimen),callback:function ($$v) {_vm.$set(_vm.descarga, \"regimen\", $$v)},expression:\"descarga.regimen\"}})],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('input', false)}}},[_vm._v(\"Cerrar\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loading},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_vm._v(\"Descargar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 926:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Descargas_vue__ = __webpack_require__(1299);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_20779f72_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Descargas_vue__ = __webpack_require__(2473);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(2471)\n}\nvar normalizeComponent = __webpack_require__(1)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20779f72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Descargas_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_20779f72_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Descargas_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/296.6ea3e50f7a6c63d94bc0.js","<template>\n  <v-layout row justify-center>\n    <v-dialog key=\"dialogConfirm\" v-model=\"value\" persistent max-width=\"400\">\n      <v-card>\n        <v-card-text class=\"title font-weight-bold text-xs-center\">{{titulos[tipo]}}</v-card-text>\n        <v-divider></v-divider>\n        <v-container fluid grid-list-xs>\n          <v-layout row wrap>\n            <v-flex xs12>\n              <input-date\n                v-if=\"value\"\n                key=\"dateDownload\"\n                v-model=\"descarga.fecha\"\n                :label=\"(tipo === 2) ? 'Fecha desde' : 'Fecha'\"\n                hint=\"Formato: (Año-Mes-Día)\"\n                :name=\"(tipo === 2) ? 'fecha desde' : 'fecha'\"\n                v-validate=\"'required|fechaValida'\"\n                :error-messages=\"errors.collect((tipo === 2) ? 'fecha desde' : 'fecha')\"\n              ></input-date>\n            </v-flex>\n            <v-flex xs12 v-if=\"tipo !== 2\">\n              <v-select\n                label=\"Régimen\"\n                :items=\"regimenes\"\n                name=\"regimen\"\n                v-validate=\"'required'\"\n                :error-messages=\"errors.collect('regimen')\"\n                v-model=\"descarga.regimen\"\n              ></v-select>\n            </v-flex>\n          </v-layout>\n        </v-container>\n        <v-divider/>\n        <v-card-actions>\n          <v-btn flat @click.stop=\"$emit('input', false)\">Cerrar</v-btn>\n          <v-spacer/>\n          <v-btn color=\"primary\" :loading=\"loading\" @click.stop=\"download\">Descargar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n</template>\n\n<script>\n  export default {\n    name: 'Descargas',\n    props: {\n      value: {\n        type: Boolean,\n        default: false\n      },\n      tipo: {\n        type: Number,\n        default: 0\n      }\n    },\n    components: {\n      InputDate: () => import('@/components/general/InputDate')\n    },\n    data: () => ({\n      loading: false,\n      motivo: null,\n      titulos: [\n        'Prescripciones por fecha y régimen',\n        'Juntas médicas por fecha y régimen',\n        'Histórico de juntas médicas',\n        'Tutelas por fecha y régimen',\n        'Reportes de entrega por fecha y régimen'\n      ],\n      regimenes: [\n        'Subsidiado',\n        'Contributivo'\n      ],\n      descarga: {}\n    }),\n    watch: {\n      'value' (val) {\n        if (!val) {\n          this.$validator.reset()\n        } else {\n          console.log('se veeee')\n          this.formReset()\n          this.$validator.reset()\n        }\n      }\n    },\n    computed: {\n      ruta () {\n        switch (this.tipo) {\n          case 0: return `mipres/prescripcionesFecha?fecha=${this.descarga.fecha}&regimen=${this.descarga.regimen}`\n          case 1: return `mipres/juntasFecha?fecha=${this.descarga.fecha}&regimen=${this.descarga.regimen}`\n          case 2: return `mipres/historicoJuntas?desde=${this.descarga.fecha}`\n          case 3: return `mipres/tutelasFecha?fecha=${this.descarga.fecha}&regimen=${this.descarga.regimen}`\n          case 4: return `mipres/reportesFecha?fecha=${this.descarga.fecha}&regimen=${this.descarga.regimen}`\n        }\n      }\n    },\n    methods: {\n      async download () {\n        if (await this.$validator.validateAll()) {\n          this.loading = true\n          this.$store.commit('SNACK_SHOW', {msg: `La descarga MIPRES \"${this.titulos[this.tipo]}\" ha iniciado, se notificará en pantalla cuando el proceso termine.`, color: 'orange'})\n          this.axios.get(this.ruta)\n            .then(() => {\n              this.loading = false\n              this.$emit('success')\n              this.$store.commit('SNACK_SHOW', {msg: `La descarga MIPRES \"${this.titulos[this.tipo]}\" se ha realizado correctamente.`, color: 'success'})\n            })\n            .catch(e => {\n              this.loading = false\n              this.$store.commit('SNACK_ERROR_LIST', {expression: ` al realizar la descarga de registros.`, error: e})\n            })\n        }\n      },\n      formReset () {\n        this.descarga = {\n          fecha: null,\n          regimen: 'Subsidiado'\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/mipres/descargas/Descargas.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20779f72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Descargas.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"60492a4b\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-20779f72\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/mipres/descargas/Descargas.vue\n// module id = 2471\n// module chunks = 296","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"Descargas.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-20779f72\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/mipres/descargas/Descargas.vue\n// module id = 2472\n// module chunks = 296","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{key:\"dialogConfirm\",attrs:{\"persistent\":\"\",\"max-width\":\"400\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('v-card',[_c('v-card-text',{staticClass:\"title font-weight-bold text-xs-center\"},[_vm._v(_vm._s(_vm.titulos[_vm.tipo]))]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-xs\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[(_vm.value)?_c('input-date',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|fechaValida'),expression:\"'required|fechaValida'\"}],key:\"dateDownload\",attrs:{\"label\":(_vm.tipo === 2) ? 'Fecha desde' : 'Fecha',\"hint\":\"Formato: (Año-Mes-Día)\",\"name\":(_vm.tipo === 2) ? 'fecha desde' : 'fecha',\"error-messages\":_vm.errors.collect((_vm.tipo === 2) ? 'fecha desde' : 'fecha')},model:{value:(_vm.descarga.fecha),callback:function ($$v) {_vm.$set(_vm.descarga, \"fecha\", $$v)},expression:\"descarga.fecha\"}}):_vm._e()],1),_vm._v(\" \"),(_vm.tipo !== 2)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"label\":\"Régimen\",\"items\":_vm.regimenes,\"name\":\"regimen\",\"error-messages\":_vm.errors.collect('regimen')},model:{value:(_vm.descarga.regimen),callback:function ($$v) {_vm.$set(_vm.descarga, \"regimen\", $$v)},expression:\"descarga.regimen\"}})],1):_vm._e()],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('input', false)}}},[_vm._v(\"Cerrar\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loading},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_vm._v(\"Descargar\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20779f72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/mipres/descargas/Descargas.vue\n// module id = 2473\n// module chunks = 296","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20779f72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Descargas.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Descargas.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Descargas.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20779f72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Descargas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20779f72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mipres/descargas/Descargas.vue\n// module id = 926\n// module chunks = 296"],"sourceRoot":""}