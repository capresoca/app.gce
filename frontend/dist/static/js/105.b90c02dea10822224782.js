webpackJsonp([105],{1088:function(t,a,i){"use strict";var e=i(7),o=i.n(e),n=i(23),r=i.n(n),s=i(13),l=i.n(s),c=i(14),u=i.n(c),d=i(58),m=i(59),f=i(12),v=i(248),_=i(251);a.a={name:"DetalleSolicitudAutorizacion",props:["parametros"],components:{InputDetailFlex:function(){return new Promise(function(t){t()}).then(i.bind(null,250))},Confirmar:function(){return i.e(289).then(i.bind(null,749))},Loading:d.default},data:function(){return{menuDate:!1,minDate:"1900-01-01",maxDate:(new Date).toISOString().substr(0,10),loading:!1,headersDetails:[{text:"Status",align:"center",sortable:!1},{text:"Tipo",sortable:!1},{text:"Código",sortable:!1},{text:"Descripción",sortable:!1},{text:"Cantidad solicitada",align:"center",sortable:!1},{text:"Cantidad aprobada",align:"center",sortable:!1},{text:"Valor unitario",align:"right",sortable:!1},{text:"Valor total",align:"right",sortable:!1}],tipoDetalle:{id:1,ruta:"cumcontratados",text:"Medicamentos"},tiposDetalle:[{id:1,ruta:"cumcontratados",text:"Medicamentos"},{id:2,ruta:"cupcontratados",text:"Procedimientos"},{id:3,ruta:"otroscontratados",text:"Otros"}],marcaTutela:!1,fab:!1,dialogA:{visible:!1,content:null,registroID:null},item:null,orden_medica:null,historia_clinica:null,serviciosContratados:[],tutelas:[],cuotaCopagos:null,rangoActivo:null,calculoPagoError:null,tipoValorPermitido:null,valorTotal:0,valorEPS:0,valorUsuario:0,generaSolicitud:!1}},watch:{"item.autorizacion.contrato":function(t){var a=this;if(t){this.item.autorizacion.rs_contrato_id=t.id;var i=t.servicios_contratados?t.servicios_contratados:[],e=i.find(function(t){return t.id===a.item.autorizacion.rs_servicio_id});this.item.autorizacion.rs_servicio_id=e?e.id:null,this.serviciosContratados=i}},"item.autorizacion.afiliado":function(t,a){var i=this;return u()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.next=3,i.getTotalAutorizado();case 3:if(i.item.autorizacion.afiliado.total_autorizado=e.sent,null!==i.cuotaCopagos){e.next=8;break}return e.next=7,i.getCuotaCopagos();case 7:i.cuotaCopagos=e.sent;case 8:i.getRangoActivo(),i.tutelas=t.tutelas?t.tutelas:[],i.reloadPagos();case 11:a&&t!==a&&(i.item.cie10_principal=null,i.item.cie10_rel1=null,i.item.cie10_rel2=null,i.$refs.postuladorCie10P.reset(),i.$refs.postuladorCie10S.reset(),i.$refs.postuladorCie10T.reset());case 12:case"end":return e.stop()}},e,i)}))()},tutelas:function(t){var a=this;if(t){var i=t.find(function(t){return t.id===a.item.autorizacion.oj_tutela_id});this.item.autorizacion.oj_tutela_id=i?i.id:null,this.marcaTutela=null!==this.item.autorizacion.oj_tutela_id}},"item.detalles":function(t){t&&(t.length?(this.tipoValorPermitido=t[t.length-1].tipo_valor,this.reloadStatus()):this.tipoValorPermitido=null,this.generaSolicitud=!!t.find(function(t){return t.requiere_aprobacion}),this.valorTotal=this.getValorTotal())},valorTotal:function(){this.reloadPagos()}},computed:{complementos:function(){return m.b.getters.complementosFormAutorizacion},okChecks:function(){return this.item.autorizacion&&(this.item.autorizacion.alto_costo||this.item.autorizacion.pyp||this.item.autorizacion.atencion_materna||this.item.autorizacion.enfermedad_trasmisible||this.item.autorizacion.catastrofe)}},created:function(){this.getData()},beforeMount:function(){var t=this;_.a.extend("afiliadoValidoSolicitudAutorizacion",{validate:function(a){return new r.a(function(i){if(null!==a&&void 0!==a&&""!==a){var e=t.item&&t.item.as_afiliado_id&&t.item.afiliado?3===t.item.afiliado.estado?{valido:!0,mensaje:null}:{valido:!1,mensaje:"El afiliado seleccionado no es valido para este trámite, su estado debe ser: "+t.complementos.estadosAfiliado.find(function(t){return 3===t.id}).nombre+"."}:{valido:!0,mensaje:null};return i({valid:e.valido,data:{message:e.mensaje}})}})},getMessage:function(t,a,i){return i.message}})},methods:{imprimir:function(){var t=this;this.axios.get("firmar-ruta?nombre_ruta=autsolicitude&id="+this.item.id).then(function(t){""!==t.data&&window.open(t.data,"_blank")}).catch(function(a){t.$store.commit(f.a,{expression:" al generar el documento. ",error:a})})},goRuta:function(t){window.open(t,"_blank")},reloadStatus:function(){var t=this;this.item.detalles.forEach(function(a){a.status=a.tipo_valor===t.tipoValorPermitido})},getRangoActivo:function(){if(this.cuotaCopagos&&this.cuotaCopagos.length&&this.item.autorizacion.afiliado)if(2===this.item.autorizacion.afiliado.as_regimene_id)this.rangoActivo=this.cuotaCopagos.find(function(t){return"Sisben Nivel 2"===t.grupo});else{var t=this.item.autorizacion.afiliado.ingreso_total/this.cuotaCopagos[0].salminimo.valor,a=JSON.parse(o()(this.cuotaCopagos));a.splice(this.cuotaCopagos.findIndex(function(t){return"Sisben Nivel 2"===t.grupo}),1),this.rangoActivo=a.find(function(a){return("Incluido"===a.limite_inferior_salario?t>=a.salminimos_inicio:t>a.salminimos_inicio)&&("Incluido"===a.limite_superior_salario?t<=a.salminimos_fin:t<a.salminimos_fin)})}},getValorTotal:function(){return window.lodash.sum(this.item.detalles.map(function(t){return t.valorTotal}))},reloadPagos:function(){var t=this;return u()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!t.rangoActivo||null!==t.tipoValorPermitido&&t.item.detalles.length&&t.item.detalles.filter(function(a){return a.tipo_valor!==t.tipoValorPermitido}).length)){a.next=4;break}t.rangoActivo?t.calculoPagoError='No se puede generar Copago y Cuota moderadora en una misma autorización, hay items que infringen éste mandato. Para continuar, remueva los items con status "En conflicto".':t.calculoPagoError="No existen rangos configurados o el afiliado no aplica a ninguno de los rangos, ésto es indispensable para realizar el calculo de la liquidación de la autorización.",a.next=32;break;case 4:if(t.calculoPagoError=null,!t.item.autorizacion.afiliado||!(2===t.item.autorizacion.afiliado.as_regimene_id&&t.item.autorizacion.afiliado.nivel_sisben>=2&&!t.okChecks||1===t.item.autorizacion.afiliado.as_regimene_id)){a.next=31;break}if(!(2===t.item.autorizacion.afiliado.as_regimene_id&&t.item.autorizacion.afiliado.nivel_sisben>=2)){a.next=13;break}return t.valorUsuario=t.valorTotal*(t.rangoActivo.copago/100),a.next=10,t.getValorUsuarioTopes(t.valorUsuario);case 10:t.valorUsuario=a.sent,a.next=29;break;case 13:if("Copago"!==t.tipoValorPermitido){a.next=28;break}if(!t.okChecks){a.next=18;break}t.valorUsuario=0,a.next=26;break;case 18:if(1!==t.item.autorizacion.afiliado.as_tipafiliado_id){a.next=22;break}t.valorUsuario=0,a.next=26;break;case 22:return t.valorUsuario=t.valorTotal*(t.rangoActivo.copago/100),a.next=25,t.getValorUsuarioTopes(t.valorUsuario);case 25:t.valorUsuario=a.sent;case 26:a.next=29;break;case 28:t.valorUsuario=t.valorTotal*(t.rangoActivo.cuota_moderadora/100);case 29:a.next=32;break;case 31:t.valorUsuario=0;case 32:t.valorEPS=t.valorTotal-t.valorUsuario;case 33:case"end":return a.stop()}},a,t)}))()},getValorUsuarioTopes:function(t){var a=JSON.parse(o()(t));a=a>this.rangoActivo.limite_evento?this.rangoActivo.limite_evento:a;var i=a+this.item.autorizacion.afiliado.total_autorizado-this.rangoActivo.limite_anio;return a=i>0?a-i:a},reloadDetail:function(t){t.valorTotal=t.cantidad_aprobada*t.valor,this.valorTotal=this.getValorTotal()},getTotalAutorizado:function(){var t=this;return new r.a(function(a){t.axios.get("afiliados/"+t.item.autorizacion.afiliado.id+"?copago_anual=1").then(function(t){""!==t.data&&a(t.data.data.copago_anual)}).catch(function(i){a(0),t.$store.commit(f.a,{expression:" al traer el valor autorizado anual del afiliado. ",error:i})})})},getCuotaCopagos:function(){var t=this;return new r.a(function(a){t.axios.get("cuotacopagos").then(function(t){""!==t.data&&a(t.data.data)}).catch(function(i){a(!1),t.$store.commit(f.a,{expression:" al traer los registros activos de cuotas y copagos. ",error:i})})})},getData:function(){var t=this;return u()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.loading=!0,t.axios.get("autsolicitudes/"+t.parametros.entidad.id).then(function(a){""!==a.data&&(a.data.data.detalles.forEach(function(t){t.valorTotal=t.cantidad_aprobada&&t.valor?t.cantidad_aprobada*t.valor:0,t.status=!0}),t.orden_medica=a.data.data.autorizacion.orden_medica?a.data.data.autorizacion.orden_medica.nombre:null,t.historia_clinica=a.data.data.autorizacion.historia_clinica?a.data.data.autorizacion.historia_clinica.nombre:null,t.item=a.data.data,t.loading=!1)}).catch(function(a){t.loading=!1,t.$store.commit(f.a,{expression:" al traer los datos de la solicitud de autorización. ",error:a})});case 2:case"end":return a.stop()}},a,t)}))()},guardarConfirmar:function(){var t=this;return u()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.validado();case 2:if(!a.sent){a.next=5;break}t.dialogA.content="Si decide Aceptar, el formulario se procesará y no podrá editar estos datos.",t.dialogA.visible=!0;case 5:case"end":return a.stop()}},a,t)}))()},cancelaConfirmacion:function(){this.dialogA.visible=!1,this.dialogA.content=null},aceptaConfirmacion:function(){var t=this;return u()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.item.estado="Confirmada",a.next=3,t.submit();case 3:t.cancelaConfirmacion();case 4:case"end":return a.stop()}},a,t)}))()},validado:function(){var t=this;return u()(l.a.mark(function a(){var i,e;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$validator.validateAll();case 2:return i=a.sent,e=t.item.detalles.length,e||t.$store.commit(f.b,{msg:"La solicitud de autorización debe tener al menos un item.",color:"warning"}),a.abrupt("return",i&&e&&!t.calculoPagoError);case 6:case"end":return a.stop()}},a,t)}))()},submit:function(){var t=this;return u()(l.a.mark(function a(){var i,e;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.validado();case 2:if(!a.sent){a.next=9;break}t.loading=!0,i=t.item.id?"editar":"crear",e="editar"===i?t.axios.put("autorizaciones/"+t.item.id,t.item):t.axios.post("autorizaciones",t.item),e.then(function(a){console.log("response autorización",a),t.item=a.data.item,t.$store.commit(v.i,{item:a.data.item_o,estado:i,key:t.parametros.key}),t.loading=!1}).catch(function(a){t.loading=!1,t.$store.commit(f.a,{expression:"al guardar el registro de la autorización.",error:a})}),a.next=10;break;case 9:t.item.estado="Registrada";case 10:case"end":return a.stop()}},a,t)}))()}}}},1876:function(t,a,i){var e=i(1877);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i(456)("0c200921",e,!0,{})},1877:function(t,a,i){a=t.exports=i(455)(!0),a.push([t.i,".table-detalle-solicitud table tbody td input{text-align:center!important}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/misional/atencionUsuario/solicitudesAutorizacion/DetalleSolicitudAutorizacion.vue"],names:[],mappings:"AACA,8CACE,2BAA8B,CAC/B",file:"DetalleSolicitudAutorizacion.vue",sourcesContent:["\n.table-detalle-solicitud table tbody td input{\n  text-align: center !important;\n}\n"],sourceRoot:""}])},1878:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-card",[i("loading",{model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}}),t._v(" "),i("v-toolbar",{staticClass:"elevation-0",attrs:{dense:""}},[i("v-icon",[t._v("assignment_late")]),t._v(" "),i("v-toolbar-title",[t._v("Detalle solicitud de autorización")]),t._v(" "),i("v-spacer"),t._v(" "),t.item?i("v-chip",{attrs:{label:"",color:"white","text-color":"red",dark:"",absolute:"",right:"",top:""}},[i("span",{staticClass:"subheading"},[t._v("Consecutivo N°")]),t._v(" \n      "),i("span",{staticClass:"subheading",domProps:{textContent:t._s(null==t.item.consecutivo?"0000":t.item.consecutivo)}})]):t._e(),t._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",flat:"",icon:"",large:"",color:"blue-grey"},on:{click:function(a){return a.stopPropagation(),t.imprimir(a)}},slot:"activator"},[i("v-icon",{attrs:{large:""},domProps:{textContent:t._s("far fa-file-pdf")}})],1),t._v(" "),i("span",[t._v("Imprimir solicitud")])],1)],1),t._v(" "),t.item?i("v-container",{attrs:{fluid:"","grid-list-sm":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-expansion-panel",{staticClass:"v-expansion-panel-pi"},[i("v-expansion-panel-content",[i("div",{staticClass:"pa-0",attrs:{slot:"header"},slot:"header"},[i("v-toolbar",{staticClass:"elevation-0",attrs:{dense:"",color:"rgba(0, 0, 0, 0)"}},[i("v-icon",[t._v("list_alt")]),t._v(" "),i("v-toolbar-title",[t._v("Información base")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",flat:"",icon:"",large:"",color:"blue-grey"},on:{click:function(a){a.stopPropagation(),t.$store.commit("NAV_ADD_ITEM",{ruta:"detalleAutorizacion",titulo:"Detalle autorización",parametros:{entidad:{id:t.item.autorizacion.id},tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}},slot:"activator"},[i("v-icon",{attrs:{"x-large":""},domProps:{textContent:t._s("more_horiz")}})],1),t._v(" "),i("span",[t._v("Ver autorización base")])],1)],1)],1),t._v(" "),i("v-divider"),t._v(" "),i("v-card",[i("v-card-text",[i("v-layout",{attrs:{row:"",wrap:""}},[i("input-detail-flex",{attrs:{"flex-class":"xs12 sm8 md9",label:"Afiliado",text:t.item.autorizacion.afiliado.nombre_completo,hint:t.item.autorizacion.afiliado.identificacion_completa,"prepend-icon":"person",suffix:"Estado: "+t.item.autorizacion.afiliado.estado_afiliado.codigo+" - "+t.item.autorizacion.afiliado.estado_afiliado.nombre,"append-button":{tooltip:"ver detalle",icon:"more_horiz",color:"blue-grey"}},on:{clickAppend:function(a){t.$store.commit("NAV_ADD_ITEM",{ruta:"detalleGeneralAfiliado",titulo:"Detalle afiliado",parametros:{entidad:t.item.autorizacion.afiliado,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm4 md3",label:"Regimen",text:t.item.autorizacion.afiliado.regimen.codigo+" - "+t.item.autorizacion.afiliado.regimen.nombre}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12",label:"CIE10 Principal",text:t.item.autorizacion.cie10_principal.descripcion,hint:t.item.autorizacion.cie10_principal.codigo,"prepend-icon":"local_hospital"}}),t._v(" "),t.item.autorizacion.cie10_rel1?i("input-detail-flex",{attrs:{"flex-class":"xs12",label:"CIE10 Secundario",text:t.item.autorizacion.cie10_rel1.descripcion,hint:t.item.autorizacion.cie10_rel1.codigo,"prepend-icon":"queue"}}):t._e(),t._v(" "),t.item.autorizacion.cie10_rel2?i("input-detail-flex",{attrs:{"flex-class":"xs12",label:"CIE10 Terciario",text:t.item.autorizacion.cie10_rel2.descripcion,hint:t.item.autorizacion.cie10_rel2.codigo,"prepend-icon":"queue"}}):t._e(),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md8",label:"IPS Origen",text:t.item.autorizacion.entidad_origen.nombre,hint:t.item.autorizacion.entidad_origen.tercero.identificacion_completa,"prepend-icon":"location_city"}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4",label:"Tipo Origen",text:t.item.autorizacion.tipo_origen}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md8",label:"IPS Destino",text:t.item.autorizacion.contrato.entidad.nombre,hint:"Contrato No. "+t.item.autorizacion.contrato.numero_contrato,"prepend-icon":"location_city"}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4",label:"Tipo Destino",text:t.item.autorizacion.tipo_destino}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md8",label:"Servicio",text:t.serviciosContratados&&t.item.autorizacion.rs_servicio_id&&t.serviciosContratados.find(function(a){return a.id===t.item.autorizacion.rs_servicio_id})&&t.serviciosContratados.find(function(a){return a.id===t.item.autorizacion.rs_servicio_id}).servicio.codigo+" - "+t.serviciosContratados.find(function(a){return a.id===t.item.autorizacion.rs_servicio_id}).servicio.nombre}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4",label:"Modalidad servicio",text:t.complementos&&t.complementos.modalidadesServicio&&t.item.autorizacion.au_modservicio_id&&t.complementos.modalidadesServicio.find(function(a){return a.id===t.item.autorizacion.au_modservicio_id})&&t.complementos.modalidadesServicio.find(function(a){return a.id===t.item.autorizacion.au_modservicio_id}).codigo+" - "+t.complementos.modalidadesServicio.find(function(a){return a.id===t.item.autorizacion.au_modservicio_id}).tipo,hint:t.complementos&&t.complementos.modalidadesServicio&&t.item.autorizacion.au_modservicio_id&&t.complementos.modalidadesServicio.find(function(a){return a.id===t.item.autorizacion.au_modservicio_id})&&t.complementos.modalidadesServicio.find(function(a){return a.id===t.item.autorizacion.au_modservicio_id}).modalidad}}),t._v(" "),i("v-flex",{attrs:{dflex:""}},[i("v-checkbox",{attrs:{readonly:"",label:"Alto costo","false-value":0,"true-value":1},model:{value:t.item.autorizacion.alto_costo,callback:function(a){t.$set(t.item.autorizacion,"alto_costo",a)},expression:"item.autorizacion.alto_costo"}})],1),t._v(" "),i("v-flex",{attrs:{dflex:""}},[i("v-checkbox",{attrs:{readonly:"",label:"P y P","false-value":0,"true-value":1},model:{value:t.item.autorizacion.pyp,callback:function(a){t.$set(t.item.autorizacion,"pyp",a)},expression:"item.autorizacion.pyp"}})],1),t._v(" "),i("v-flex",{attrs:{dflex:""}},[i("v-checkbox",{attrs:{readonly:"",label:"Atención materna","false-value":0,"true-value":1},model:{value:t.item.autorizacion.atencion_materna,callback:function(a){t.$set(t.item.autorizacion,"atencion_materna",a)},expression:"item.autorizacion.atencion_materna"}})],1),t._v(" "),i("v-flex",{attrs:{dflex:""}},[i("v-checkbox",{attrs:{readonly:"",label:"Enfermedad trasmisible","false-value":0,"true-value":1},model:{value:t.item.autorizacion.enfermedad_trasmisible,callback:function(a){t.$set(t.item.autorizacion,"enfermedad_trasmisible",a)},expression:"item.autorizacion.enfermedad_trasmisible"}})],1),t._v(" "),i("v-flex",{attrs:{dflex:""}},[i("v-checkbox",{attrs:{readonly:"",label:"Catastrofe","false-value":0,"true-value":1},model:{value:t.item.autorizacion.catastrofe,callback:function(a){t.$set(t.item.autorizacion,"catastrofe",a)},expression:"item.autorizacion.catastrofe"}})],1),t._v(" "),t.tutelas.length?i("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[i("v-layout",{attrs:{"align-center":"","fill-height":""}},[i("v-flex",{attrs:{xs1:"",dflex:""}},[i("v-checkbox",{attrs:{readonly:"",label:t.marcaTutela?"":"Tutela"},model:{value:t.marcaTutela,callback:function(a){t.marcaTutela=a},expression:"marcaTutela"}})],1),t._v(" "),i("input-detail-flex",{attrs:{label:"Tutela",text:t.tutelas&&t.item.autorizacion.oj_tutela_id&&t.tutelas.find(function(a){return a.id===t.item.autorizacion.oj_tutela_id})&&t.tutelas.find(function(a){return a.id===t.item.autorizacion.oj_tutela_id}).no_tutela+" - "+t.tutelas.find(function(a){return a.id===t.item.autorizacion.oj_tutela_id}).tipo_tutela,hint:t.tutelas&&t.item.autorizacion.oj_tutela_id&&t.tutelas.find(function(a){return a.id===t.item.autorizacion.oj_tutela_id})&&"Fecha notificación: "+t.tutelas.find(function(a){return a.id===t.item.autorizacion.oj_tutela_id}).fecha_notificacion+" | Estado actual: "+t.tutelas.find(function(a){return a.id===t.item.autorizacion.oj_tutela_id}).estado,"append-button":{tooltip:"ver detalle",icon:"more_horiz",color:"blue-grey"}},on:{clickAppend:function(a){t.$store.commit("NAV_ADD_ITEM",{ruta:"detalleTutela",titulo:"Detalle tutela",parametros:{entidad:{id:t.item.autorizacion.oj_tutela_id},tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}}})],1)],1):t._e(),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Observaciones",text:t.item.autorizacion.observaciones}})],1)],1)],1)],1)],1)],1),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm12 "+(t.item.anexo3?"md12":"md6"),label:"Afiliado",text:t.item.autorizacion.afiliado.nombre_completo,hint:t.item.autorizacion.afiliado.identificacion_completa,"prepend-icon":"person",suffix:"Estado: "+t.item.autorizacion.afiliado.estado_afiliado.codigo+" - "+t.item.autorizacion.afiliado.estado_afiliado.nombre,"append-button":{tooltip:"ver detalle",icon:"more_horiz",color:"blue-grey"}},on:{clickAppend:function(a){t.$store.commit("NAV_ADD_ITEM",{ruta:"detalleGeneralAfiliado",titulo:"Detalle afiliado",parametros:{entidad:t.item.autorizacion.afiliado,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Fecha solicitud",text:t.moment(t.item.fecha).format("DD/MM/YYYY  HH:mm"),"prepend-icon":"event"}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Estado",text:t.item.estado}}),t._v(" "),t.item.anexo3?i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Cama",text:t.item.cama}}):t._e(),t._v(" "),t.item.anexo3?i("input-detail-flex",{attrs:{"flex-class":"xs12 sm12 md12",label:"Justificación clínica",text:t.item.justificacion_clinica}}):t._e(),t._v(" "),[t.item.anexo3?t._e():i("input-detail-flex",{attrs:{"flex-class":"xs12 sm7 md9",label:"Orden Médica","prepend-icon":"description",text:t.item.autorizacion.orden_medica.nombre,hint:"Extenciones aceptadas: pdf","append-button":{tooltip:"Ir al archivo",icon:"link",color:"blue-grey"}},on:{clickAppend:function(a){return t.goRuta(t.item.autorizacion.orden_medica.url_signed)}}}),t._v(" "),t.item.anexo3?t._e():i("input-detail-flex",{attrs:{"flex-class":"xs12 sm5 md3",label:"Fecha orden médica","prepend-icon":"event",text:t.item.autorizacion.fecha_orden}}),t._v(" "),i("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Historia Clínica","prepend-icon":"description",text:t.item.autorizacion.historia_clinica.nombre,hint:"Extenciones aceptadas: pdf","append-button":{tooltip:"Ir al archivo",icon:"link",color:"blue-grey"}},on:{clickAppend:function(a){return t.goRuta(t.item.autorizacion.historia_clinica.url_signed)}}})]],2),t._v(" "),i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-card",[i("v-toolbar",{staticClass:"elevation-0",attrs:{dense:""}},[i("v-icon",[t._v("assignment")]),t._v(" "),i("v-toolbar-title",[t._v("Items de la solicitud de autorización")])],1),t._v(" "),i("v-data-table",{staticClass:"elevation-1 table-detalle-solicitud",attrs:{headers:t.headersDetails,items:t.item.detalles,"hide-actions":"","no-data-text":"No hay detalles registrados"},scopedSlots:t._u([{key:"headers",fn:function(a){return[i("tr",t._l(a.headers,function(a,e){return 0!==e||0===e&&null!==t.calculoPagoError?i("th",{key:a.text,class:a.align?"text-xs-"+a.align:"text-xs-left"},[t._v("\n                  "+t._s(a.text)+"\n                ")]):t._e()}),0)]}},{key:"items",fn:function(a){return[null!==t.calculoPagoError?i("td",{staticClass:"text-xs-center",attrs:{width:"20px"}},[i("v-tooltip",{attrs:{top:""}},[i("v-icon",{attrs:{slot:"activator",color:a.item.status?"success":"error"},on:{click:function(t){}},slot:"activator"},[t._v(t._s(a.item.status?"verified_user":"warning"))]),t._v(" "),i("span",[t._v(t._s(a.item.status?"OK":"En conflicto"))])],1)],1):t._e(),t._v(" "),i("td",[t._v("\n                "+t._s(a.item.rs_cum_id?"Medicamento":a.item.rs_cups_id?"Procedimiento":"Otro")+"\n                ")]),t._v(" "),i("td",[t._v(t._s(a.item.codigo))]),t._v(" "),i("td",[t._v(t._s(a.item.descripcion))]),t._v(" "),i("td",{staticClass:"text-xs-center",attrs:{width:"200px"}},[t._v(t._s(a.item.cantidad_solicitada))]),t._v(" "),i("td",{staticClass:"text-xs-center",attrs:{width:"200px"}},[t._v(t._s(a.item.cantidad_aprobada))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s("$")+t._s(t._f("numberFormat")(a.item.valor,2)))]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v(t._s("$")+t._s(t._f("numberFormat")(a.item.valorTotal,2)))])]}}],null,!1,806170677)},[t._v(" "),t._v(" "),i("template",{slot:"footer"},[t.calculoPagoError?[i("tr",[i("td",{staticClass:"text-xs-center",attrs:{colspan:t.calculoPagoError?t.headersDetails.length:t.headersDetails.length-1}},[i("v-alert",{attrs:{value:!0,type:"error"}},[t.calculoPagoError?i("span",[t._v(t._s(t.calculoPagoError))]):t._e()])],1)])]:[i("tr",[i("td",{staticClass:"text-xs-right",attrs:{colspan:t.headersDetails.length-2}},[i("strong",[t._v("Valor EPS")])]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v("\n                    "+t._s("$")+t._s(t._f("numberFormat")(t.valorEPS,2))+"\n                  ")])]),t._v(" "),i("tr",[i("td",{staticClass:"text-xs-right",attrs:{colspan:t.headersDetails.length-2}},[i("strong",[t._v("Valor Usuario")])]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v("\n                    "+t._s("$")+t._s(t._f("numberFormat")(t.valorUsuario,2))+"\n                  ")])])],t._v(" "),i("tr",[i("td",{staticClass:"text-xs-right",attrs:{colspan:t.headersDetails.length-2}},[i("strong",[t._v("TOTAL")])]),t._v(" "),i("td",{staticClass:"text-xs-right"},[t._v("\n                  "+t._s("$")+t._s(t._f("numberFormat")(t.valorTotal,2))+"\n                ")])])],2)],2)],1)],1),t._v(" "),t.item.anexo3?i("input-detail-flex",{attrs:{"flex-class":"xs12 sm12 md12",label:"Nombre Solicita",text:t.item.nombre_solicita}}):t._e(),t._v(" "),t.item.anexo3?i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md6",label:"Teléfono Solicita",text:t.item.telefono_solicita}}):t._e(),t._v(" "),t.item.anexo3?i("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md6",label:"Cargo Solicita",text:t.item.cargo_solicita}}):t._e(),t._v(" "),"Negada"===t.item.estado?i("v-flex",{attrs:{xs12:""}},[i("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"auto-grow":"",label:"Justificación de negación",rows:"1",name:"Justificación de negación","error-messages":t.errors.collect("Justificación de negación")},model:{value:t.item.justificacion_negacion,callback:function(a){t.$set(t.item,"justificacion_negacion",a)},expression:"item.justificacion_negacion"}})],1):t._e()],1),t._v(" "),i("confirmar",{attrs:{value:t.dialogA.visible,content:t.dialogA.content,"requiere-motivo":!1},on:{cancelar:t.cancelaConfirmacion,aceptar:t.aceptaConfirmacion}})],1):t._e(),t._v(" "),i("v-divider")],1)},o=[],n={render:e,staticRenderFns:o};a.a=n},564:function(t,a,i){"use strict";function e(t){i(1876)}Object.defineProperty(a,"__esModule",{value:!0});var o=i(1088),n=i(1878),r=i(1),s=e,l=r(o.a,n.a,!1,s,null,null);a.default=l.exports}});
//# sourceMappingURL=105.b90c02dea10822224782.js.map