webpackJsonp([77],{1363:function(e,t,a){"use strict";var n=a(249),i=a.n(n),o=a(13),r=a.n(o),c=a(14),s=a.n(c),l=a(247),u=a(60),d=a(743),v=a(12);t.a={name:"EnvioPrestaciones",components:{ToolbarList:l.default,DataTable:u.default,Confirmar:d.a},data:function(){return{dialog:!1,envio:{},menuDateFecha:!1,menuDateFecha2:!1,dialogA:{visible:!1,content:null,registroID:null},dataTableIncapacidad:{nameItemState:"itemEnvioPrestacion",route:"envioprestacion",optionsPerPage:[{text:15,value:15},{text:50,value:50},{text:100,value:100}],makeHeaders:[{text:"Envio 2.7",align:"left",sortable:!1,value:"consecutivo_envio"},{text:"Pago Inicio",align:"left",sortable:!1,value:"pago_inicio"},{text:"Pago Fin",align:"left",sortable:!1,value:"pago_fin"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Cantidad Registros",align:"left",sortable:!1,value:"cantidad_prestaciones"},{text:"Opciones",align:"center",sortable:!1,actions:!0,classData:"justify-center layout px-0"}]}}},methods:{resetOptions:function(e){return e.options=[],e.permisos=this.infoComponent?this.infoComponent:null,this.infoComponent&&this.infoComponent.permisos.agregar&&e.options.push({event:"editar",icon:"edit",tooltip:"Gestionar"}),e},eliminar:function(e){this.dialogA.content="¿Está seguro de eliminar?"},cancelaAnulacion:function(){this.dialogA.visible=!1,this.dialogA.content=null,this.dialogA.registroID=null},confirmaAnulacion:function(e){var t=this;this.axios.delete("empleadosc/eliminar/"+this.dialogA.registroID).then(function(){t.$store.commit(v.b,{msg:"Se elimino el empleado correctamente.",color:"success"}),t.$refs.childComponent.reloadPage(),t.cancelaAnulacion()}).catch(function(e){t.$store.commit(v.a,{expression:" al intentar anular el trámite de afiliación. ",error:e})})},validador:function(e){return this.$validator.validateAll(e).then(function(e){return e})},save:function(){var e=this;return s()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validador("formPago");case 2:if(!t.sent){t.next=8;break}e.dialog=!1,a=e.axios.post("enviaractualizar",e.envio),a.then(function(t){alert("a procesar enviaractualizar"),e.dialog=!1}).catch(function(t){e.$store.commit(v.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}),t.next=9;break;case 8:e.$store.commit(v.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 9:e.formReset();case 10:case"end":return t.stop()}},t,e)}))()},close:function(){this.dialog=!1,this.formReset(),this.$validator.reset()},formReset:function(){this.envio={}},formDate:function(e){if(!e)return null;var t=e.split("-"),a=i()(t,3);return a[0]+"/"+a[1]+"/"+a[2]}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("envioPrestacion")},computedDateFormattedFecha:function(){return this.formDate(this.envio.pago_inicio)},computedDateFormattedFecha2:function(){return this.formDate(this.envio.pago_fin)}}}},2680:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-form",{attrs:{"data-vv-scope":"formPago"}},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[a("span",{staticClass:"title"},[e._v("Envio 2.7 Prestaciones Económicas")])]),e._v(" "),a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menuDateFecha1",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:e.menuDateFecha,callback:function(t){e.menuDateFecha=t},expression:"menuDateFecha"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],ref:"prueba",attrs:{slot:"activator",label:"Pago inicio","prepend-icon":"event",readonly:"",name:"pago inicio","error-messages":e.errors.collect("pago inicio")},slot:"activator",model:{value:e.computedDateFormattedFecha,callback:function(t){e.computedDateFormattedFecha=t},expression:"computedDateFormattedFecha"}}),e._v(" "),a("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(t){e.menuDateFecha=!1},change:function(){var t=e.$validator.errors.items.findIndex(function(e){return"pago inicio"===e.field});e.$validator.errors.items.splice(-1!==t?t:0,-1!==t?1:0)}},model:{value:e.envio.pago_inicio,callback:function(t){e.$set(e.envio,"pago_inicio",t)},expression:"envio.pago_inicio"}})],1),e._v(" "),a("v-menu",{ref:"menuDateFecha2",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:e.menuDateFecha2,callback:function(t){e.menuDateFecha2=t},expression:"menuDateFecha2"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],ref:"prueba",attrs:{slot:"activator",label:"Pago fin","prepend-icon":"event",readonly:"",name:"pago fin","error-messages":e.errors.collect("pago fin")},slot:"activator",model:{value:e.computedDateFormattedFecha2,callback:function(t){e.computedDateFormattedFecha2=t},expression:"computedDateFormattedFecha2"}}),e._v(" "),a("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(t){e.menuDateFecha2=!1},change:function(){var t=e.$validator.errors.items.findIndex(function(e){return"pago fin"===e.field});e.$validator.errors.items.splice(-1!==t?t:0,-1!==t?1:0)}},model:{value:e.envio.pago_fin,callback:function(t){e.$set(e.envio,"pago_fin",t)},expression:"envio.pago_fin"}})],1),e._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"descripcion",attrs:{label:"Descripción",name:"descripcion",required:"","error-messages":e.errors.collect("descripcion")},model:{value:e.envio.descripcion,callback:function(t){e.$set(e.envio,"descripcion",t)},expression:"envio.descripcion"}})],1)],1)],1),e._v(" "),a("v-card-actions",{staticClass:"grey lighten-4"},[a("v-spacer"),e._v(" "),a("v-btn",{on:{click:e.close}},[e._v("Cancelar")]),e._v(" "),a("v-btn",{attrs:{color:"primary",disabled:e.errors.any()},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1),e._v(" "),a("v-card",[a("toolbar-list",{attrs:{info:e.infoComponent,title:"Envio 2.7 Prestaciones Económicas",subtitle:"Registro y gestión",btnplus:"",btnplustitle:"Crear registro",btnplustruncate:""},on:{click:function(t){e.dialog=!0}}}),e._v(" "),a("data-table",{ref:"childComponent",on:{resetOption:function(t){return e.resetOptions(t)}},model:{value:e.dataTableIncapacidad,callback:function(t){e.dataTableIncapacidad=t},expression:"dataTableIncapacidad"}}),e._v(" "),a("confirmar",{attrs:{value:e.dialogA.visible,content:e.dialogA.content},on:{cancelar:e.cancelaAnulacion,aceptar:function(t){return e.confirmaAnulacion(t)}}})],1)],1)},i=[],o={render:n,staticRenderFns:i};t.a=o},737:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1363),i=a(2680),o=a(1),r=o(n.a,i.a,!1,null,null,null);t.default=r.exports},742:function(e,t,a){"use strict";var n=a(13),i=a.n(n),o=a(14),r=a.n(o),c=a(58);t.a={name:"Confirmar",props:{value:{type:Boolean,default:!1},content:{type:String},requiereMotivo:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},components:{Loading:c.default},data:function(){return{loadingSubmit:!1,motivo:null}},watch:{value:function(e){e||(this.motivo=null,this.$validator.reset())}},methods:{submit:function(){var e=this;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(!t.sent){t.next=5;break}e.loadingSubmit=!0,e.$emit("aceptar",e.motivo);case 5:case"end":return t.stop()}},t,e)}))()},pararCarga:function(){this.loadingSubmit=!1}}}},743:function(e,t,a){"use strict";function n(e){a(744)}var i=a(742),o=a(746),r=a(1),c=n,s=r(i.a,o.a,!1,c,"data-v-3773d9ac",null);t.a=s.exports},744:function(e,t,a){var n=a(745);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(456)("0e7a280b",n,!0,{})},745:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Confirmar2.vue",sourceRoot:""}])},746:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{key:"dialogConfirm",attrs:{persistent:"","max-width":"400"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("loading",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),e._v(" "),a("v-card",[a("v-card-text",{staticClass:"title font-weight-light text-xs-center",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-btn",{attrs:{flat:""},on:{click:function(t){return t.stopPropagation(),e.$emit("cancelar")}}},[e._v("Cancelar")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary",loading:e.loadingSubmit},on:{click:function(t){return t.stopPropagation(),e.submit(t)}}},[e._v("Aceptar")])],1)],1)],1)],1)},i=[],o={render:n,staticRenderFns:i};t.a=o}});
//# sourceMappingURL=77.28e3064575d8f20adcc7.js.map