webpackJsonp([241],{1001:function(t,e,n){"use strict";var a=n(13),o=n.n(a),r=n(14),i=n.n(r),s=n(59),c=n(12);e.a={name:"ParametrosTesoreria",inject:{$validator:"$validator"},data:function(){return{active:null,addParametros:!1,currentItem:"tab-generales",isEditingP:!1,message:"",tabParametros:[{name:"Datos Generales",icon:"domain",hrefId:"#tab-generales"},{name:"Datos Contables",icon:"settings",hrefId:"#tab-contable"},{name:"Consecutivos",icon:"layers",hrefId:"#tab-consecutivos"}],configuracion:{id:null,maneja_caja:"No",modificar_fecha_documentos:"No",consecutivos_cheques:"No",concecutivos_recivos_caja:null,mensaje_caja:null,afecta_presupuesto_doc_tesoreria:null,contabiliacion_tasa:null,tipo_tasa:null,tasa:null,tipocaja:null,tipoegreso:null,tipoconsignacion:null,tiponotas:null,tipoinversiones:null,tipoaprovecha:null},complementosFormParametros:{}}},components:{TabParametrosConsecutivos:function(){return n.e(365).then(n.bind(null,1599))},TabParametrosContables:function(){return n.e(364).then(n.bind(null,1603))},TabParametrosGenerales:function(){return n.e(363).then(n.bind(null,1607))},Postulador:function(){return n.e(287).then(n.bind(null,747))}},computed:{complementosFormComDiario:function(){return s.b.getters.complementosFormComDiario}},methods:{complementos:function(){},selectComprobanteCaja:function(t){var e=this.complementosFormComDiario.tipcomdiarios.find(function(e){return e.id===t});this.configuracion.tipocaja=e},selectComprobanteEgreso:function(t){var e=this.complementosFormComDiario.tipcomdiarios.find(function(e){return e.id===t});this.configuracion.tipoegreso=e},selectComprobanteConsignacion:function(t){var e=this.complementosFormComDiario.tipcomdiarios.find(function(e){return e.id===t});this.configuracion.tipoconsignacion=e},selectComprobanteNotas:function(t){var e=this.complementosFormComDiario.tipcomdiarios.find(function(e){return e.id===t});this.configuracion.tiponotas=e},selectComprobanteInversiones:function(t){var e=this.complementosFormComDiario.tipcomdiarios.find(function(e){return e.id===t});this.configuracion.tipoinversiones=e},selectComprobanteAprovecha:function(t){var e=this.complementosFormComDiario.tipcomdiarios.find(function(e){return e.id===t});this.configuracion.tipoaprovecha=e},validador:function(t){return this.$validator.validateAll(t).then(function(t){return t})},submit:function(){var t=this;return i()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.general.validate();case 2:if(!e.sent){e.next=22;break}return e.next=5,t.$refs.contable.validate();case 5:if(!e.sent){e.next=17;break}return e.next=8,t.$refs.consecutivo.validate();case 8:if(!e.sent){e.next=12;break}t.send(),e.next=15;break;case 12:return t.currentItem="tab-consecutivos",t.$store.commit(c.b,{msg:"Existen campos vacíos. ",color:"danger"}),e.abrupt("return",!1);case 15:e.next=20;break;case 17:return t.currentItem="tab-contable",t.$store.commit(c.b,{msg:"Existen campos vacíos. ",color:"danger"}),e.abrupt("return",!1);case 20:e.next=25;break;case 22:return t.currentItem="tab-generales",t.$store.commit(c.b,{msg:"Existen campos vacíos. ",color:"danger"}),e.abrupt("return",!1);case 25:case"end":return e.stop()}},e,t)}))()},send:function(){var t=this;(this.configuracion.id?this.axios.put("ts_parametros/"+this.configuracion.id,this.configuracion):this.axios.post("ts_parametros",this.configuracion)).then(function(e){t.$store.commit(c.b,{msg:"Se "+(t.configuracion.id?"actualizaron los datos":"realizó el registro")+" de los parametros correctamente.",color:"success"}),t.configuracion=e.data.data,t.isEditingP=!1,t.currentItem="tab-generales"}).catch(function(e){t.$store.commit(c.b,{msg:"Hay un error al guardar el registro. "+e.response,color:"danger"})})},close:function(){this.configuracion.id||(this.addParametros=!1)}},mounted:function(){var t=this;this.axios.get("cajas").then(function(e){t.complementosFormParametros.cajas=e.data.data}).catch(function(t){return!1}),this.axios.get("ts_parametros").then(function(e){console.log(e),e.data.exists?(t.addParametros=!0,t.configuracion=e.data.data):(t.addParametros=!1,t.message=e.data.message)}).catch(function(t){return!1})}}},1611:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container-parametros"}},[n("v-card",{staticClass:"transparent elevation-0"},[n("v-toolbar",{staticClass:"grey lighten-3 elevation-1 dense"},[n("v-toolbar-title",{staticClass:"title",domProps:{textContent:t._s("Parámetros De Tesorería")}}),t._v(" "),n("v-spacer"),t._v(" "),t.configuracion.id?n("v-btn",{attrs:{icon:"",color:"white",flat:""},on:{click:function(e){t.isEditingP=!t.isEditingP}}},[n("v-icon",{attrs:{color:"accent"},domProps:{textContent:t._s("edit")}})],1):t._e()],1),t._v(" "),n("v-container",{staticClass:"pa-0 pb-2 pt-1",attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[!1===t.addParametros?n("v-flex",{attrs:{xs12:"",md12:""}},[n("v-alert",{directives:[{name:"show",rawName:"v-show",value:!t.configuracion.id,expression:"!configuracion.id"}],attrs:{value:!0,color:"error",icon:"warning",width:"500px"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-left pt-3",attrs:{xs8:""}},[t._v("\n                "+t._s(t.message)+"\n              ")]),t._v(" "),n("v-flex",{staticClass:"text-xs-right",attrs:{xs4:""}},[n("v-btn",{attrs:{color:"primary",dark:""},domProps:{textContent:t._s("Agregar")},on:{click:function(e){t.addParametros=!t.addParametros}}})],1)],1)],1)],1):t._e(),t._v(" "),t.configuracion.id||t.addParametros?n("v-flex",{attrs:{xs12:""}},[n("v-tabs",{attrs:{color:"cyan",grow:"",dark:"","icons-and-text":""},model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},[n("v-tabs-slider",{attrs:{color:"accent"}}),t._v(" "),t._l(t.tabParametros,function(e,a){return n("v-tab",{key:""+a,attrs:{href:e.hrefId}},[n("span",{domProps:{textContent:t._s(e.name)}}),t._v(" "),n("v-icon",{attrs:{color:"white darken-2"},domProps:{textContent:t._s(e.icon)}})],1)})],2),t._v(" "),n("v-tabs-items",{model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},[n("v-tab-item",{key:"0",attrs:{value:"tab-generales"}},[n("tab-parametros-generales",{ref:"general",attrs:{"is-editing":t.isEditingP},on:{errors:function(e){return t.validTabGeneral=e}},model:{value:t.configuracion,callback:function(e){t.configuracion=e},expression:"configuracion"}})],1),t._v(" "),n("v-tab-item",{key:"1",attrs:{value:"tab-contable"}},[n("tab-parametros-contables",{ref:"contable",attrs:{"is-editing":t.isEditingP},on:{errors:function(e){return t.validTabContable=e}},model:{value:t.configuracion,callback:function(e){t.configuracion=e},expression:"configuracion"}})],1),t._v(" "),n("v-tab-item",{key:"2",attrs:{value:"tab-consecutivos"}},[n("tab-parametros-consecutivos",{ref:"consecutivo",attrs:{"is-editing":t.isEditingP},on:{errors:function(e){return t.validTabConsecutivo=e}},model:{value:t.configuracion,callback:function(e){t.configuracion=e},expression:"configuracion"}})],1)],1)],1):t._e()],1)],1),t._v(" "),n("v-card-actions",{staticClass:"grey lighten-4"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-left",attrs:{xs6:""}},[n("v-btn",{on:{click:function(e){return t.close()}}},[t._v("Cancelar")])],1),t._v(" "),n("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[n("v-slide-y-transition",[0==t.isEditingP&&!t.configuracion.id||!(1!=t.isEditingP||!t.configuracion.id)?n("v-btn",{attrs:{color:"primary"},domProps:{textContent:t._s(t.configuracion.id?"Actualizar":"Registrar")},on:{click:function(e){e.preventDefault(),t.addParametros&&t.submit()}}}):t._e()],1)],1)],1)],1)],1)],1)},o=[],r={render:a,staticRenderFns:o};e.a=r},513:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1001),o=n(1611),r=n(1),i=r(a.a,o.a,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=241.d84a940bee8a2273d96f.js.map