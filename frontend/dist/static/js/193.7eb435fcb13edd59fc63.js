webpackJsonp([193],{1106:function(t,o,a){"use strict";var e=a(7),s=a.n(e),i=a(13),r=a.n(i),n=a(14),l=a.n(n),c=a(58),u=a(12);o.a={name:"RegistroProcesoContractual",props:["parametros"],components:{Loading:c.default},data:function(){return{flagEstudioPrevio:!1,fabMenu:!1,floatMenu:!1,window:0,drawer:!0,procesoContractual:{},loading:!1,loadingSubmit:!1,makeProcesoContractual:{id:null,consecutivo:null,objeto:null,estado:"Registrado",pr_dependencia_id:null,servicios_salud:0,gs_usuario_id:null,estudios_previos:null,contrato:null},items:[{icon:"info",avatarColor:"primary",title:"Información básica",subTitle:"Datos básicos del proceso contractual.",ref:"RDatosBasicos",component:function(){return a.e(312).then(a.bind(null,1922))}},{icon:"verified_user",avatarColor:"success",title:"Estudio previo",subTitle:"Datos estudio previo.",ref:"REstudioPrevio",component:function(){return a.e(311).then(a.bind(null,1930))}}]}},watch:{window:function(t){t&&1===t&&(this.flagEstudioPrevio=!0)},itemContrato:function(t){this.procesoContractual&&this.procesoContractual.id&&t&&t.item&&t.item.ce_procontractuale_id===this.procesoContractual.id&&this.getRegistro(this.procesoContractual.id)}},computed:{infoComponentContratos:function(){return this.$store.getters.getInfoComponent("contratos")},itemContrato:function(){return this.$store.state.tables.itemContrato}},created:function(){this.formReset(),null!==this.parametros.entidad&&null!==this.parametros.entidad.id&&this.getRegistro(this.parametros.entidad.id)},methods:{getRegistro:function(t){var o=this;this.loading=!0,this.axios.get("ce_procontractuales/"+t).then(function(t){t.data&&(t.data.data.estudios_previos&&!t.data.data.estudios_previos.proconminutageos&&(t.data.data.estudios_previos.proconminutageos=[]),o.parametros.copiar&&(t.data.data.id=null,t.data.data.consecutivo=null,t.data.data.estado="Registrado",t.data.data.gs_usuario_id=null,t.data.data.contrato=null,t.data.data.estudios_previos&&(t.data.data.estudios_previos.id=null,t.data.data.estudios_previos.ce_procontractuale_id=null,t.data.data.estudios_previos.consecutivo=null,t.data.data.estudios_previos.pr_solicitud_cp_id=null,t.data.data.estudios_previos.estado="Registrado",t.data.data.estudios_previos.registro=null,t.data.data.estudios_previos.reviso=null,t.data.data.estudios_previos.confirmo=null,t.data.data.estudios_previos.revisado_at=null,t.data.data.estudios_previos.confirmado_at=null)),o.procesoContractual=t.data.data),o.loading=!1}).catch(function(t){o.loading=!1,o.$store.commit(u.a,{expression:" al traer el proceso contractual. ",error:t})})},pdfEstudioPrevio:function(){var t=this;return l()(r.a.mark(function o(){return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.$refs.REstudioPrevio[0].save();case 2:t.filePrint("documento-estudio-previo&id="+t.procesoContractual.id);case 3:case"end":return o.stop()}},o,t)}))()},formReset:function(){this.procesoContractual=JSON.parse(s()(this.makeProcesoContractual))}}}},1920:function(t,o,a){var e=a(1921);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a(456)("229eb415",e,!0,{})},1921:function(t,o,a){o=t.exports=a(455)(!0),o.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroProcesoContractual.vue",sourceRoot:""}])},1938:function(t,o,a){"use strict";var e=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("v-container",{staticClass:"pa-0 ma-0",attrs:{fluid:"","grid-list-md":""}},[a("loading",{model:{value:t.loading,callback:function(o){t.loading=o},expression:"loading"}}),t._v(" "),a("v-slide-x-reverse-transition",{attrs:{mode:"out-in"}},[t.floatMenu?a("v-speed-dial",{key:"btn1",staticClass:"ml-1",attrs:{left:"",direction:"bottom","open-on-hover":"",fixed:""},model:{value:t.fabMenu,callback:function(o){t.fabMenu=o},expression:"fabMenu"}},[a("v-tooltip",{attrs:{slot:"activator",right:""},slot:"activator"},[a("v-btn",{staticClass:"mt-1",attrs:{slot:"activator",color:"blue darken-2",dark:"",fab:""},on:{click:function(o){t.floatMenu=!1}},slot:"activator",model:{value:t.fabMenu,callback:function(o){t.fabMenu=o},expression:"fabMenu"}},[a("v-icon",[t._v("vertical_split")])],1),t._v(" "),a("span",[t._v("Activar menú vertical")])],1),t._v(" "),t._l(t.items,function(o,e){return t.window!==e?a("v-tooltip",{key:e,attrs:{right:""}},[a("v-btn",{class:t.window===e?"elevation-5":"",attrs:{slot:"activator",fab:"",dark:"",small:"",color:o.avatarColor},on:{click:function(o){t.window=e}},slot:"activator"},[a("v-icon",[t._v(t._s(o.icon))])],1),t._v(" "),a("span",[t._v(t._s(o.title))])],1):t._e()})],2):t._e()],1),t._v(" "),a("v-toolbar",{attrs:{dense:!t.procesoContractual.id}},[t.procesoContractual.id&&!t.floatMenu?a("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(o){t.floatMenu=!0}},slot:"activator"},[a("v-icon",{attrs:{color:"accent"}},[t._v("group_work")])],1),t._v(" "),a("span",[t._v("activar menú flotante")])],1):t._e(),t._v(" "),a("v-icon",[t._v("business_center")]),t._v(" "),a("v-toolbar-title",{staticClass:"text-capitalize"},[t._v(t._s(t.procesoContractual.id?"Edición proceso contractual":"Nuevo proceso contractual"))]),t._v(" "),t.procesoContractual.id?[a("v-spacer"),t._v(" "),a("span",{staticClass:"pt-1 text-xs-right"},[a("span",{staticClass:"title text-capitalize"},[t._v("Proceso Contractual")]),t._v(" "),a("p",{staticClass:"mb-0 caption"},[t._v("Estado: "+t._s(t.procesoContractual.estado))])]),t._v(" "),a("v-chip",{attrs:{label:"",color:"white","text-color":"red",dark:"",absolute:"",right:"",top:""}},[a("span",{staticClass:"subheading"},[t._v("N°")]),t._v(" \n        "),a("span",{staticClass:"subheading",domProps:{textContent:t._s(null==t.procesoContractual.consecutivo?"00":t.procesoContractual.consecutivo)}})])]:t._e()],2),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-slide-x-reverse-transition",[t.procesoContractual.id&&!t.floatMenu?a("v-flex",{attrs:{sm12:"",md3:""}},[a("v-card",{staticClass:"content-list-p0"},[a("v-list",{attrs:{"two-line":""}},[t._l(t.items,function(o,e){return[a("v-list-tile",{key:"list"+e,class:t.window===e?"grey lighten-2":"",on:{click:function(o){t.window=e}}},[a("v-list-tile-avatar",{attrs:{color:o.avatarColor}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(o.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                    "+t._s(o.title)+"\n                  ")]),t._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:t._s(o.subTitle)}})],1)],1),t._v(" "),a("v-divider")]})],2),t._v(" "),t.procesoContractual.id&&t.infoComponentContratos&&t.infoComponentContratos.permisos.agregar?a("v-list",{staticClass:"mt-5"},[a("v-list-tile",{on:{click:function(o){t.$store.commit("NAV_ADD_ITEM",{ruta:t.infoComponentContratos.ruta_registro,titulo:t.infoComponentContratos.titulo_registro,parametros:{entidad:t.procesoContractual?t.procesoContractual.contrato:null,procesoContractual:t.procesoContractual,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}}},[a("v-icon",{staticClass:"mr-2",attrs:{color:"grey darken-1"}},[t._v(t._s(t.procesoContractual&&t.procesoContractual.contrato?"link":"add_circle_outline"))]),t._v(" "),a("v-list-tile-title",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.procesoContractual&&t.procesoContractual.contrato?"Ir al contrato":"Crear contrato"))])],1),t._v(" "),t.procesoContractual.id&&t.procesoContractual.estudios_previos&&t.procesoContractual.estudios_previos.id&&t.flagEstudioPrevio&&t.infoComponentContratos&&t.infoComponentContratos.permisos.imprimir?a("v-list-tile",{on:{click:t.pdfEstudioPrevio}},[a("v-icon",{staticClass:"mr-2",attrs:{color:"grey darken-1"}},[t._v("far fa-file-pdf")]),t._v(" "),a("v-list-tile-title",{staticClass:"grey--text text--darken-1"},[t._v("Estudios previo")])],1):t._e(),t._v(" "),t.procesoContractual.id&&t.procesoContractual.estudios_previos&&t.procesoContractual.estudios_previos.id&&"Confirmado"===t.procesoContractual.estudios_previos.estado&&t.infoComponentContratos&&t.infoComponentContratos.permisos.imprimir?a("v-list-tile",{on:{click:function(o){return t.filePrint("certificado-presupuestal&id="+t.procesoContractual.estudios_previos.pr_solicitud_cp_id)}}},[a("v-icon",{staticClass:"mr-2",attrs:{color:"grey darken-1"}},[t._v("far fa-file-pdf")]),t._v(" "),a("v-list-tile-title",{staticClass:"grey--text text--darken-1"},[t._v("Solicitud de CDP")])],1):t._e()],1):t._e()],1)],1):t._e()],1),t._v(" "),a("v-flex",{attrs:{md9:t.procesoContractual.id&&!t.floatMenu}},[a("v-window",{staticClass:"elevation-1",attrs:{vertical:""},model:{value:t.window,callback:function(o){t.window=o},expression:"window"}},t._l(t.items,function(o,e){return a("v-window-item",{key:e,attrs:{lazy:""}},[[a("v-list",{attrs:{"two-line":"",dense:""}},[[a("v-list-tile",[a("v-list-tile-avatar",{attrs:{color:o.avatarColor}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(o.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"subheading",domProps:{innerHTML:t._s(o.title)}}),t._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:t._s(o.subTitle)}})],1)],1),t._v(" "),a("v-divider")]],2),t._v(" "),a(o.component,{ref:o.ref,refInFor:!0,tag:"component",model:{value:t.procesoContractual,callback:function(o){t.procesoContractual=o},expression:"procesoContractual"}})]],2)}),1)],1)],1)],1)},s=[],i={render:e,staticRenderFns:s};o.a=i},582:function(t,o,a){"use strict";function e(t){a(1920)}Object.defineProperty(o,"__esModule",{value:!0});var s=a(1106),i=a(1938),r=a(1),n=e,l=r(s.a,i.a,!1,n,"data-v-5be5314e",null);o.default=l.exports}});
//# sourceMappingURL=193.7eb435fcb13edd59fc63.js.map