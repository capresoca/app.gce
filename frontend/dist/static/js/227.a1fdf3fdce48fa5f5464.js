webpackJsonp([227],{1345:function(e,a,i){"use strict";var n=i(59);a.a={name:"RegistroNominalLiquidacion",props:["parametros"],data:function(){return{nominal:null,minDate:"1900-01-01",maxDate:(new Date).toISOString().substr(0,10),makeData:{descripcion:null,observacion:null,ano:null,mes:null,periodo:null,centro_costo:null,area:null,dependencia:null,fecha:null,estado:null,empresa:0,usuario:null,liquidacion_operador:null,sw_prima:0,sw_interes_cesantia:0,consecutivo_saldo:0,documento_nota:null,cuenta_nomina:null,valor_nomina:0,tipo_nomina:null,fecha_inicio_prima:null,fecha_fin_prima:null}}},created:function(){this.nominal=this.clone(this.makeData)},mounted:function(){null!==this.parametros.entidad&&this.getRegistro(this.parametros.entidad)},computed:{complementosNominales:function(){return n.b.getters.complementosNominales},titulo:function(){return(this.nominal.liquidacion_nomina?"En Edición de la ":"Nueva ")+" Nómina "+(this.nominal.liquidacion_nomina?"#"+this.nominal.liquidacion_nomina:"")},tiposnominas:function(){return[{id:1,nombre:"Normal"}]}},methods:{getRegistro:function(e){var a=this;this.axios.get("talentohumano/nominaliquidaciones/"+e.liquidacion_nomina).then(function(e){a.nominal=e.data.data}).catch(function(e){a.$store.commit("SNACK_ERROR_LIST",{expression:" Error al cargar el registro nominal. ",error:e})})},cancelar:function(){this.$validator.reset(),this.nominal=this.clone(this.makeData),this.$store.commit("reloadTable","tableScNominalLiquidacion")},save:function(){var e=this;this.$validator.validateAll().then(function(a){if(a){(e.nominal.liquidacion_nomina?e.axios.put("talentohumano/nominaliquidaciones/"+e.nominal.liquidacion_nomina,e.nominal):e.axios.post("talentohumano/nominaliquidaciones",e.nominal)).then(function(){e.$store.commit("SNACK_SHOW",{msg:"Se "+(e.nominal.liquidacion_nomina?"actualizo":"registro")+"  la nómina éxitosamente",color:"success"}),e.cancelar()}).catch(function(a){e.$store.commit("SNACK_ERROR_LIST",{expression:" Error al guardar el registro. ",error:a})})}})}}}},2626:function(e,a,i){var n=i(2627);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(456)("06c78938",n,!0,{})},2627:function(e,a,i){a=e.exports=i(455)(!0),a.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroNominalLiquidacion.vue",sourceRoot:""}])},2628:function(e,a,i){"use strict";var n=function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("v-card",[i("toolbar-list",{attrs:{title:e.titulo,subtitle:"Registro y gestión"}}),e._v(" "),i("v-form",{attrs:{"data-vv-scope":"formNominales"}},[i("v-container",{attrs:{fluid:"","grid-list-sm":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[i("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"required|fechaValida:YYYY-MM-DD",expression:"'required|fechaValida:YYYY-MM-DD'"}],attrs:{label:"Fecha (Año-Mes-Día)",format:"YYYY-MM-DD",min:e.minDate,max:e.maxDate,name:"fecha","error-messages":e.errors.collect("fecha")},model:{value:e.nominal.fecha,callback:function(a){e.$set(e.nominal,"fecha",a)},expression:"nominal.fecha"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[i("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"required|fechaValida:YYYY-MM-DD",expression:"'required|fechaValida:YYYY-MM-DD'"}],attrs:{label:"Fecha Inicio (Año-Mes-Día)",format:"YYYY-MM-DD",min:e.minDate,max:e.nominal.fecha_fin_prima,name:"fecha inicio","error-messages":e.errors.collect("fecha inicio")},model:{value:e.nominal.fecha_inicio_prima,callback:function(a){e.$set(e.nominal,"fecha_inicio_prima",a)},expression:"nominal.fecha_inicio_prima"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[i("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"fechaValida:YYYY-MM-DD",expression:"'fechaValida:YYYY-MM-DD'"}],attrs:{label:"Fecha Fin (Año-Mes-Día)",format:"YYYY-MM-DD",min:e.nominal.fecha_inicio_prima,name:"fecha fin","error-messages":e.errors.collect("fecha fin")},model:{value:e.nominal.fecha_fin_prima,callback:function(a){e.$set(e.nominal,"fecha_fin_prima",a)},expression:"nominal.fecha_fin_prima"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[i("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200",expression:"'required|max:200'"}],key:"descripción",attrs:{label:"Descripción",name:"descripción",required:"","error-messages":e.errors.collect("descripción")},model:{value:e.nominal.descripcion,callback:function(a){e.$set(e.nominal,"descripcion",a)},expression:"nominal.descripcion"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[i("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"año",attrs:{label:"Año",name:"año",required:"","error-messages":e.errors.collect("año")},model:{value:e.nominal.ano,callback:function(a){e.$set(e.nominal,"ano",a)},expression:"nominal.ano"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.complementosNominales.cbomeses,"item-value":"id","item-text":"nombre",name:"mes",label:"Mes","error-messages":e.errors.collect("mes"),clearable:""},model:{value:e.nominal.mes,callback:function(a){e.$set(e.nominal,"mes",a)},expression:"nominal.mes"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.complementosNominales.periodosnominales,"item-value":"id","item-text":"nombre",name:"periodo",label:"Periodo","error-messages":e.errors.collect("periodo"),clearable:""},model:{value:e.nominal.periodo,callback:function(a){e.$set(e.nominal,"periodo",a)},expression:"nominal.periodo"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.complementosNominales.cencostos,"item-value":"centro_costo","item-text":"descripcion",name:"centro costo",label:"Centro Costo","error-messages":e.errors.collect("centro costo"),clearable:""},model:{value:e.nominal.centro_costo,callback:function(a){e.$set(e.nominal,"centro_costo",a)},expression:"nominal.centro_costo"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:!e.nominal.centro_costo,items:e.complementosNominales.areas.filter(function(a){return a.centro_costo===e.nominal.centro_costo}),"item-value":"area","item-text":"descripcion",name:"área",label:"Área","error-messages":e.errors.collect("área"),clearable:""},model:{value:e.nominal.area,callback:function(a){e.$set(e.nominal,"area",a)},expression:"nominal.area"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:!e.nominal.area,items:e.complementosNominales.dependencias.filter(function(a){return a.area===e.nominal.area}),"item-value":"dependencia","item-text":"descripcion",name:"dependencia",label:"Dependencia","error-messages":e.errors.collect("dependencia"),clearable:""},model:{value:e.nominal.dependencia,callback:function(a){e.$set(e.nominal,"dependencia",a)},expression:"nominal.dependencia"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.complementosNominales.estadosnominales,"item-value":"id","item-text":"nombre",name:"estado",label:"Estado","error-messages":e.errors.collect("estado"),clearable:""},model:{value:e.nominal.estado,callback:function(a){e.$set(e.nominal,"estado",a)},expression:"nominal.estado"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-switch",{staticClass:"mr-4",attrs:{color:"success",label:"Liquida Prima"},model:{value:e.nominal.sw_prima,callback:function(a){e.$set(e.nominal,"sw_prima",a)},expression:"nominal.sw_prima"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-switch",{staticClass:"mr-4",attrs:{color:"success",label:"Liquida Interés Cesantías"},model:{value:e.nominal.sw_interes_cesantia,callback:function(a){e.$set(e.nominal,"sw_interes_cesantia",a)},expression:"nominal.sw_interes_cesantia"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.tiposnominas,"item-value":"id","item-text":"nombre",name:"tipo nómina",label:"Tipo Nómina","error-messages":e.errors.collect("tipo nómina"),clearable:""},model:{value:e.nominal.tipo_nomina,callback:function(a){e.$set(e.nominal,"tipo_nomina",a)},expression:"nominal.tipo_nomina"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.complementosNominales.operadoresliquidacion,"item-value":"id","item-text":"nombre",name:"operador liquidación",label:"Operador Liquidación","error-messages":e.errors.collect("operador liquidación"),clearable:""},model:{value:e.nominal.liquidacion_operador,callback:function(a){e.$set(e.nominal,"liquidacion_operador",a)},expression:"nominal.liquidacion_operador"}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Observaciones",name:"observaciones","error-messages":e.errors.collect("observaciones"),rows:"1"},model:{value:e.nominal.observacion,callback:function(a){e.$set(e.nominal,"observacion",a)},expression:"nominal.observacion"}})],1)],1)],1)],1),e._v(" "),i("v-card-actions",{staticClass:"grey lighten-3"},[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:""},on:{click:e.cancelar}},[e._v("Cancelar")]),e._v(" "),i("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(a){return a.preventDefault(),e.save(a)}}},[e._v("Guardar")])],1)],1)},o=[],r={render:n,staticRenderFns:o};a.a=r},723:function(e,a,i){"use strict";function n(e){i(2626)}Object.defineProperty(a,"__esModule",{value:!0});var o=i(1345),r=i(2628),t=i(1),s=n,l=t(o.a,r.a,!1,s,"data-v-5d33c10f",null);a.default=l.exports}});
//# sourceMappingURL=227.a1fdf3fdce48fa5f5464.js.map