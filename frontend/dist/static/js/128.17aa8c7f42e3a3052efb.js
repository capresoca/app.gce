webpackJsonp([128],{1133:function(e,a,t){"use strict";var o=t(59),n=t(12);a.a={name:"RelacionesLaborales",components:{DataTable:function(){return new Promise(function(e){e()}).then(t.bind(null,60))}},data:function(){var e=this;return{modal:!1,periodoMora:(new Date).toISOString().substr(0,7),maxDateMora:this.moment().format("YYYY-MM-DD"),minDateMora:this.moment("1900-01-01").format("YYYY-MM-DD"),loadingBtnMorosos:!1,dataTable:{nameItemState:"itemRelacionLaboral",route:"afiliadoaportantes",simplePaginate:!0,optionsPerPage:[{text:15,value:15},{text:50,value:50},{text:100,value:100}],makeHeaders:[{text:"Afiliado",align:"left",sortable:!1,value:"identificacion_afiliado",classData:"",component:{component:{template:'<mini-card-detail :data="value.mini_afiliado"/>',props:["value"]}}},{text:"Identificación aportante",align:"left",sortable:!1,value:"identificacion_aportante",classData:""},{text:"Nombre aportante",align:"left",sortable:!0,value:"nombre_aportante",classData:""},{text:"Fecha vinculación",align:"left",sortable:!0,value:"fecha_vinculacion",classData:""},{text:"IBC",align:"right",sortable:!1,component:{component:{template:"<span>{{'$'}}{{value.ibc | numberFormat(2)}}</span>",props:["value"]}},value:"ibc",classData:"text-xs-right"},{text:"Estado",align:"center",sortable:!0,value:"estado",classData:"text-xs-center"},{text:"Opciones",align:"center",sortable:!1,actions:!0,classData:"justify-center layout px-0"}],filters:[{label:"Estado",type:"v-autocomplete",items:function(){return e.complementos.estadosRelacionesLaborales},vModel:[],multiple:!0,itemText:"text",itemValue:"value",value:"estado",clearable:!0},{label:"Fecha vinculación",type:"v-range",items:{menuDate:!1,type:"date",range:!0,itemMin:{label:"Inicial",vModel:null,clearable:!0,value:"fecha_vinculacion"},itemMax:{menuDate:!1,label:"Final",vModel:null,clearable:!0,value:"fecha_vinculacion"}}}]}}},computed:{complementos:function(){return o.b.getters.complementosTablaRelacionesLaborales},infoComponent:function(){return this.$store.getters.getInfoComponent("relacionesLaborales")}},methods:{descargarMorosos:function(){var e=this;this.$refs.dialog.save(this.periodoMora),this.loadingBtnMorosos=!0,this.axios.get("firmar-ruta?nombre_ruta=relaciones-morosas&csv=1&periodo="+this.periodoMora).then(function(a){""!==a.data&&(window.fileDownload(a.data),e.loadingBtnMorosos=!1)}).catch(function(a){e.loadingBtnMorosos=!1,e.$store.commit(n.a,{expression:" al generar el documento. ",error:a})})},resetOptions:function(e){return e.options=[],this.infoComponent&&this.infoComponent.permisos.ver&&e.options.push({event:"detalle",icon:"find_in_page",tooltip:"Ver detalle"}),e}}}},2012:function(e,a,t){var o=t(2013);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t(456)("27278256",o,!0,{})},2013:function(e,a,t){a=e.exports=t(455)(!0),a.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RelacionesLaborales.vue",sourceRoot:""}])},2014:function(e,a,t){"use strict";var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-card",[t("v-toolbar",{staticClass:"elevation-0",attrs:{dense:""}},[t("v-icon",[e._v(e._s(e.infoComponent?e.infoComponent.icono:""))]),e._v(" "),t("v-toolbar-title",{domProps:{innerHTML:e._s("Relaciones laborales")}}),e._v(" "),t("small",{staticClass:"mt-2 ml-1"},[e._v(" Gestión")]),e._v(" "),t("v-spacer")],1),e._v(" "),t("v-dialog",{ref:"dialog",attrs:{"return-value":e.periodoMora,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(a){e.periodoMora=a},"update:return-value":function(a){e.periodoMora=a}},model:{value:e.modal,callback:function(a){e.modal=a},expression:"modal"}},[t("div",{staticClass:"pt-2 px-3",staticStyle:{"background-color":"#2196f3 !important","border-color":"#2196f3 !important"}},[t("span",{staticClass:"title white--text subheading"},[e._v("Seleccionar periodo")])]),e._v(" "),t("v-date-picker",{attrs:{type:"month",locale:"es",max:e.maxDateMora,min:e.minDateMora},model:{value:e.periodoMora,callback:function(a){e.periodoMora=a},expression:"periodoMora"}},[t("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){e.modal=!1}}},[e._v("Cancelar")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{flat:"",color:"primary"},on:{click:e.descargarMorosos}},[e._v("\n          Generar archivo\n        ")])],1)],1),e._v(" "),t("data-table",{on:{resetOption:function(a){return e.resetOptions(a)},detalle:function(a){return e.$store.commit("NAV_ADD_ITEM",{ruta:"detalleRelacionLaboral",titulo:"Detalle relación laboral",parametros:{entidad:a,tabOrigin:e.$store.state.nav.currentItem.split("tab-")[1]}})}},model:{value:e.dataTable,callback:function(a){e.dataTable=a},expression:"dataTable"}})],1)},n=[],i={render:o,staticRenderFns:n};a.a=i},597:function(e,a,t){"use strict";function o(e){t(2012)}Object.defineProperty(a,"__esModule",{value:!0});var n=t(1133),i=t(2014),l=t(1),r=o,s=l(n.a,i.a,!1,r,"data-v-cab37006",null);a.default=s.exports}});
//# sourceMappingURL=128.17aa8c7f42e3a3052efb.js.map