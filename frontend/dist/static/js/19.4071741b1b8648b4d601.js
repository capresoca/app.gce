webpackJsonp([19,308,309,333],{1064:function(a,e,i){"use strict";var t=i(13),r=i.n(t),o=i(14),n=i.n(o),s=i(7),l=i.n(s),d=i(23),c=i.n(d),u=i(59),m=i(254),f=i(253),v=i(890),p=i(894),_=i(902),h=i(844),x=i(12),b=i(248),g=i(40),A=i(251);e.a={name:"RegistroTraslado",props:["parametros"],components:{InputDate:f.default,InputNumber:m.default,PostuladorV2:function(){return new Promise(function(a){a()}).then(i.bind(null,61))},FormInfoBasicaAfiliado:h.a,RegistroBeneficiarios:_.default,RegistroDecautramites:v.default,RegistroAnetramites:p.default},data:function(){return{detallePagador:function(){return i.e(295).then(i.bind(null,861))},detalleAfiliado:function(){return i.e(290).then(i.bind(null,750))},idAfiliadoValido:null,loadingEndBtn:!1,dialogFinalizar:{show:!1,imprimir:!1,radicar:!1,fechaRadicacion:this.moment().format("YYYY-MM-DD")},maxFecha:this.moment().format("YYYY-MM-DD"),minFecha:"1990-01-01",afitramiteGo:null,traslado:null,valor_traslado:null,makeTraslado:{id:null,consecutivo:null,tipo:"Traslado",tipo_traslado:null,seleccion_tipo_traslado:null,as_afiliado_id:null,ips:null,afiliado:null,afiliado_pagador:{gn_municipio_id:null,arl:null,as_afiliado_id:null,as_arl_id:null,as_formtrasmov_id:null,as_pagadore_id:null,fecha_vinculacion:null,ibc:null,id:null,pagador:null},as_padre_id:null,as_parentesco_id:null,rs_entidade_id:null,as_pagadore_id:null,nf_ciiu_id:null,as_clasecotizante_id:null,as_eps_id:null,eps:null,gn_tipdocidentidad_id:null,identificacion:null,nombre1:null,nombre2:null,fecha_nacimiento:null,gn_sexo_id:null,apellido1:null,apellido2:null,fecha_expedicion:null,estado:"Registrado",fecha_traslado:this.moment().format("YYYY-MM-DD")},value:null,loader:null,validStep:{One:!0,Two:!0,Three:!0,Four:!0,Five:!0},loadingSubmit:!1,stepActual:1,decauttramites:[],filterCiius:function(a,e){var i=function(a){return null!=a?a:""},t=i(a.codigo+" "+a.nombre),r=i(e);return t.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1},tiposTraslado:[0,1,2,3,4,5]}},watch:{"traslado.afiliado.id":function(a){a&&(null===this.traslado.nf_ciiu_id&&(this.traslado.nf_ciiu_id=this.traslado.afiliado.nf_ciiu_id),null===this.traslado.as_clasecotizante_id&&(this.traslado.as_clasecotizante_id=this.traslado.afiliado.as_clasecotizante_id),this.traslado.as_afiliado_id=this.traslado.afiliado.id,this.traslado.afiliado_pagador.as_afiliado_id=this.traslado.afiliado.id,this.traslado.gn_tipdocidentidad_id=this.traslado.afiliado.gn_tipdocidentidad_id,this.traslado.identificacion=this.traslado.afiliado.identificacion,this.traslado.nombre1=this.traslado.afiliado.nombre1,this.traslado.nombre2=this.traslado.afiliado.nombre2,this.traslado.fecha_nacimiento=this.traslado.afiliado.fecha_nacimiento,this.traslado.gn_sexo_id=this.traslado.afiliado.gn_sexo_id,this.traslado.rs_entidade_id=this.traslado.afiliado.rs_entidade_id,this.traslado.gn_municipio_id=this.traslado.afiliado.gn_municipio_id,this.traslado.apellido1=this.traslado.afiliado.apellido1,this.traslado.apellido2=this.traslado.afiliado.apellido2,this.traslado.fecha_expedicion=this.traslado.afiliado.fecha_expedicion)},"traslado.tipo":function(a){this.$refs.postuladorAfiliadoPrincipal&&this.$refs.postuladorAfiliadoPrincipal.focus(),"Traslado"===a&&this.resetAF()}},created:function(){this.refresh()},beforeMount:function(){var a=this;A.a.extend("afiliadoValidoTraslado",{validate:function(e,i){return new c.a(function(i){if(null!==e&&void 0!==e&&""!==e){var t=a.traslado.as_afiliado_id?a.traslado.afiliado&&("Traslado"===a.traslado.tipo?1===a.traslado.afiliado.estado||2===a.traslado.afiliado.estado||4===a.traslado.afiliado.estado||3!==a.traslado.afiliado.estado&&a.traslado.afiliado.id===a.idAfiliadoValido:a.traslado.tipo&&3===a.traslado.afiliado.estado)?{valido:!0,mensaje:null}:{valido:!1,mensaje:"El afiliado seleccionado no es valido para este trámite, su estado debe ser: "+a.complementos.estadosAfiliado.find(function(a){return 1===a.id}).nombre+", "+a.complementos.estadosAfiliado.find(function(a){return 2===a.id}).nombre+", "+a.complementos.estadosAfiliado.find(function(a){return 4===a.id}).nombre+" o "+a.complementos.estadosAfiliado.find(function(a){return 3===a.id}).nombre+" si el trámite esta marcado como movilidad a contributivo."}:{valido:!0,mensaje:null};return i({valid:t.valido,data:{message:t.mensaje}})}})},getMessage:function(a,e,i){return i.message}})},mounted:function(){null!==this.parametros.entidad&&null!==this.parametros.entidad.id&&this.getRegistro(this.parametros.entidad.id)},computed:{complementos:function(){return u.b.getters.complementosFormTraslado},isEditable:function(){return this.traslado&&null!==this.traslado.id}},methods:{resetAF:function(){return this.traslado.afiliado_pagador.as_afiliado_id=this.traslado.as_afiliado_id,this.traslado.afiliado_pagador.arl=null,this.traslado.afiliado_pagador.as_arl_id=null,this.traslado.afiliado_pagador.as_pagadore_id=null,this.traslado.afiliado_pagador.fecha_vinculacion=null,this.traslado.afiliado_pagador.ibc=null,this.traslado.afiliado_pagador.pagador=null,this.$validator.reset(),this.traslado.afiliado_pagador},refresh:function(){this.afitramiteGo=null;var a=null;null!==this.traslado&&(a=this.traslado.tipo_traslado),this.traslado=JSON.parse(l()(this.makeTraslado)),this.traslado.tipo_traslado=a,this.$validator.reset()},getRegistro:function(a){var e=this;this.axios.get("formtrasmov/"+a).then(function(a){""!==a.data&&(null===a.data.data.afiliado_pagador&&(a.data.data.afiliado_pagador=JSON.parse(l()(e.resetAF()))),e.idAfiliadoValido=a.data.data.as_afiliado_id,delete a.data.data.fecha_nacimiento_slash,e.traslado=a.data.data)}).catch(function(a){e.$store.commit(x.a,{expression:" al traer el trámite de traslado. ",error:a})})},goFinalizar:function(){var a=this;return n()(r.a.mark(function e(){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.$validator.validateAll("formStep1");case 2:if(!e.sent){e.next=17;break}return e.next=5,a.$refs.infobasicoafiliado.validate();case 5:if(!e.sent){e.next=13;break}return e.next=8,a.valueClean();case 8:i=e.sent,a.afitramiteGo=i,a.dialogFinalizar.show=!0,e.next=15;break;case 13:a.stepActual="2",a.next();case 15:e.next=19;break;case 17:a.stepActual="1",a.next();case 19:case"end":return e.stop()}},e,a)}))()},finalizar:function(){var a=this;return n()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.loadingEndBtn=!0,a.dialogFinalizar.radicar&&(a.afitramiteGo.estado="Radicado",a.afitramiteGo.fecha_radicacion=a.dialogFinalizar.fechaRadicacion),e.next=4,a.$validator.validateAll();case 4:if(!e.sent){e.next=15;break}return e.next=7,a.submitTramite(a.afitramiteGo);case 7:if(!e.sent){e.next=9;break}a.$store.commit(x.b,{msg:"El trámite de traslado se ha "+("Radicado"===a.afitramiteGo.estado?"radicado":"guardado")+" satisfactoriamente.",color:"success"});case 9:a.dialogFinalizar.show=!1,a.loadingEndBtn=!1,a.$store.dispatch(g.c,{contexto:a,itemId:a.parametros.tabOrigin}),a.dialogFinalizar.imprimir&&a.filePrint("formulario-tramite-traslado&id="+a.traslado.id),e.next=16;break;case 15:a.loadingEndBtn=!1;case 16:case"end":return e.stop()}},e,a)}))()},valueClean:function(){var a=JSON.parse(l()(this.traslado));return delete a.afiliado,delete a.afiliado_pagador.arl,delete a.afiliado_pagador.pagador,delete a.anexos,delete a.beneficiarios,delete a.declaraciones,delete a.eps,delete a.nucleo_familiar,delete a.pagadores,delete a.parentesco,delete a.tipo_identidad,delete a.fecha_nacimiento_slash,a},submitTramite:function(a){var e=this;return n()(r.a.mark(function i(){var t,o;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(console.log("Entra primero",a),t=e.traslado.id?"editar":"crear",void 0===a){i.next=6;break}i.t0=a,i.next=9;break;case 6:return i.next=8,e.valueClean();case 8:i.t0=i.sent;case 9:return o=i.t0,console.log("copy objeto",o),i.abrupt("return",new c.a(function(a){("editar"===t?e.axios.put("formtrasmov/"+o.id,o):e.axios.post("formtrasmov",o)).then(function(i){null===i.data.formtrasmov.afiliado_pagador&&(i.data.formtrasmov.afiliado_pagador=JSON.parse(l()(e.resetAF()))),e.idAfiliadoValido=i.data.formtrasmov.as_afiliado_id,e.traslado=i.data.formtrasmov,e.$store.commit(b._27,{item:i.data.formtrasmov_o,estado:t,key:e.parametros.key}),e.$store.commit("reloadTable","tableItemTrasladosAfiliados"),a(!0)}).catch(function(i){e.$store.commit(x.a,{expression:" al guardar el registro del trámite de traslado. ",error:i}),e.loader&&e.loader.hide(),a(!1)})}));case 12:case"end":return i.stop()}},i,e)}))()},showLoaderStep:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stepLoading";this.loader=this.$loading.show({container:this.$refs[a].$el})},next:function(){var a=this;return n()(r.a.mark(function e(){var i,t,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.stepActual=parseInt(a.stepActual),a.showLoaderStep(),e.t0=a.stepActual,e.next=1===e.t0?5:2===e.t0?19:3===e.t0?39:4===e.t0?42:45;break;case 5:return e.next=7,a.$validator.validateAll("formStep1");case 7:if(!e.sent){e.next=16;break}return a.validStep.One=!0,e.next=11,a.submitTramite();case 11:if(!e.sent){e.next=14;break}a.stepActual++,a.loader.hide();case 14:e.next=18;break;case 16:a.validStep.One=!1,a.loader.hide();case 18:return e.abrupt("break",45);case 19:return e.next=21,a.$refs.infobasicoafiliado.validate();case 21:return i=e.sent,e.next=24,a.$validator.validateAll("formRelacionAportante");case 24:if(t=e.sent,!i||!t){e.next=36;break}return a.validStep.Two=!0,o=a.traslado.tipo_traslado,e.next=30,a.submitTramite();case 30:if(!e.sent){e.next=33;break}a.stepActual++,a.loader.hide();case 33:a.traslado.tipo_traslado=o,e.next=38;break;case 36:a.validStep.Two=!1,a.loader.hide();case 38:return e.abrupt("break",45);case 39:case 42:return a.stepActual++,a.loader.hide(),e.abrupt("break",45);case 45:case"end":return e.stop()}},e,a)}))()}}}},1787:function(a,e,i){var t=i(1788);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);i(456)("29b80c7d",t,!0,{})},1788:function(a,e,i){e=a.exports=i(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroTraslado.vue",sourceRoot:""}])},1789:function(a,e,i){"use strict";var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("v-card",[i("v-toolbar",{attrs:{dense:""}},[i("v-icon",[a._v("file_copy")]),a._v(" "),i("v-toolbar-title",{domProps:{innerHTML:a._s((a.traslado.id?"Edición de trámite de ":"Nuevo trámite de ")+(a.traslado&&a.traslado.tipo?a.traslado.tipo:"..."))}})],1),a._v(" "),i("v-stepper",{ref:"stepLoading",attrs:{vertical:""},model:{value:a.stepActual,callback:function(e){a.stepActual=e},expression:"stepActual"}},[i("v-stepper-step",{attrs:{editable:a.isEditable,complete:a.stepActual>1,step:"1",rules:[function(){return a.validStep.One}]}},[a._v("\n      Datos básicos\n      "),a.validStep.One?i("small",[a._v("Trámite")]):i("small",[a._v("Hay datos por diligenciar.")])]),a._v(" "),i("v-stepper-content",{attrs:{step:1}},[i("v-card",{attrs:{color:"grey lighten-1"}},[i("v-container",{attrs:{fluid:"","grid-list-xl":""}},[i("v-form",{attrs:{"data-vv-scope":"formStep1"}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm4:"",md2:""}},[i("v-radio-group",{staticClass:"ma-0 pa-0",attrs:{label:"Trámite"},model:{value:a.traslado.tipo,callback:function(e){a.$set(a.traslado,"tipo",e)},expression:"traslado.tipo"}},[i("v-radio",{attrs:{label:"Traslado",value:"Traslado"}}),a._v(" "),i("v-radio",{attrs:{label:"Movilidad a contributivo",value:"Movilidad"}}),a._v(" "),i("v-radio",{attrs:{label:"Movilidad a subsidiado",value:"Subsidiado"}})],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm8:"",md10:""}},[i("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required|afiliadoValidoTraslado:"+a.traslado.tipo,expression:"'required|afiliadoValidoTraslado:' + traslado.tipo"}],ref:"postuladorAfiliadoPrincipal",attrs:{"no-data":"Busqueda por nombre o número de documento.",hint:"identificacion_completa","item-text":"nombre_completo","data-title":"identificacion_completa","data-subtitle":"nombre_completo",label:"Afiliado",detail:a.detalleAfiliado,entidad:"afiliados",preicon:"person",name:"Afiliado","no-btn-create":a.traslado&&"Movilidad"===a.traslado.tipo,rules:"required|afiliadoValidoTraslado:"+a.traslado.tipo,"error-messages":a.errors.collect("Afiliado"),"slot-append":{template:'<span class="pt-2 caption">Estado: {{value.estado_afiliado.codigo}} - {{value.estado_afiliado.nombre}}</span>',props:["value"]},"slot-prepend":a.traslado.afiliado?{template:'<mini-card-detail :data="value.mini_afiliado" alone-icon/>',props:["value"]}:null,"no-btn-edit":""},model:{value:a.traslado.afiliado,callback:function(e){a.$set(a.traslado,"afiliado",e)},expression:"traslado.afiliado"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"EPS a solicitar",items:a.complementos.epss,"item-value":"id","item-text":"nombre",name:"EPS",required:"","error-messages":a.errors.collect("EPS")},model:{value:a.traslado.as_eps_id,callback:function(e){a.$set(a.traslado,"as_eps_id",e)},expression:"traslado.as_eps_id"}})],1),a._v(" "),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:"Movilidad"===a.traslado.tipo,expression:"traslado.tipo === 'Movilidad'"}],attrs:{xs12:"",sm12:"",md6:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Tipo cotizante",items:a.complementos.clasecotizantes,"item-value":"id","item-text":"descripcion",name:"Tipo cotizante",required:"","error-messages":a.errors.collect("Tipo cotizante"),disabled:"Traslado"===a.traslado.tipo,clearable:""},scopedSlots:a._u([{key:"item",fn:function(e){return[[i("v-list-tile-content",{staticClass:"pl-1 pt-0"},[i("v-list-tile-title",{domProps:{innerHTML:a._s(e.item.descripcion)}})],1)]]}}]),model:{value:a.traslado.as_clasecotizante_id,callback:function(e){a.$set(a.traslado,"as_clasecotizante_id",e)},expression:"traslado.as_clasecotizante_id"}})],1),a._v(" "),i("v-flex",{directives:[{name:"show",rawName:"v-show",value:"Movilidad"===a.traslado.tipo,expression:"traslado.tipo === 'Movilidad'"}],attrs:{xs12:"",sm12:"",md12:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Actividad económica",items:a.complementos.ciius,"item-value":"id","item-text":"nombre",name:"Actividad económica",required:"","error-messages":a.errors.collect("Actividad económica"),disabled:"Traslado"===a.traslado.tipo,filter:a.filterCiius},scopedSlots:a._u([{key:"item",fn:function(e){return[[i("v-list-tile-content",{staticClass:"pl-1 pt-0"},[i("v-list-tile-title",{domProps:{innerHTML:a._s(e.item.codigo)}}),a._v(" "),i("v-list-tile-sub-title",{domProps:{innerHTML:a._s(e.item.nombre)}})],1)]]}}]),model:{value:a.traslado.nf_ciiu_id,callback:function(e){a.$set(a.traslado,"nf_ciiu_id",e)},expression:"traslado.nf_ciiu_id"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("v-select",{attrs:{label:"Tipo traslado",items:a.tiposTraslado},on:{change:function(e){a.valor_traslado=a.traslado.tipo_traslado}},model:{value:a.traslado.tipo_traslado,callback:function(e){a.$set(a.traslado,"tipo_traslado",e)},expression:"traslado.tipo_traslado"}})],1)],1)],1)],1)],1),a._v(" "),i("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return a.next(e)}}},[a._v("Siguiente")])],1),a._v(" "),i("v-stepper-step",{attrs:{editable:a.isEditable,complete:a.stepActual>2,step:"2",rules:[function(){return a.validStep.Two}]}},[a._v("\n      Actualización afiliado\n      "),a.validStep.Two?i("small",[a._v("Datos básicos")]):i("small",[a._v("Hay datos por diligenciar.")])]),a._v(" "),i("v-stepper-content",{attrs:{step:2}},[i("v-card",{attrs:{color:"grey lighten-1"}},[i("v-container",{attrs:{fluid:"","grid-list-xl":""}},[i("form-info-basica-afiliado",{ref:"infobasicoafiliado",attrs:{"tipos-identidad":a.complementos.tipdocidentidades},model:{value:a.traslado,callback:function(e){a.traslado=e},expression:"traslado"}}),a._v(" "),i("v-slide-y-transition",[i("v-form",{directives:[{name:"show",rawName:"v-show",value:"Movilidad"===a.traslado.tipo,expression:"traslado.tipo === 'Movilidad'"}],attrs:{"data-vv-scope":"formRelacionAportante"}},[i("v-toolbar",{attrs:{dense:""}},[i("v-icon",[a._v("supervisor_account")]),a._v(" "),i("v-toolbar-title",{domProps:{innerHTML:a._s("Relación con el aportante")}})],1),a._v(" "),i("v-layout",{attrs:{rpw:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"prepend-icon":"location_city",label:"ARL",items:a.complementos.arls,"item-value":"id","item-text":"nombre",name:"ARL",required:"","error-messages":a.errors.collect("ARL"),disabled:"Traslado"===a.traslado.tipo},model:{value:a.traslado.afiliado_pagador.as_arl_id,callback:function(e){a.$set(a.traslado.afiliado_pagador,"as_arl_id",e)},expression:"traslado.afiliado_pagador.as_arl_id"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"required|fechaValida",expression:"'required|fechaValida'"}],attrs:{label:"Fecha vinvulación (Año-Mes-Día)",format:"YYYY-MM-DD",name:"Fecha vinvulación","error-messages":a.errors.collect("Fecha vinvulación"),disabled:"Traslado"===a.traslado.tipo},model:{value:a.traslado.afiliado_pagador.fecha_vinculacion,callback:function(e){a.$set(a.traslado.afiliado_pagador,"fecha_vinculacion",e)},expression:"traslado.afiliado_pagador.fecha_vinculacion"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"IBC",icon:"attach_money",precision:0,name:"IBC","error-messages":a.errors.collect("IBC"),disabled:"Traslado"===a.traslado.tipo},model:{value:a.traslado.afiliado_pagador.ibc,callback:function(e){a.$set(a.traslado.afiliado_pagador,"ibc",e)},expression:"traslado.afiliado_pagador.ibc"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:""}},[i("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por nombre o número de documento.",hint:"identificacion","item-text":"razon_social","data-title":"identificacion","data-subtitle":"razon_social",label:"Aportante",detail:a.detallePagador,entidad:"pagadores",preicon:"person",name:"Aportante",rules:"required","error-messages":a.errors.collect("Aportante"),disabled:"Traslado"===a.traslado.tipo},on:{changeid:function(e){return a.traslado.afiliado_pagador.as_pagadore_id=e}},model:{value:a.traslado.afiliado_pagador.pagador,callback:function(e){a.$set(a.traslado.afiliado_pagador,"pagador",e)},expression:"traslado.afiliado_pagador.pagador"}})],1)],1)],1)],1)],1)],1),a._v(" "),i("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){a.stepActual--}}},[a._v("Anterior")]),a._v(" "),i("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return a.next(e)}}},[a._v("Siguiente")])],1),a._v(" "),i("div",{attrs:{id:"form-beneficiario"}}),a._v(" "),i("v-stepper-step",{attrs:{editable:a.isEditable,complete:a.stepActual>3,step:"3",rules:[function(){return a.validStep.Three}]}},[a._v("\n      Beneficiarios\n      "),a.validStep.Three?i("small",[a._v("Datos de los beneficiarios")]):i("small",[a._v("Hay datos por diligenciar.")])]),a._v(" "),i("v-stepper-content",{attrs:{step:3}},[i("registro-beneficiarios",{attrs:{"root-path":"formtrasmovs"},model:{value:a.traslado,callback:function(e){a.traslado=e},expression:"traslado"}}),a._v(" "),i("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){a.stepActual--}}},[a._v("Anterior")]),a._v(" "),i("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return a.next(e)}}},[a._v("Siguiente")])],1),a._v(" "),i("div",{attrs:{id:"form-anexo"}}),a._v(" "),i("v-stepper-step",{attrs:{editable:a.isEditable,complete:a.stepActual>4,step:"4",rules:[function(){return a.validStep.Four}]}},[a._v("\n      Declaraciones y autorizaciones\n      "),a.validStep.Four?i("small",[a._v("Lista de chequeo")]):i("small",[a._v("Hay datos por diligenciar.")])]),a._v(" "),i("v-stepper-content",{attrs:{step:4}},[i("registro-decautramites",{attrs:{ownerid:a.traslado&&a.traslado.id?a.traslado.id:null,"root-path":"formtrasmovs"},model:{value:a.decauttramites,callback:function(e){a.decauttramites=e},expression:"decauttramites"}}),a._v(" "),i("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){a.stepActual--}}},[a._v("Anterior")]),a._v(" "),i("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return a.next(e)}}},[a._v("Siguiente")])],1),a._v(" "),i("v-stepper-step",{attrs:{editable:a.isEditable,complete:a.stepActual>5,step:"5",rules:[function(){return a.validStep.Five}]}},[a._v("\n      Anexos\n      "),a.validStep.Five?i("small",[a._v("Lista de chequeo")]):i("small",[a._v("Hay datos por diligenciar.")])]),a._v(" "),i("v-stepper-content",{attrs:{step:5}},[i("registro-anetramites",{attrs:{"root-path":"formtrasmovs"},model:{value:a.traslado,callback:function(e){a.traslado=e},expression:"traslado"}}),a._v(" "),i("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){a.stepActual--}}},[a._v("Anterior")]),a._v(" "),i("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return a.goFinalizar(e)}}},[a._v("Finalizar")])],1)],1),a._v(" "),i("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:a.dialogFinalizar.show,callback:function(e){a.$set(a.dialogFinalizar,"show",e)},expression:"dialogFinalizar.show"}},[i("v-card",[i("v-card-title",{staticClass:"grey lighten-3"},[i("span",{staticClass:"title"},[a._v("¿Qué desea hacer?")])]),a._v(" "),i("v-card-text",[i("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs6:""}},[i("v-layout",{attrs:{"align-center":""}},[i("v-checkbox",{staticClass:"shrink mr-2",class:a.dialogFinalizar.radicar?"pb-4":"",attrs:{label:a.dialogFinalizar.radicar?"":"Radicar","hide-details":""},model:{value:a.dialogFinalizar.radicar,callback:function(e){a.$set(a.dialogFinalizar,"radicar",e)},expression:"dialogFinalizar.radicar"}}),a._v(" "),a.dialogFinalizar.radicar?i("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY-MM-DD|date_between:"+a.minFecha+","+a.maxFecha+",true",expression:"'required|date_format:YYYY-MM-DD' + (false ? '' : '|date_between:' + minFecha + ',' + maxFecha + ',true')"}],key:"fechaRadicacionmenu",attrs:{label:"Fecha radicación (Año-Mes-Día)",format:"YYYY-MM-DD",max:a.maxFecha,name:"Fecha radicación","error-messages":a.errors.collect("Fecha radicación")},model:{value:a.dialogFinalizar.fechaRadicacion,callback:function(e){a.$set(a.dialogFinalizar,"fechaRadicacion",e)},expression:"dialogFinalizar.fechaRadicacion"}}):a._e()],1)],1),a._v(" "),i("v-flex",{attrs:{xs6:""}},[i("v-checkbox",{staticClass:"ml-2",attrs:{label:"Imprimir"},model:{value:a.dialogFinalizar.imprimir,callback:function(e){a.$set(a.dialogFinalizar,"imprimir",e)},expression:"dialogFinalizar.imprimir"}})],1)],1)],1)],1),a._v(" "),i("v-divider"),a._v(" "),i("v-card-actions",[i("v-spacer"),a._v(" "),i("v-btn",{attrs:{flat:"",loading:a.loadingEndBtn},on:{click:function(e){a.dialogFinalizar.show=!1}}},[a._v("Cancelar")]),a._v(" "),i("v-btn",{attrs:{color:"primary",flat:"",loading:a.loadingEndBtn},on:{click:a.finalizar}},[a._v("Aceptar")])],1)],1)],1)],1)},r=[],o={render:t,staticRenderFns:r};e.a=o},552:function(a,e,i){"use strict";function t(a){i(1787)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1064),o=i(1789),n=i(1),s=t,l=n(r.a,o.a,!1,s,"data-v-05d77402",null);e.default=l.exports},778:function(a,e,i){"use strict";var t=i(23),r=i.n(t),o=i(59),n=i(251),s=i(12);e.a={name:"FormInfoBasicaAfiliado",props:["value","tiposIdentidad","afitramitern"],components:{},filters:{},data:function(){return{filterMunicipiosExpedicion:function(a,e){var i=function(a){return null!=a?a:""},t=i(a.nombre+" "+a.nombre_departamento),r=i(e);return t.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1},filterTiposIdentidad:function(a,e){var i=function(a){return null!=a?a:""},t=i(a.abreviatura+" "+a.nombre),r=i(e);return t.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1},ips:null,minDateI:"1900-01-01",maxDateI:"",menuDate:!1,menuDatex:!1,minDate:"1900-01-01",maxDate:(new Date).toISOString().substr(0,10),maxDateF:(new Date).toISOString().substr(0,10),maxDateFI:(new Date).toISOString().substr(0,10)}},watch:{value:function(){console.log(this.value),this.$validator.reset()},menuDate:function(a){var e=this;a&&this.$nextTick(function(){return e.$refs.picker.activePicker="YEAR"})},"value.fecha_expedicion":function(a){if(void 0!==a&&null!==a){var e=a,i=e.split("/");this.maxDate=i[2]+"-"+i[1]+"-"+i[0];var t=this.maxDate;this.maxDate=this.moment(t).subtract(this.edad_minima_valida,"months").format("YYYY-MM-DD"),this.maxDateI=this.moment(t).subtract(this.edad_minima_valida,"months").format("DD/MM/YYYY")}},tipo_id:function(a){a&&(console.log(a.edad_minima),this.value.fecha_expedicion||void 0!==this.value.fecha_expedicion||"0000-00-00"!==this.value.fecha_expedicion||null!==this.value.fecha_expedicion||(this.maxDate=this.moment().subtract(a.edad_minima,"months").format("YYYY-MM-DD")),this.minDate=this.moment().subtract(a.edad_maxima,"months").subtract(a.plazo_cambio,"days").format("YYYY-MM-DD"),this.minDateI=this.moment().subtract(a.edad_maxima,"months").subtract(a.plazo_cambio,"days").format("DD/MM/YYYY"),this.maxDateFI=this.moment(this.maxDateF).format("DD/MM/YYYY"))}},beforeMount:function(){var a=this;n.a.extend("uniqueAfiliado",{validate:function(e,i){return new r.a(function(t){null!==e&&void 0!==e&&""!==e&&a.axios.get("afiliados?id="+i[0]+"&identificacion="+e).then(function(a){return t({valid:!(200===a.status&&a.data&&a.data.data&&a.data.data.length&&e!==i[1]),data:{message:"ya se encuentra registrado un afiliado con ésta identificación."}})}).catch(function(e){a.$store.commit(s.a,{expression:" al intentar validar la identificación del afiliado. ",error:e})})})},getMessage:function(a,e,i){return i.message}})},mounted:function(){console.log(this.afitramitern)},computed:{idsTipoIdentidad:function(){var a=[];return this.tiposIdentidad&&this.tiposIdentidad.forEach(function(e){a.push(e.id)}),a},complementos:function(){return o.b.getters.complementosFormInfoBasicaAfiliado},tipo_id:function(){var a=this;return this.complementos.tipdocidentidades&&this.complementos.tipdocidentidades.length&&this.value&&this.value.gn_tipdocidentidad_id?this.complementos.tipdocidentidades.find(function(e){return e.id===a.value.gn_tipdocidentidad_id}):null},longitudDocumento:function(){var a=this;return this.complementos.tipdocidentidades&&this.complementos.tipdocidentidades.length&&this.value&&this.value.gn_tipdocidentidad_id?this.complementos.tipdocidentidades.find(function(e){return e.id===a.value.gn_tipdocidentidad_id}).longitud:null}},methods:{validate:function(){return this.$validator.validateAll()}}}},844:function(a,e,i){"use strict";function t(a){i(845)}var r=i(778),o=i(847),n=i(1),s=t,l=n(r.a,o.a,!1,s,"data-v-fb9b5dd0",null);e.a=l.exports},845:function(a,e,i){var t=i(846);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);i(456)("8c4d331a",t,!0,{})},846:function(a,e,i){e=a.exports=i(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"FormInfoBasicaAfiliado.vue",sourceRoot:""}])},847:function(a,e,i){"use strict";var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Tipo identificación",items:a.complementos&&a.complementos.tipdocidentidades?a.complementos.tipdocidentidades.filter(function(e){return e.id===a.idsTipoIdentidad.find(function(a){return e.id===a})}):null,"item-value":"id","item-text":"nombre",name:"gn_tipocidentidad_id","data-vv-as":"Tipo identificación",required:"","error-messages":a.errors.collect("gn_tipocidentidad_id"),filter:a.filterTiposIdentidad},scopedSlots:a._u([{key:"item",fn:function(e){return[e.item?[i("v-list-tile-content",[i("v-list-tile-title",{domProps:{innerHTML:a._s(e.item.abreviatura)}}),a._v(" "),i("v-list-tile-sub-title",{domProps:{innerHTML:a._s(e.item.nombre)}})],1)]:a._e()]}}]),model:{value:a.value.gn_tipdocidentidad_id,callback:function(e){a.$set(a.value,"gn_tipdocidentidad_id",e)},expression:"value.gn_tipdocidentidad_id"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"uniqueAfiliado:"+(a.value.afiliado?a.value.afiliado.id+","+a.value.afiliado.identificacion:null)+"|required|alpha_num|max:"+a.longitudDocumento,expression:"'uniqueAfiliado:' + (value.afiliado ? value.afiliado.id + ',' + value.afiliado.identificacion : null) + '|required|alpha_num|max:' + longitudDocumento"}],attrs:{label:"Identificación",name:"Identificación",required:"","error-messages":a.errors.collect("Identificación"),maxlength:a.longitudDocumento,counter:a.longitudDocumento},model:{value:a.value.identificacion,callback:function(e){a.$set(a.value,"identificacion",e)},expression:"value.identificacion"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"required|fechaValida:DD/MM/YYYY|date_format:DD/MM/YYYY|date_between:"+a.minDateI+","+a.maxDateFI+",true",expression:"'required|fechaValida:DD/MM/YYYY|date_format:DD/MM/YYYY' + (false ? '' : '|date_between:' + minDateI + ',' + maxDateFI + ',true')"}],attrs:{label:"Fecha expedicion (Día/Mes/Año)",format:"DD/MM/YYYY",name:"Fecha expedicion",min:a.minDate,max:a.maxDateF,"error-messages":a.errors.collect("Fecha expedicion")},model:{value:a.value.fecha_expedicion,callback:function(e){a.$set(a.value,"fecha_expedicion",e)},expression:"value.fecha_expedicion"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"required|fechaValida:DD/MM/YYYY|date_format:DD/MM/YYYY|date_between:"+a.minDateI+","+a.maxDateI+",true",expression:"'required|fechaValida:DD/MM/YYYY|date_format:DD/MM/YYYY' + (false ? '' : '|date_between:' + minDateI + ',' + maxDateI + ',true')"}],attrs:{label:"Fecha nacimiento (Día/Mes/Año)",format:"DD/MM/YYYY",name:"Fecha nacimiento",min:a.minDate,max:a.maxDate,"error-messages":a.errors.collect("Fecha nacimiento")},model:{value:a.value.fecha_nacimiento,callback:function(e){a.$set(a.value,"fecha_nacimiento",e)},expression:"value.fecha_nacimiento"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"value.apellido1",expression:"'value.apellido1'"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Primer apellido",name:"Primer apellido",required:"","error-messages":a.errors.collect("Primer apellido")},model:{value:a.value.apellido1,callback:function(e){a.$set(a.value,"apellido1",e)},expression:"value.apellido1"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"value.apellido2",expression:"'value.apellido2'"}],attrs:{label:"Segundo apellido"},model:{value:a.value.apellido2,callback:function(e){a.$set(a.value,"apellido2",e)},expression:"value.apellido2"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"value.nombre1",expression:"'value.nombre1'"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Primer nombre",name:"Primer nombre",required:"","error-messages":a.errors.collect("Primer nombre")},model:{value:a.value.nombre1,callback:function(e){a.$set(a.value,"nombre1",e)},expression:"value.nombre1"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[i("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"value.nombre2",expression:"'value.nombre2'"}],attrs:{label:"Segundo nombre"},model:{value:a.value.nombre2,callback:function(e){a.$set(a.value,"nombre2",e)},expression:"value.nombre2"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Sexo",items:a.complementos.sexos,"item-value":"id","item-text":"nombre",name:"Sexo",required:"","error-messages":a.errors.collect("Sexo")},model:{value:a.value.gn_sexo_id,callback:function(e){a.$set(a.value,"gn_sexo_id",e)},expression:"value.gn_sexo_id"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por NIT, razon social u código de habilitación.",hint:"identificacion","item-text":"nombre_razon_social","data-title":"identificacion","data-subtitle":"nombre_razon_social",label:"IPS",entidad:"entidades_contrato",preicon:"location_city",name:"ips",rules:"required","error-messages":a.errors.collect("ips"),"route-params":"rs_tipentidade_id=1&afiliado="+(null!==a.value.responsable_id&&void 0!==a.value.responsable_id?a.value.responsable_id:a.value.as_afiliado_id),"no-btn-create":"","min-characters-search":3},on:{changeid:function(e){return a.value.rs_entidade_id=e}},model:{value:a.ips,callback:function(e){a.ips=e},expression:"ips"}})],1)],1)},r=[],o={render:t,staticRenderFns:r};e.a=o},848:function(a,e,i){"use strict";var t=i(12);e.a={name:"RegistroDecautramites",props:["ownerid","value","rootPath"],inject:{$validator:"$validator"},data:function(){return{decauttramites:[]}},components:{},watch:{ownerid:function(a){var e=this;a&&this.axios.get("decautramites/crear?key="+this.property+"&form_id="+a).then(function(a){a.data.forEach(function(a){a.messageError="",a.loading=!1}),e.decauttramites=a.data,e.$emit("input",e.decauttramites)}).catch(function(a){e.$store.commit(t.a,{expression:" al pedir las declaraciones y autorizaciones para éste proceso. ",error:a})})}},computed:{property:function(){switch(this.rootPath){case"formtrasmovs":return"as_formtrasmov_id";case"formafiliaciones":return"as_formafiliacion_id"}}},methods:{submitDecauttramite:function(a){var e=this;this.axios.post("decautramites",a).then(function(a){a.data.declara=parseInt(a.data.declara),a.data.messageError="",a.data.loading=!1,e.decauttramites.splice(e.decauttramites.findIndex(function(e){return e.id===a.data.id}),1,a.data)}).catch(function(a){e.$store.commit(t.a,{expression:" al enviar el archivo. ",error:a})})},onFilePicked:function(a,e){var i=this,t=this.decauttramites.find(function(a){return a.id===e}),r=new FormData;if(r.append("id",t.id),r.append("as_formtrasmov_id","as_formtrasmov_id"===this.property?t[this.property]:""),r.append("as_formafiliacion_id","as_formafiliacion_id"===this.property?t[this.property]:""),r.append("as_declaracione_id",t.as_declaracione_id),r.append("declara",t.declara),t.messageError="",isNaN(a)||0!==a&&(1!==a||"No"!==t.declaracion.anexo))if(isNaN(a)&&"Si"===t.declaracion.anexo){var o=a.target.files;if(o.length)if(void 0!==o[0])if("application/pdf"===o[0].type)if(o[0].name.length<=50){t.loading=!0;var n=new FileReader;n.readAsDataURL(o[0]),n.addEventListener("load",function(){r.append("anexo",o[0]),r.append("nombre_archivo",o[0].name),i.submitDecauttramite(r)})}else t.messageError="El nombre del archivo que desea cargar es muy largo. Longitud permitida => 50 caracteres.";else t.messageError="El anexo no está en formato PDF.";else t.messageError="El anexo no es un archivo válido.";else t.messageError="El anexo es requerido."}else isNaN(a)||"Si"!==t.declaracion.anexo||(t.messageError="El anexo es requerido.");else this.submitDecauttramite(r)}}}},849:function(a,e,i){"use strict";var t=i(13),r=i.n(t),o=i(14),n=i.n(o),s=i(59),l=i(897),d=i(12);e.a={name:"RegistroAnetramites",props:["value","rootPath"],data:function(){return{filtraAnexos:function(a,e){return a=a.filter(function(a){return a.as_afiliado_id===e})},anetramitesPersona:[],paneles:[],personas:[],dialogBorrarAnexo:!1,showFormAnexo:!1,anetramite:null}},components:{RegistroAnetramite:l.a},watch:{"value.anexos":function(a){var e=this;return n()(r.a.mark(function i(){return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!a){i.next=6;break}return i.next=3,e.arrayUnique();case 3:return i.next=5,e.getPersonas();case 5:e.obtenerPaneles();case 6:case"end":return i.stop()}},i,e)}))()},"value.nucleo_familiar.length":function(){var a=this;return n()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.arrayUnique();case 2:return e.next=4,a.getPersonas();case 4:a.obtenerPaneles();case 5:case"end":return e.stop()}},e,a)}))()}},computed:{complementos:function(){return s.b.getters.complementosRegistroAnetramites},property:function(){switch(this.rootPath){case"formtrasmovs":return"as_formtrasmov_id";case"formafiliaciones":return"as_formafiliacion_id"}}},methods:{arrayUnique:function(){var a={};this.anetramitesPersona=this.value.anexos.filter(function(e){var i=!a[e.as_afiliado_id]||!1;return a[e.as_afiliado_id]=!0,i})},obtenerPaneles:function(){var a=this;this.paneles=[],this.anetramitesPersona.forEach(function(){a.paneles.push(!0)})},returnAnexo:function(a){var e=this;return n()(r.a.mark(function i(){var t;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=e.value.anexos.findIndex(function(e){return e.id===a.id}),e.value.anexos.splice(t>=0?t:0,t>=0?1:0,a),e.showFormAnexo=!1;case 3:case"end":return i.stop()}},i,e)}))()},asignarAnexo:function(a){this.showFormAnexo=!0,this.anetramite=a,this.$vuetify.goTo("#form-anexo")},confirmaBorrarAnexo:function(a){this.anetramite=a,this.dialogBorrarAnexo=!0},cancelarBorrarAnexo:function(){var a=this;this.dialogBorrarAnexo=!1,setTimeout(function(){a.anetramite=null},400)},borrarAnexo:function(){var a=this;this.axios.delete("anetramites/"+this.anetramite.id).then(function(e){200===e.status&&(a.value.anexos.splice(a.value.anexos.findIndex(function(e){return e.id===a.anetramite.id}),1),a.cancelarBorrarAnexo())}).catch(function(e){a.$store.commit(d.a,{expression:" al intentar borrar el anexo. ",error:e})})},getPersonas:function(){var a=this;this.personas=[],this.personas.push({tipo:"Principal",item:this.value.afiliado}),this.value.nucleo_familiar.forEach(function(e){a.personas.push({tipo:"Beneficiario",item:e.beneficiario})})}}}},850:function(a,e,i){"use strict";var t=i(13),r=i.n(t),o=i(14),n=i.n(o),s=i(7),l=i.n(s),d=i(59),c=i(12);e.a={props:["afiliados","tramiteid","objeto","property"],name:"RegistroAfitramite",data:function(){return{loader:null,loadingArchivo:!1,errorArchivo:"",hintAfiliado:"",labelAfiliado:"",anetramite:{},afiliado:null,make:{anexo:{nombre:""},as_afiliado_id:null,as_tipanexo_id:null,as_formafiliacion_id:null,as_formtrasmov_id:null,gn_archivo_id:null,gn_tipo_doc_identidades_id:null,id:null}}},watch:{"errors.items":function(a){a.length&&(a.find(function(a){return"Archivo"===a.field})?this.errorArchivo=a.find(function(a){return"Archivo"===a.field}).msg:this.errorArchivo="")},"anetramite.as_afiliado_id":function(a){a&&(this.hintAfiliado=this.afiliados.find(function(e){return e.item.id===a}).item.identificacion_completa,this.labelAfiliado=this.afiliados.find(function(e){return e.item.id===a}).tipo)},objeto:function(a){a?this.asignaObjeto(a):this.reset()}},computed:{complementos:function(){return d.b.getters.complementosFormAnetramite}},beforeMount:function(){this.reset()},mounted:function(){this.objeto&&this.asignaObjeto(this.objeto)},methods:{onFilePicked:function(a){var e=this,i=a.target.files;if(i.length)if(void 0!==i[0])if("application/pdf"===i[0].type||"image/jpeg"===i[0].type||"image/gif"===i[0].type||"image/png"===i[0].type)if(i[0].name.length<=50){this.errorArchivo="",this.loadingArchivo=!0;var t=new FileReader;t.readAsDataURL(i[0]),t.addEventListener("load",function(a){e.loadingArchivo=!1,a.returnValue?(e.anetramite.anexo.nombre=i[0].name,e.anetramite.anexo.anexo=i[0]):e.errorArchivo="El archivo no se ha podido cargar... intentelo nuevamente."})}else this.errorArchivo="El nombre del archivo que desea cargar es muy largo. Longitud permitida => 50 caracteres.";else this.errorArchivo="El archivo no está en formato de imágen o PDF.";else this.errorArchivo="El archivo no es un archivo válido."},asignaObjeto:function(a){this.anetramite=a},reset:function(){this.$validator.reset(),this.anetramite=JSON.parse(l()(this.make))},submit:function(){var a=this;return n()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.$validator.validateAll("formAnetramite").then(function(e){if(e){a.loader=a.$loading.show({container:a.$refs.formAnetramite.$el});var i=new FormData;i.append("anexo",void 0===a.anetramite.anexo.anexo?"":a.anetramite.anexo.anexo),i.append("nombre_archivo",a.anetramite.anexo.nombre),i.append("as_afiliado_id",a.anetramite.as_afiliado_id),i.append("as_tipanexo_id",a.anetramite.as_tipanexo_id),i.append("as_formafiliacion_id","as_formafiliacion_id"===a.property?a.tramiteid:""),i.append("as_formtrasmov_id","as_formtrasmov_id"===a.property?a.tramiteid:""),i.append("id",a.anetramite.id?a.anetramite.id:""),a.axios.post("anetramites",i).then(function(e){e.data.as_afiliado_id=parseInt(e.data.as_afiliado_id),e.data.as_tipanexo_id=parseInt(e.data.as_tipanexo_id),e.data.as_formafiliacion_id=parseInt(e.data.as_formafiliacion_id),e.data.gn_archivo_id=parseInt(e.data.gn_archivo_id),e.data.gn_tipo_doc_identidades_id=parseInt(e.data.gn_tipo_doc_identidades_id),e.data.id=parseInt(e.data.id),a.$emit("submit",e.data),a.loader.hide()}).catch(function(e){a.$store.commit(c.a,{expression:" al registrar el beneficiario. ",error:e}),a.loader.hide()})}});case 1:case"end":return e.stop()}},e,a)}))()}}}},851:function(a,e,i){"use strict";var t=i(12),r=i(905);e.a={name:"RegistroBeneficiarios",props:["value","rootPath"],inject:{$validator:"$validator"},data:function(){return{dialogBorrarBeneficiario:!1,showFormBeneficiario:!1,beneficiario:null}},components:{RegistroBeneficiario:r.a},watch:{showFormBeneficiario:function(a){!1===a&&(this.beneficiario=null)}},computed:{property:function(){switch(this.rootPath){case"formtrasmovs":return"as_formtrasmov_id";case"formafiliaciones":return"as_formafiliacion_id"}}},methods:{asignarBeneficiario:function(a){this.showFormBeneficiario=!0,this.beneficiario=a,this.$vuetify.goTo("#form-beneficiario")},confirmaBorrarBeneficiario:function(a){this.beneficiario=a,this.dialogBorrarBeneficiario=!0},cancelarBorrarBeneficiario:function(){var a=this;this.dialogBorrarBeneficiario=!1,setTimeout(function(){a.beneficiario=null},400)},borrarBeneficiario:function(){var a=this;this.axios.delete("/beneficiarios/"+this.beneficiario.id).then(function(e){if(200===e.status){var i=a.value.nucleo_familiar.findIndex(function(e){return e.id===a.beneficiario.id});a.value.nucleo_familiar.splice(i,1),a.cancelarBorrarBeneficiario()}}).catch(function(e){a.$store.commit(t.a,{expression:" al intentar desvincular el beneficiario. ",error:e})})},returnBeneficiario:function(a){var e=this.value.nucleo_familiar.findIndex(function(e){return e.id===a.id});this.value.nucleo_familiar.splice(-1===e?0:e,-1===e?0:1,a),this.showFormBeneficiario=!1}}}},852:function(a,e,i){"use strict";var t=i(7),r=i.n(t),o=i(23),n=i.n(o),s=i(59),l=i(12),d=i(251);e.a={props:["entidad","afitramiteid","objeto","property","afilliatum"],name:"RegistroBeneficiario",components:{PostuladorV2:function(){return new Promise(function(a){a()}).then(i.bind(null,61))}},data:function(){return{detalleAfiliado:function(){return i.e(290).then(i.bind(null,750))},title:"",loading:!1,nucfamiliar:{},ipsB:{nombre_razon_social:null,identificacion:null},idAfiliadoValido:null,make:{as_beneficiario_id:null,as_formafiliacion_id:null,as_formtrasmov_id:null,as_parentesco_id:null,beneficiario:null,id:null,ips:null,parentesco:null,rs_entidade_id:null,upc:null}}},watch:{objeto:function(a){a?this.asignaObjeto(a):this.reset()}},computed:{complementos:function(){return s.b.getters.complementosFormBeneficiario}},beforeMount:function(){d.a.extend("beneficiarioValido",{validate:function(a){return new n.a(function(e){if(null!==a&&void 0!==a&&""!==a){var i={valido:!0,mensaje:null};return e({valid:i.valido,data:{message:i.mensaje}})}})},getMessage:function(a,e,i){return i.message}})},mounted:function(){console.log(this.entidad,this.afitramiteid,this.objeto,this.property),this.reset(),this.objeto&&this.asignaObjeto(this.objeto)},methods:{asignaObjeto:function(a){this.idAfiliadoValido=JSON.parse(r()(a.beneficiario.id)),this.nucfamiliar=JSON.parse(r()(a))},asignaIPS:function(a){this.nucfamiliar.rs_entidade_id=a.id,this.nucfamiliar.ips=a},reset:function(){this.idAfiliadoValido=null,this.$validator.reset(),this.nucfamiliar=JSON.parse(r()(this.make)),this.ipsB=this.nucfamiliar.ips,void 0!==this.entidad&&this.entidad.id&&this.asignaIPS(this.entidad),this.afitramiteid&&(this.nucfamiliar[this.property]=this.afitramiteid)},submit:function(){var a=this;this.$validator.validateAll("formBeneficiario").then(function(e){e&&(delete a.nucfamiliar.beneficiario,delete a.nucfamiliar.ips,delete a.nucfamiliar.parentesco,a.axios.post("/beneficiarios",a.nucfamiliar).then(function(e){a.$emit("registrar",e.data.nucfamiliar)}).catch(function(e){a.$store.commit(l.a,{expression:" al registrar el beneficiario. ",error:e})}))})}}}},890:function(a,e,i){"use strict";function t(a){i(891)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(848),o=i(893),n=i(1),s=t,l=n(r.a,o.a,!1,s,"data-v-2caca214",null);e.default=l.exports},891:function(a,e,i){var t=i(892);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);i(456)("15d99ef0",t,!0,{})},892:function(a,e,i){e=a.exports=i(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroDecautramites.vue",sourceRoot:""}])},893:function(a,e,i){"use strict";var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("v-card",{staticClass:"ma-0 pa-0",attrs:{color:"grey lighten-1"}},[a._l(a.decauttramites,function(e){return[i("v-card",[i("v-card-text",{staticClass:"pl-1 pb-0"},[i("v-layout",{attrs:{"align-center":""}},[i("v-checkbox",{staticClass:"shrink mt-0",attrs:{label:e.declaracion.nombre,disabled:e.loading,"true-value":1,"false-value":0,"hide-details":""},on:{change:function(i){return a.onFilePicked(i,e.id)}},model:{value:e.declara,callback:function(i){a.$set(e,"declara",i)},expression:"item.declara"}})],1)],1),a._v(" "),i("v-slide-y-transition",[e.declara&&"Si"===e.declaracion.anexo?i("v-card-actions",[i("input",{ref:"anexo"+e.id,refInFor:!0,attrs:{type:"file",hidden:"",accept:"application/pdf"},on:{change:function(i){return a.onFilePicked(i,e.id)}}}),a._v(" "),i("v-btn",{staticClass:"white--text",attrs:{small:"",color:e.anexo?"primary":"blue-grey",loading:e.loading,disabled:e.loading},nativeOn:{click:function(i){a.$refs["anexo"+e.id][0].click()}}},[i("v-icon",{attrs:{dark:""}},[a._v("attach_file")]),a._v("\n            Anexo\n          ")],1),a._v(" "),e.anexo?i("a",{staticClass:"ml-2",attrs:{href:e.anexo.url_signed,target:"_blank"},domProps:{innerHTML:a._s(e.anexo.nombre)}}):a._e(),a._v(" "),i("small",{staticClass:"red--text ml-2",domProps:{innerHTML:a._s(e.messageError)}})],1):a._e()],1)],1),a._v(" "),i("v-divider")]})],2)},r=[],o={render:t,staticRenderFns:r};e.a=o},894:function(a,e,i){"use strict";function t(a){i(895)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(849),o=i(901),n=i(1),s=t,l=n(r.a,o.a,!1,s,"data-v-04c00673",null);e.default=l.exports},895:function(a,e,i){var t=i(896);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);i(456)("73349d78",t,!0,{})},896:function(a,e,i){e=a.exports=i(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroAnetramites.vue",sourceRoot:""}])},897:function(a,e,i){"use strict";function t(a){i(898)}var r=i(850),o=i(900),n=i(1),s=t,l=n(r.a,o.a,!1,s,"data-v-1a86b436",null);e.a=l.exports},898:function(a,e,i){var t=i(899);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);i(456)("21d5a134",t,!0,{})},899:function(a,e,i){e=a.exports=i(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroAnetramite.vue",sourceRoot:""}])},900:function(a,e,i){"use strict";var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("v-card",{ref:"formAnetramite",attrs:{color:"blue lighten-4"}},[i("v-card-title",[i("strong",[a._v("\n      "+a._s(a.anetramite.id?"actualización de anexo":"nuevo anexo")+"\n    ")])]),a._v(" "),i("v-divider"),a._v(" "),i("v-container",{attrs:{fluid:"","grid-list-lg":""}},[i("v-form",{attrs:{"data-vv-scope":"formAnetramite"}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Tipo anexo",items:a.complementos.tipanexos,"item-value":"id","item-text":"nombre",name:"Tipo anexo",required:"","error-messages":a.errors.collect("Tipo anexo")},model:{value:a.anetramite.as_tipanexo_id,callback:function(e){a.$set(a.anetramite,"as_tipanexo_id",e)},expression:"anetramite.as_tipanexo_id"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:a.labelAfiliado?a.labelAfiliado:"Afiliado",items:a.afiliados,"item-value":"item.id",hint:a.hintAfiliado,"persistent-hint":"","item-text":"item.nombre_completo",name:a.labelAfiliado?a.labelAfiliado:"Afiliado",required:"","error-messages":a.errors.collect(a.labelAfiliado?a.labelAfiliado:"Afiliado")},model:{value:a.anetramite.as_afiliado_id,callback:function(e){a.$set(a.anetramite,"as_afiliado_id",e)},expression:"anetramite.as_afiliado_id"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:""}},[i("input",{ref:"inputAnexo",attrs:{type:"file",hidden:"",accept:"image/jpeg,image/gif,image/png,application/pdf"},on:{change:function(e){return a.onFilePicked(e)}}}),a._v(" "),i("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Archivo","prepend-icon":"attach_file",readonly:"",name:"Archivo",required:"","error-messages":a.errorArchivo,loading:a.loadingArchivo},nativeOn:{click:function(e){return a.$refs.inputAnexo.click()}},model:{value:a.anetramite.anexo.nombre,callback:function(e){a.$set(a.anetramite.anexo,"nombre",e)},expression:"anetramite.anexo.nombre"}})],1)],1)],1)],1),a._v(" "),i("v-card-actions",[i("v-spacer"),a._v(" "),i("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){return a.$emit("hide",!0)}}},[a._v("Cancelar")]),a._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(e){return a.submit(e)}}},[a._v("Registrar")])],1)],1)},r=[],o={render:t,staticRenderFns:r};e.a=o},901:function(a,e,i){"use strict";var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("v-card",{staticClass:"ma-0 pa-0",attrs:{color:"grey lighten-1"}},[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:a.dialogBorrarAnexo,callback:function(e){a.dialogBorrarAnexo=e},expression:"dialogBorrarAnexo"}},[a.anetramite?i("v-card",[i("v-card-text",{staticClass:"title font-weight-light text-xs-center"},[a._v("\n          ¿Esta seguro de borrar el anexo "),i("strong",[a._v(a._s(a.complementos.tipanexos?a.complementos.tipanexos.find(function(e){return e.id===a.anetramite.as_tipanexo_id}).codigo:""))]),a._v(" perteneciente a "),i("strong",[a._v(a._s(a.personas.find(function(e){return e.item.id===a.anetramite.as_afiliado_id}).item.nombre_completo))]),a._v("?\n        ")]),a._v(" "),i("v-card-actions",[i("v-spacer"),a._v(" "),i("v-btn",{attrs:{flat:""},on:{click:a.cancelarBorrarAnexo}},[a._v("Cancelar")]),a._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),a.borrarAnexo(e)}}},[a._v("Aceptar")])],1)],1):a._e()],1)],1),a._v(" "),i("v-toolbar",{attrs:{dense:""}},[i("v-icon",[a._v("attach_file")]),a._v(" "),i("v-toolbar-title",[a._v("Anexos registrados")]),a._v(" "),i("v-spacer"),a._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",fab:"",right:"",small:"",color:"accent"},nativeOn:{click:function(e){return a.asignarAnexo(null)}},slot:"activator"},[i("v-icon",[a._v("add")])],1),a._v(" "),i("span",[a._v("Agregar anexo")])],1)],1),a._v(" "),i("v-slide-y-transition",[a.showFormAnexo?i("registro-anetramite",{ref:"rAnetramite",attrs:{property:a.property,afiliados:a.personas,tramiteid:a.value.id,objeto:JSON.parse(JSON.stringify(a.anetramite))},on:{hide:function(e){return a.showFormAnexo=!e},submit:function(e){return a.returnAnexo(e)}}}):a._e()],1),a._v(" "),a.anetramitesPersona&&a.anetramitesPersona.length?a._e():i("v-list",{attrs:{subheader:""}},[i("v-subheader",{attrs:{inset:""}},[a._v("Ninguno de los integrantes tiene anexos registrados.")])],1),a._v(" "),a.paneles.length?i("v-expansion-panel",{attrs:{value:a.paneles,expand:""}},a._l(a.anetramitesPersona,function(e,t){return a.anetramitesPersona.length&&a.personas.length?i("v-expansion-panel-content",{key:t,staticClass:"pt-2"},[i("div",{staticClass:"pt-1",attrs:{slot:"header"},slot:"header"},[i("div",[a._v(" "+a._s(a.personas.find(function(a){return a.item.id===e.as_afiliado_id}).item.nombre_completo)+" "),i("small",{staticClass:"grey--text"},[a._v(a._s(a.personas.find(function(a){return a.item.id===e.as_afiliado_id}).tipo))])]),a._v(" "),i("div",[a._v(" "+a._s(a.personas.find(function(a){return a.item.id===e.as_afiliado_id}).item.identificacion_completa)+" ")])]),a._v(" "),i("v-card",[i("v-card-text",{staticClass:"py-0"},a._l(a.filtraAnexos(a.value.anexos,e.as_afiliado_id),function(e,t){return i("v-chip",{key:t,attrs:{color:"grey "+(e.gn_archivo_id?"lighten-2":"")}},[i("v-avatar",{staticClass:"accent",attrs:{dark:""}},[a._v(a._s(a.complementos.tipanexos?a.complementos.tipanexos.find(function(a){return a.id===e.as_tipanexo_id}).codigo:""))]),a._v(" "),i("v-tooltip",{attrs:{top:""}},[i("span",{attrs:{slot:"activator"},slot:"activator"},[e.gn_archivo_id?i("a",{attrs:{href:e.anexo.url_signed,target:"_blank"}},[a._v(a._s(a._f("textTruncate")(a.complementos.tipanexos?a.complementos.tipanexos.find(function(a){return a.id===e.as_tipanexo_id}).nombre+(a.complementos.tipdocidentidades&&e.gn_tipo_doc_identidades_id&&1===e.as_tipanexo_id?": "+a.complementos.tipdocidentidades.find(function(a){return a.id===e.gn_tipo_doc_identidades_id}).nombre:""):"",48)))]):i("p",{staticClass:"pt-3"},[a._v(a._s(a._f("textTruncate")(a.complementos.tipanexos?a.complementos.tipanexos.find(function(a){return a.id===e.as_tipanexo_id}).nombre+(a.complementos.tipdocidentidades&&e.gn_tipo_doc_identidades_id&&1===e.as_tipanexo_id?": "+a.complementos.tipdocidentidades.find(function(a){return a.id===e.gn_tipo_doc_identidades_id}).nombre:""):"",48)))])]),a._v(" "),i("span",[a._v(a._s(a.complementos.tipanexos?a.complementos.tipanexos.find(function(a){return a.id===e.as_tipanexo_id}).nombre+(a.complementos.tipdocidentidades&&e.gn_tipo_doc_identidades_id&&1===e.as_tipanexo_id?": "+a.complementos.tipdocidentidades.find(function(a){return a.id===e.gn_tipo_doc_identidades_id}).nombre:""):""))])]),a._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"ma-0 ml-2",attrs:{slot:"activator",small:"",ripple:"",icon:""},on:{click:function(i){return i.stopPropagation(),a.asignarAnexo(e)}},slot:"activator"},[i("v-icon",{attrs:{small:"",color:"accent"}},[a._v("mode_edit")])],1),a._v(" "),i("span",[a._v("Editar")])],1),a._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"ma-0",attrs:{slot:"activator",small:"",ripple:"",icon:""},on:{click:function(i){return i.stopPropagation(),a.confirmaBorrarAnexo(e)}},slot:"activator"},[i("v-icon",{attrs:{small:"",color:"accent"}},[a._v("close")])],1),a._v(" "),i("span",[a._v("Borrar")])],1)],1)}),1)],1)],1):a._e()}),1):a._e()],1)},r=[],o={render:t,staticRenderFns:r};e.a=o},902:function(a,e,i){"use strict";function t(a){i(903)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(851),o=i(909),n=i(1),s=t,l=n(r.a,o.a,!1,s,"data-v-20fa1628",null);e.default=l.exports},903:function(a,e,i){var t=i(904);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);i(456)("28f7f253",t,!0,{})},904:function(a,e,i){e=a.exports=i(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroBeneficiarios.vue",sourceRoot:""}])},905:function(a,e,i){"use strict";function t(a){i(906)}var r=i(852),o=i(908),n=i(1),s=t,l=n(r.a,o.a,!1,s,"data-v-40a28bec",null);e.a=l.exports},906:function(a,e,i){var t=i(907);"string"==typeof t&&(t=[[a.i,t,""]]),t.locals&&(a.exports=t.locals);i(456)("3dc28d38",t,!0,{})},907:function(a,e,i){e=a.exports=i(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroBeneficiario.vue",sourceRoot:""}])},908:function(a,e,i){"use strict";var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("v-card",{attrs:{color:"blue lighten-4"}},[i("v-card-title",[i("strong",[a._v("\n        "+a._s(a.nucfamiliar.id?"actualización beneficiario":"nuevo beneficiario")+"\n      ")])]),a._v(" "),i("v-divider"),a._v(" "),i("v-container",{attrs:{fluid:"","grid-list-lg":""}},[i("v-form",{attrs:{"data-vv-scope":"formBeneficiario"}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required|beneficiarioValido",expression:"'required|beneficiarioValido'"}],attrs:{"no-data":"Busqueda por nombre o número de documento.",hint:"identificacion_completa","item-text":"nombre_completo","data-title":"identificacion_completa","data-subtitle":"nombre_completo",label:"Beneficiario",detail:a.detalleAfiliado,entidad:"afiliados",preicon:"person",name:"Beneficiario",rules:"required|beneficiarioValido","error-messages":a.errors.collect("Beneficiario"),"slot-append":{template:'<span class="pt-2 caption">Estado: {{value.estado_afiliado.codigo}} - {{value.estado_afiliado.nombre}}</span>',props:["value"]},"slot-prepend":a.nucfamiliar.beneficiario?{template:'<mini-card-detail :data="value.mini_afiliado" alone-icon/>',props:["value"]}:null,"pros-datos":a.afilliatum?a.afilliatum:null},on:{changeid:function(e){return a.nucfamiliar.as_beneficiario_id=e}},model:{value:a.nucfamiliar.beneficiario,callback:function(e){a.$set(a.nucfamiliar,"beneficiario",e)},expression:"nucfamiliar.beneficiario"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Parentesco",items:a.complementos.parentescos,"item-value":"id","item-text":"nombre",name:"Parentesco",required:"","error-messages":a.errors.collect("Parentesco")},model:{value:a.nucfamiliar.as_parentesco_id,callback:function(e){a.$set(a.nucfamiliar,"as_parentesco_id",e)},expression:"nucfamiliar.as_parentesco_id"}})],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por NIT, razon social u código de habilitación.",hint:"identificacion","item-text":"nombre_razon_social","data-title":"identificacion","data-subtitle":"nombre_razon_social",label:"IPS",entidad:"entidades_contrato",preicon:"location_city",name:"ips",rules:"required","error-messages":a.errors.collect("ips"),"route-params":"rs_tipentidade_id=1&afiliado="+a.nucfamiliar.as_beneficiario_id,"no-btn-create":"","min-characters-search":3},on:{changeid:function(e){return a.nucfamiliar.rs_entidade_id=e}},model:{value:a.ipsB,callback:function(e){a.ipsB=e},expression:"ipsB"}})],1)],1)],1)],1),a._v(" "),i("v-card-actions",[i("v-spacer"),a._v(" "),i("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){return a.$emit("cancelar")}}},[a._v("Cancelar")]),a._v(" "),i("v-btn",{attrs:{flat:"",color:"primary"},nativeOn:{click:function(e){return a.submit(e)}}},[a._v("Registrar")])],1)],1)},r=[],o={render:t,staticRenderFns:r};e.a=o},909:function(a,e,i){"use strict";var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return a.value?i("v-card",{staticClass:"ma-0 pa-0",attrs:{color:"grey lighten-1"}},[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:a.dialogBorrarBeneficiario,callback:function(e){a.dialogBorrarBeneficiario=e},expression:"dialogBorrarBeneficiario"}},[a.beneficiario?i("v-card",[i("v-card-text",{staticClass:"title font-weight-light"},[a._v("\n          ¿Esta seguro de desvincular a "),i("strong",[a._v(a._s(a.beneficiario.beneficiario.nombre_completo))]),a._v(" de su lista de beneficiarios.?\n        ")]),a._v(" "),i("v-card-actions",[i("v-spacer"),a._v(" "),i("v-btn",{attrs:{flat:""},on:{click:a.cancelarBorrarBeneficiario}},[a._v("Cancelar")]),a._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),a.borrarBeneficiario(e)}}},[a._v("Aceptar")])],1)],1):a._e()],1)],1),a._v(" "),i("v-toolbar",{attrs:{dense:""}},[i("v-icon",[a._v("face")]),a._v(" "),i("v-toolbar-title",[a._v("Beneficiarios registrados")]),a._v(" "),i("v-spacer"),a._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",fab:"",right:"",small:"",color:"accent"},nativeOn:{click:function(e){return a.asignarBeneficiario(null)}},slot:"activator"},[i("v-icon",[a._v("add")])],1),a._v(" "),i("span",[a._v("Agregar beneficiario")])],1)],1),a._v(" "),i("v-slide-y-transition",[a.showFormBeneficiario?i("registro-beneficiario",{ref:"rBeneficiario",attrs:{property:a.property,entidad:a.value.ips,afilliatum:a.value.afiliado,afitramiteid:a.value.id,objeto:a.beneficiario},on:{cancelar:function(e){a.showFormBeneficiario=!1},registrar:function(e){return a.returnBeneficiario(e)}}}):a._e()],1),a._v(" "),i("v-list",{attrs:{"two-line":"",subheader:""}},[a.value.nucleo_familiar&&0===a.value.nucleo_familiar.length?i("v-subheader",{attrs:{inset:""}},[a._v("Sin beneficiarios")]):a._l(a.value.nucleo_familiar,function(e,t){return[i("v-divider",{attrs:{inset:""}}),a._v(" "),i("v-list-tile",{key:t,attrs:{avatar:""}},[i("v-list-tile-avatar",{attrs:{color:"primary"}},[i("span",{staticClass:"white--text headline"},[a._v(a._s(t+1))])]),a._v(" "),i("v-list-tile-content",[i("v-list-tile-title",{domProps:{innerHTML:a._s(e.beneficiario.nombre_completo)}}),a._v(" "),i("v-list-tile-sub-title",{domProps:{innerHTML:a._s(e.beneficiario.identificacion_completa+" - "+e.parentesco.nombre)}})],1),a._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",small:"",ripple:"",icon:""},on:{click:function(i){return a.asignarBeneficiario(e)}},slot:"activator"},[i("v-icon",{attrs:{color:"accent"}},[a._v("mode_edit")])],1),a._v(" "),i("span",[a._v("Editar")])],1),a._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",small:"",icon:"",ripple:""},on:{click:function(i){return a.confirmaBorrarBeneficiario(e)}},slot:"activator"},[i("v-icon",{attrs:{color:"accent"}},[a._v("close")])],1),a._v(" "),i("span",[a._v("Desvincular")])],1)],1)]})],2)],1):a._e()},r=[],o={render:t,staticRenderFns:r};e.a=o}});
//# sourceMappingURL=19.4071741b1b8648b4d601.js.map