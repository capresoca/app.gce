webpackJsonp([38,338],{1486:function(t,a,e){var i=e(1487);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(456)("14ef904a",i,!0,{})},1487:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"AprobacionPortabilidad.vue",sourceRoot:""}])},1488:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",[e("cancelar-portabilidad",{ref:"cancelarPortabilidad",on:{cancelar:function(a){return t.aceptarCancelacion(a)}}}),t._v(" "),e("toolbar-list",{attrs:{info:t.infoComponent,title:"Portabilidad",subtitle:"Aprobación"}}),t._v(" "),e("data-table-v2",{on:{resetOption:function(a){return t.resetOptions(a)},cancel:function(a){return t.cancelar(a)},verdetalle:function(a){return t.$store.commit("NAV_ADD_ITEM",{ruta:"detallePortabilidad",titulo:"Detalle portabilidad No. "+a.consecutivo,parametros:{entidad:a,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}},model:{value:t.dataTable,callback:function(a){t.dataTable=a},expression:"dataTable"}})],1)},n=[],o={render:i,staticRenderFns:n};a.a=o},486:function(t,a,e){"use strict";function i(t){e(1486)}Object.defineProperty(a,"__esModule",{value:!0});var n=e(961),o=e(1488),l=e(1),s=i,r=l(n.a,o.a,!1,s,"data-v-cf4c4b64",null);a.default=r.exports},829:function(t,a,e){"use strict";var i=e(7),n=e.n(i);a.a={name:"CancelarPortabilidad",data:function(){return{show:!1,datos:null,data:null,makeData:{id:null,descripcion:null,index:null,rs_portabilidade_id:null,gs_usuario_id:null}}},watch:{show:function(t){var a=this;t||setTimeout(function(){a.datos=null},500)}},methods:{assign:function(t){this.data=JSON.parse(n()(this.makeData)),this.$validator.reset(),this.datos=t,this.data.rs_portabilidade_id=this.datos.id,this.data.index=this.datos.index,this.show=!0},aceptarCancelacion:function(){var t=this;this.$validator.validateAll().then(function(a){a&&(t.$emit("cancelar",t.data),t.show=!1)})}}}},866:function(t,a,e){"use strict";function i(t){e(867)}Object.defineProperty(a,"__esModule",{value:!0});var n=e(829),o=e(869),l=e(1),s=i,r=l(n.a,o.a,!1,s,"data-v-2a735874",null);a.default=r.exports},867:function(t,a,e){var i=e(868);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(456)("34555138",i,!0,{})},868:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"CancelarPortabilidad.vue",sourceRoot:""}])},869:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[t.datos?e("v-card",[e("v-toolbar",{attrs:{dense:""}},[e("v-toolbar-title",{staticClass:"body-2"},[t._v("\n       Cancelación de la Portabilida # "+t._s(t.datos.consecutivo)+"\n      ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{flat:"",icon:""},on:{click:function(a){a.stopPropagation(),t.show=!1}}},[e("v-icon",[t._v("close")])],1)],1),t._v(" "),e("v-container",{attrs:{fluid:"","grid-list-xs":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("h3",{staticClass:"font-weight"},[t._v("¿Por qué cancela la portabilidad?")]),t._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Descripción",hint:"Motivo por el cual se cancela el registro.","persistent-hint":"",rows:"2",name:"descripción","error-messages":t.errors.collect("descripción")},model:{value:t.data.descripcion,callback:function(a){t.$set(t.data,"descripcion",a)},expression:"data.descripcion"}})],1)],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{flat:""},on:{click:function(a){a.stopPropagation(),t.show=!1}}},[t._v("Cancelar")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:function(a){return a.stopPropagation(),t.aceptarCancelacion(a)}}},[t._v("Aceptar")])],1)],1):t._e()],1)},n=[],o={render:i,staticRenderFns:n};a.a=o},961:function(t,a,e){"use strict";var i=e(7),n=e.n(i),o=e(866);a.a={name:"AprobacionPortabilidad",components:{CancelarPortabilidad:o.default},data:function(){return{dialog:!1,dataTable:{nameItemState:"tablePortabilidadAprobacion",route:"portabilidades",makeHeaders:[{text:"No.",align:"left",sortable:!1,value:"consecutivo"},{text:"Afiliado",align:"left",sortable:!1,value:"afiliado",component:{template:'<mini-card-detail :data="value.afiliado.mini_afiliado"></mini-card-detail>',props:["value"]}},{text:"Origen",align:"left",sortable:!1,value:"municipio_origen"},{text:"Destino",align:"left",sortable:!1,value:"municipio_destino"},{text:"Fechas",align:"left",sortable:!1,value:"fecha_inicio",component:{template:'<v-list-tile class="content-v-list-tile-p0">\n                      <v-list-tile-content>\n                        <v-list-tile-title class="caption black--text">{{\'Fecha Inicio: \' + value.fecha_inicio}}</v-list-tile-title>\n                        <v-list-tile-title class="caption black--text">{{\'Fecha Fin: \' + value.fecha_fin}}</v-list-tile-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  ',props:["value"]}},{text:"Usuario",align:"left",sortable:!1,value:"name",component:{template:'<v-list-tile class="content-v-list-tile-p0">\n                      <v-list-tile-content>\n                        <v-list-tile-title class="caption font-weight-bold">{{value.name}}</v-list-tile-title>\n                        <v-list-tile-title class="caption grey--text">{{value.email}}</v-list-tile-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  ',props:["value"]}},{text:"Estado",align:"center",sortable:!1,value:"estado"},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]}}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("portabilidad")}},methods:{resetOptions:function(t){t.options=[];var a=JSON.parse(n()(t.estado));return t.options.push({event:"verdetalle",icon:"find_in_page",color:"success",tooltip:"Ver detalle"}),"Aceptado"!==a&&"Registrado"!==a||t.options.push({event:"cancel",icon:"fas fa-times-circle",color:"red",tooltip:"Cancelar"}),t},cancelar:function(t){this.$refs.cancelarPortabilidad.assign(JSON.parse(n()(t)))},aceptarCancelacion:function(t){var a=this;this.axios.post("cancelar_portabilidad/"+t.rs_portabilidade_id,t).then(function(t){a.$store.commit("SNACK_SHOW",{msg:"Se cancela la portabilidad #"+t.data.data.consecutivo,color:"success"}),a.$store.commit("reloadTable","tablePortabilidadAprobacion")}).catch(function(t){a.$store.commit("SNACK_ERROR_LIST",{expression:" al cancelar la portabilidad. ",error:t})})}}}}});
//# sourceMappingURL=38.a9fd015db3cd2255949f.js.map