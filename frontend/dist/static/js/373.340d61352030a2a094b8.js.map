{"version":3,"sources":["webpack:///static/js/373.340d61352030a2a094b8.js","webpack:///src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue","webpack:///./src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue","webpack:///./src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue?48cf","webpack:///./src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue?dc44","webpack:///./src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue?e119"],"names":["webpackJsonp","1285","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","name","props","components","Loading","Promise","resolve","then","bind","data","visible","loading","filterGlosas","item","queryText","hasValue","val","text","tipo","glosa","descripcion","query","toString","toLowerCase","indexOf","makeGlosa","id","cm_factura_id","cm_facservicio_id","cm_manglosa_id","manglosa","observacion","valor_glosa","watch","glosa.manglosa","this","created","nuevaGlosa","methods","JSON","parse","value","$validator","reset","registraGlosa","_this","validateAll","result","valor_neto","axios","post","response","$emit","$store","commit","msg","color","close","catch","e","expression","error","open","2424","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_RegistroGlosaFactura_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3f96c70d_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_RegistroGlosaFactura_vue__","normalizeComponent","__vue_styles__","Component","2425","exports","content","i","locals","2426","push","version","sources","names","mappings","file","sourceRoot","2427","render","_vm","_h","$createElement","_c","_self","attrs","persistent","max-width","model","callback","$$v","_v","staticClass","fluid","grid-list-md","row","wrap","xs12","directives","rawName","label","items","glosas","item-value","item-text","filter","error-messages","errors","collect","return-object","scopedSlots","_u","key","fn","staticStyle","width","_s","$set","rows","auto-grow","flat","on","click","$event","stopPropagation","staticRenderFns","esExports"],"mappings":"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","file":"static/js/373.340d61352030a2a094b8.js","sourcesContent":["webpackJsonp([373],{\n\n/***/ 1285:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'RegistroGlosaFactura',\n  props: ['value', 'glosas'],\n  components: {\n    Loading: function Loading() {\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 58));\n    }\n  },\n  data: function data() {\n    return {\n      visible: false,\n      loading: false,\n      filterGlosas: function filterGlosas(item, queryText) {\n        var hasValue = function hasValue(val) {\n          return val != null ? val : '';\n        };\n        var text = hasValue(item.tipo + ' ' + item.glosa + ' ' + item.descripcion);\n        var query = hasValue(queryText);\n        return text.toString().toLowerCase().indexOf(query.toString().toLowerCase()) > -1;\n      },\n\n      glosa: null,\n      makeGlosa: {\n        id: null,\n        cm_factura_id: null,\n        cm_facservicio_id: null,\n        cm_manglosa_id: null,\n        manglosa: null,\n        observacion: null,\n        tipo: 'Valor total',\n        valor_glosa: null\n      }\n    };\n  },\n  watch: {\n    'glosa.manglosa': function glosaManglosa(val) {\n      if (val) {\n        this.glosa.cm_manglosa_id = val.id;\n        // if (val.tipo === 'Devoluciones') {\n        //   this.glosa.tipo = 'Valor'\n        //   this.glosa.valor_glosa = 0\n        // } else {\n        //   this.glosa.valor_glosa = null\n        // }\n      } // else {\n      //   this.glosa.cm_manglosa_id = null\n      //   this.glosa.tipo = 'Valor'\n      //   this.glosa.valor_glosa = null\n      // }\n    }\n  },\n  created: function created() {\n    this.nuevaGlosa();\n  },\n\n  methods: {\n    nuevaGlosa: function nuevaGlosa() {\n      this.glosa = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.makeGlosa));\n      this.glosa.cm_factura_id = this.value.id;\n      this.$validator.reset();\n    },\n    registraGlosa: function registraGlosa() {\n      var _this = this;\n\n      this.$validator.validateAll().then(function (result) {\n        if (result) {\n          _this.loading = true;\n          _this.glosa.valor_glosa = _this.value.valor_neto;\n          _this.axios.post('cm_facturas/' + _this.glosa.cm_factura_id + '/glosa', _this.glosa).then(function (response) {\n            // this.value.glosas.splice(0, 0, response.data.data)\n            _this.$emit('refreshFactura');\n            _this.$store.commit('SNACK_SHOW', { msg: 'La glosa de factura fue registrada correctamente.', color: 'success' });\n            _this.loading = false;\n            _this.close();\n          }).catch(function (e) {\n            _this.loading = false;\n            _this.$store.commit('SNACK_ERROR_LIST', { expression: 'al registrar la glosa de factura', error: e });\n          });\n        }\n      });\n    },\n    open: function open() {\n      this.nuevaGlosa();\n      this.visible = true;\n    },\n    close: function close() {\n      this.visible = false;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 2424:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_RegistroGlosaFactura_vue__ = __webpack_require__(1285);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3f96c70d_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_RegistroGlosaFactura_vue__ = __webpack_require__(2427);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(2425)\n}\nvar normalizeComponent = __webpack_require__(1)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f96c70d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_RegistroGlosaFactura_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3f96c70d_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_RegistroGlosaFactura_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 2425:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2426);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(456)(\"f7e56d6e\", content, true, {});\n\n/***/ }),\n\n/***/ 2426:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(455)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"RegistroGlosaFactura.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 2427:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"900\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('loading',{model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}}),_vm._v(\" \"),_c('v-card-title',{staticClass:\"grey lighten-3 py-2\"},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\" Nueva glosa de factura \")])]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-container',{staticClass:\"pa-2\",attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-autocomplete',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"label\":\"Seleccionar glosa\",\"items\":_vm.glosas,\"item-value\":\"id\",\"item-text\":\"descripcion\",\"filter\":_vm.filterGlosas,\"name\":\"glosa\",\"error-messages\":_vm.errors.collect('glosa'),\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('div',{staticStyle:{\"width\":\"100% !important\"}},[_c('v-list-tile',{staticClass:\"content-v-list-tile-p0\"},[_c('v-list-tile-content',{staticClass:\"truncate-content\"},[_c('span',{staticClass:\"ma-0 body-2\"},[_vm._v(_vm._s(data.item.glosa)+\": \"+_vm._s(data.item.descripcion))]),_vm._v(\" \"),_c('span',{staticClass:\"ma-0 body-2\"},[_vm._v(\"Tipo: \"+_vm._s(data.item.tipo))])])],1),_vm._v(\" \"),_c('v-divider')],1)]}},{key:\"item\",fn:function(data){return [_c('div',{staticStyle:{\"width\":\"100% !important\"}},[_c('v-list-tile',{staticClass:\"content-v-list-tile-p0\"},[_c('v-list-tile-content',{staticClass:\"truncate-content\"},[_c('span',{staticClass:\"ma-0 body-1\"},[_vm._v(_vm._s(data.item.glosa)+\": \"+_vm._s(data.item.descripcion))]),_vm._v(\" \"),_c('span',{staticClass:\"ma-0 body-1\"},[_vm._v(\"Tipo: \"+_vm._s(data.item.tipo))])])],1)],1)]}}]),model:{value:(_vm.glosa.manglosa),callback:function ($$v) {_vm.$set(_vm.glosa, \"manglosa\", $$v)},expression:\"glosa.manglosa\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-textarea',{attrs:{\"rows\":\"1\",\"auto-grow\":\"\",\"label\":\"Observaciones\"},model:{value:(_vm.glosa.observacion),callback:function ($$v) {_vm.$set(_vm.glosa, \"observacion\", $$v)},expression:\"glosa.observacion\"}})],1)],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.visible = false}}},[_vm._v(\"Cancelar\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"success\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.registraGlosa($event)}}},[_vm._v(\"Registrar\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/373.340d61352030a2a094b8.js","<template>\n  <v-dialog v-model=\"visible\" persistent max-width=\"900\">\n    <v-card>\n      <loading v-model=\"loading\"/>\n      <v-card-title class=\"grey lighten-3 py-2\">\n        <span class=\"font-weight-bold\"> Nueva glosa de factura </span>\n      </v-card-title>\n      <v-divider></v-divider>\n      <v-container\n        class=\"pa-2\"\n        fluid\n        grid-list-md\n      >\n        <v-layout row wrap>\n          <v-flex xs12>\n            <v-autocomplete\n              label=\"Seleccionar glosa\"\n              :items=\"glosas\"\n              v-model=\"glosa.manglosa\"\n              item-value=\"id\"\n              item-text=\"descripcion\"\n              :filter=\"filterGlosas\"\n              name=\"glosa\"\n              v-validate=\"'required'\"\n              :error-messages=\"errors.collect('glosa')\"\n              return-object\n            >\n              <template slot=\"selection\" slot-scope=\"data\">\n                <div style=\"width: 100% !important;\">\n                  <v-list-tile class=\"content-v-list-tile-p0\">\n                    <v-list-tile-content class=\"truncate-content\">\n                      <span class=\"ma-0 body-2\">{{data.item.glosa}}: {{data.item.descripcion}}</span>\n                      <span class=\"ma-0 body-2\">Tipo: {{data.item.tipo}}</span>\n                    </v-list-tile-content>\n                  </v-list-tile>\n                  <v-divider></v-divider>\n                </div>\n              </template>\n              <template slot=\"item\" slot-scope=\"data\">\n                <div style=\"width: 100% !important;\">\n                  <v-list-tile class=\"content-v-list-tile-p0\">\n                    <v-list-tile-content class=\"truncate-content\">\n                      <span class=\"ma-0 body-1\">{{data.item.glosa}}: {{data.item.descripcion}}</span>\n                      <span class=\"ma-0 body-1\">Tipo: {{data.item.tipo}}</span>\n                    </v-list-tile-content>\n                  </v-list-tile>\n                </div>\n              </template>\n            </v-autocomplete>\n          </v-flex>\n          <v-flex xs12>\n            <v-textarea\n              rows=\"1\"\n              auto-grow\n              label=\"Observaciones\"\n              v-model=\"glosa.observacion\"\n            ></v-textarea>\n          </v-flex>\n        </v-layout>\n      </v-container>\n      <v-divider/>\n      <v-card-actions>\n        <v-spacer/>\n        <v-btn flat @click.stop=\"visible = false\">Cancelar</v-btn>\n        <v-btn flat color=\"success\" @click.stop=\"registraGlosa\">Registrar</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\n  export default {\n    name: 'RegistroGlosaFactura',\n    props: ['value', 'glosas'],\n    components: {\n      Loading: () => import('@/components/general/Loading')\n    },\n    data: () => ({\n      visible: false,\n      loading: false,\n      filterGlosas (item, queryText) {\n        const hasValue = val => val != null ? val : ''\n        const text = hasValue(item.tipo + ' ' + item.glosa + ' ' + item.descripcion)\n        const query = hasValue(queryText)\n        return text.toString().toLowerCase().indexOf(query.toString().toLowerCase()) > -1\n      },\n      glosa: null,\n      makeGlosa: {\n        id: null,\n        cm_factura_id: null,\n        cm_facservicio_id: null,\n        cm_manglosa_id: null,\n        manglosa: null,\n        observacion: null,\n        tipo: 'Valor total',\n        valor_glosa: null\n      }\n    }),\n    watch: {\n      'glosa.manglosa' (val) {\n        if (val) {\n          this.glosa.cm_manglosa_id = val.id\n          // if (val.tipo === 'Devoluciones') {\n          //   this.glosa.tipo = 'Valor'\n          //   this.glosa.valor_glosa = 0\n          // } else {\n          //   this.glosa.valor_glosa = null\n          // }\n        }// else {\n        //   this.glosa.cm_manglosa_id = null\n        //   this.glosa.tipo = 'Valor'\n        //   this.glosa.valor_glosa = null\n        // }\n      }\n    },\n    created () {\n      this.nuevaGlosa()\n    },\n    methods: {\n      nuevaGlosa () {\n        this.glosa = JSON.parse(JSON.stringify(this.makeGlosa))\n        this.glosa.cm_factura_id = this.value.id\n        this.$validator.reset()\n      },\n      registraGlosa () {\n        this.$validator.validateAll().then(result => {\n          if (result) {\n            this.loading = true\n            this.glosa.valor_glosa = this.value.valor_neto\n            this.axios.post(`cm_facturas/${this.glosa.cm_factura_id}/glosa`, this.glosa)\n              .then(response => {\n                // this.value.glosas.splice(0, 0, response.data.data)\n                this.$emit('refreshFactura')\n                this.$store.commit('SNACK_SHOW', {msg: `La glosa de factura fue registrada correctamente.`, color: 'success'})\n                this.loading = false\n                this.close()\n              })\n              .catch(e => {\n                this.loading = false\n                this.$store.commit('SNACK_ERROR_LIST', {expression: `al registrar la glosa de factura`, error: e})\n              })\n          }\n        })\n      },\n      open () {\n        this.nuevaGlosa()\n        this.visible = true\n      },\n      close () {\n        this.visible = false\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f96c70d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RegistroGlosaFactura.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RegistroGlosaFactura.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RegistroGlosaFactura.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f96c70d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RegistroGlosaFactura.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f96c70d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue\n// module id = 2424\n// module chunks = 373","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f96c70d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./RegistroGlosaFactura.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"f7e56d6e\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3f96c70d\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue\n// module id = 2425\n// module chunks = 373","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"RegistroGlosaFactura.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3f96c70d\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue\n// module id = 2426\n// module chunks = 373","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"900\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('loading',{model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}}),_vm._v(\" \"),_c('v-card-title',{staticClass:\"grey lighten-3 py-2\"},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\" Nueva glosa de factura \")])]),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-container',{staticClass:\"pa-2\",attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-autocomplete',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"label\":\"Seleccionar glosa\",\"items\":_vm.glosas,\"item-value\":\"id\",\"item-text\":\"descripcion\",\"filter\":_vm.filterGlosas,\"name\":\"glosa\",\"error-messages\":_vm.errors.collect('glosa'),\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('div',{staticStyle:{\"width\":\"100% !important\"}},[_c('v-list-tile',{staticClass:\"content-v-list-tile-p0\"},[_c('v-list-tile-content',{staticClass:\"truncate-content\"},[_c('span',{staticClass:\"ma-0 body-2\"},[_vm._v(_vm._s(data.item.glosa)+\": \"+_vm._s(data.item.descripcion))]),_vm._v(\" \"),_c('span',{staticClass:\"ma-0 body-2\"},[_vm._v(\"Tipo: \"+_vm._s(data.item.tipo))])])],1),_vm._v(\" \"),_c('v-divider')],1)]}},{key:\"item\",fn:function(data){return [_c('div',{staticStyle:{\"width\":\"100% !important\"}},[_c('v-list-tile',{staticClass:\"content-v-list-tile-p0\"},[_c('v-list-tile-content',{staticClass:\"truncate-content\"},[_c('span',{staticClass:\"ma-0 body-1\"},[_vm._v(_vm._s(data.item.glosa)+\": \"+_vm._s(data.item.descripcion))]),_vm._v(\" \"),_c('span',{staticClass:\"ma-0 body-1\"},[_vm._v(\"Tipo: \"+_vm._s(data.item.tipo))])])],1)],1)]}}]),model:{value:(_vm.glosa.manglosa),callback:function ($$v) {_vm.$set(_vm.glosa, \"manglosa\", $$v)},expression:\"glosa.manglosa\"}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-textarea',{attrs:{\"rows\":\"1\",\"auto-grow\":\"\",\"label\":\"Observaciones\"},model:{value:(_vm.glosa.observacion),callback:function ($$v) {_vm.$set(_vm.glosa, \"observacion\", $$v)},expression:\"glosa.observacion\"}})],1)],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.visible = false}}},[_vm._v(\"Cancelar\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"success\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.registraGlosa($event)}}},[_vm._v(\"Registrar\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f96c70d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/RegistroGlosaFactura.vue\n// module id = 2427\n// module chunks = 373"],"sourceRoot":""}