webpackJsonp([98],{1215:function(t,e,a){"use strict";var n=a(13),i=a.n(n),o=a(14),s=a.n(o),l=a(7),r=a.n(l);e.a={name:"AsignacionesMasivas",components:{Confirmar:function(){return a.e(289).then(a.bind(null,749))}},data:function(){return{dialogA:{loading:!1,visible:!1,content:null,registro:null},dataTable:{nameItemState:"tableAsignacionMasiva",route:"redservicios/asignamasivos",makeHeaders:[{text:"ID",align:"center",sortable:!0,value:"id",classData:"text-xs-center"},{text:"Tipo proceso",align:"left",sortable:!0,value:"tipo_proceso"},{text:"Fecha Registro",align:"left",sortable:!1,classData:"text-xs-left",component:{template:"<span>{{value.created_at ? moment(value.created_at.date).format('YYYY-MM-DD HH:mm') : ''}}</span>",props:["value"]}},{text:"Observacion",align:"left",sortable:!1,value:"observacion",classData:"text-xs-left"},{text:"Usuario",align:"left",sortable:!0,value:"id",component:{template:'\n                    <v-list-tile class="content-v-list-tile-p0">\n                      <v-list-tile-content>\n                        <v-list-tile-title>{{value.usuario.email}}</v-list-tile-title>\n                        <v-list-tile-title class="caption grey--text">{{value.usuario.name}}</v-list-tile-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  ',props:["value"]}},{text:"Servicios asignados",align:"center",sortable:!1,value:"id",classData:"text-xs-center",width:"120px",component:{template:'<v-tooltip top>\n                    <v-avatar color="teal" size="30" slot="activator" class="cursor-pointer">\n                        <span class="white--text caption">{{value.services_tot}}</span>\n                      </v-avatar>\n                    <span>{{ value.servicios_asignados.map(x => x.nombre).join(\', \')}}</span>\n                  </v-tooltip>',props:["value"]}},{text:"Cantidad afiliados",align:"center",sortable:!0,value:"total_registros",classData:"text-xs-center",width:"120px",component:{template:'\n                  <v-chip label color="indigo" dark>\n                    <span class="white--text caption">{{value.afiliados_con_servicios}}</span>\n                  </v-chip>\n                ',props:["value"]}},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]}}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("asignacionmasiva")}},methods:{anular:function(t){this.dialogA.registro=JSON.parse(r()(t)),this.dialogA.content="<strong>El proceso de asignación masiva No. "+this.dialogA.registro.id+" será anulado.</strong><br/> ¿Está seguro de continuar?",this.dialogA.visible=!0},cancelaConfirmacion:function(){this.dialogA.loading=!1,this.dialogA.visible=!1,this.dialogA.content=null,this.dialogA.registro=null},aceptaConfirmacion:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dialogA.loading=!0,t.axios.delete("asignacionmasiva/"+t.dialogA.registro.id).then(function(){t.$store.commit("SNACK_SHOW",{msg:"El proceso de asignación masiva se anuló correctamente.",color:"success"}),t.$store.commit("ASIGNACION_MASIVA_RELOAD_ITEM",{item:t.dialogA.registro,estado:"reload",key:null}),t.cancelaConfirmacion()}).catch(function(e){t.dialogA.loading=!1,t.$store.commit("SNACK_ERROR_LIST",{expression:" al realizar la anulación del proceso de asignación masiva. ",error:e})});case 2:case"end":return e.stop()}},e,t)}))()},resetOptions:function(t){return t.options=[],this.infoComponent&&this.infoComponent.permisos.ver&&t.options.push({event:"verdetalle",icon:"find_in_page",tooltip:"Ver detalle",color:"primary"}),t}}}},2186:function(t,e,a){var n=a(2187);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(456)("e9600b82",n,!0,{})},2187:function(t,e,a){e=t.exports=a(455)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"AsignacionesMasivas.vue",sourceRoot:""}])},2188:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("toolbar-list",{attrs:{info:t.infoComponent,title:"Asignación Masiva",subtitle:"Procesos de asignación masiva",btnplus:"",btnplustitle:"Crear proceso de asignación"}}),t._v(" "),a("data-table-v2",{ref:"tableAsignacionMasiva",on:{resetOption:function(e){return t.resetOptions(e)},anular:function(e){return t.anular(e)},verdetalle:function(e){return t.$store.commit("NAV_ADD_ITEM",{ruta:"detalleAsignacionMasiva",titulo:"detalle asignación masiva: "+e.id,parametros:{entidad:e,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}},model:{value:t.dataTable,callback:function(e){t.dataTable=e},expression:"dataTable"}}),t._v(" "),a("confirmar",{attrs:{loading:t.dialogA.loading,value:t.dialogA.visible,content:t.dialogA.content,"requiere-motivo":!1},on:{cancelar:t.cancelaConfirmacion,aceptar:t.aceptaConfirmacion}})],1)},i=[],o={render:n,staticRenderFns:i};e.a=o},668:function(t,e,a){"use strict";function n(t){a(2186)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(1215),o=a(2188),s=a(1),l=n,r=s(i.a,o.a,!1,l,"data-v-442daaee",null);e.default=r.exports}});
//# sourceMappingURL=98.c2f0daf3b4b34c69407c.js.map