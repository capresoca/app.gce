webpackJsonp([173],{1570:function(n,a,t){var e=t(1571);"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);t(456)("07e2c19a",e,!0,{})},1571:function(n,a,t){a=n.exports=t(455)(!0),a.push([n.i,".cal-item .btn[data-v-3683e97f]{margin:0 5px;height:28px;width:28px}.cal-item .btn i[data-v-3683e97f]{font-size:22px}.cal-item .card__title[data-v-3683e97f]{padding:16px}.cal-item .list__tile[data-v-3683e97f]{height:unset!important;padding:10px 16px}.cal-item .list__tile .list__tile__action[data-v-3683e97f]{-ms-flex-item-align:start;align-self:flex-start;min-width:unset;padding-right:16px}.cal-item .color-2[data-v-3683e97f]{background-color:#f44336}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/administrativo/pagos/saldosIniciales/RegistroSalInicial.vue"],names:[],mappings:"AAorBA,gCACE,aAAc,AACd,YAAa,AACb,UAAY,CACb,AACD,kCACE,cAAgB,CACjB,AACD,wCACE,YAAkB,CACnB,AACD,uCACE,uBAAwB,AACxB,iBAAmB,CACpB,AACD,2DACE,0BAA2B,AACvB,sBAAuB,AAC3B,gBAAiB,AACjB,kBAAoB,CACrB,AACD,oCACE,wBAA0B,CAC3B",file:"RegistroSalInicial.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*#inputUsage .layout .flex div {*/\n/*border: 1px dashed rgba(0,0,0,0.4) !important;*/\n/*}*/\n.cal-item .btn[data-v-3683e97f] {\n  margin: 0 5px;\n  height: 28px;\n  width: 28px;\n}\n.cal-item .btn i[data-v-3683e97f] {\n  font-size: 22px;\n}\n.cal-item .card__title[data-v-3683e97f] {\n  padding: 16px 16px\n}\n.cal-item .list__tile[data-v-3683e97f] {\n  height: unset!important;\n  padding: 10px 16px;\n}\n.cal-item .list__tile .list__tile__action[data-v-3683e97f] {\n  -ms-flex-item-align: start;\n      align-self: flex-start;\n  min-width: unset;\n  padding-right: 16px;\n}\n.cal-item .color-2[data-v-3683e97f] {\n  background-color: #F44336;\n}\n"],sourceRoot:""}])},1572:function(n,a,t){"use strict";var e=function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("div",[t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:n.dialog,callback:function(a){n.dialog=a},expression:"dialog"}},[t("v-card",[t("v-card-text",{staticClass:"title font-weight-light"},[n._v("¿Esta seguro que desea confirmar el estado de la cuenta?")]),n._v(" "),t("v-card-actions",[t("v-spacer"),n._v(" "),t("v-btn",{attrs:{flat:""},on:{click:function(a){return n.confirmarEstado()}}},[n._v("No")]),n._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:function(a){return a.stopPropagation(),n.confirmarEstado("yesConfirmar")}}},[n._v("Si")])],1)],1)],1),n._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:n.dialog2,callback:function(a){n.dialog2=a},expression:"dialog2"}},[t("v-card",[t("v-card-title",{staticClass:"grey lighten-3"},[t("span",{staticClass:"title"},[n._v("¿Qué desea hacer?")])]),n._v(" "),t("v-container",{attrs:{fluid:""}},[t("v-layout",{staticClass:"justify-center",attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs4:""}},[t("v-checkbox",{staticClass:"shrink mr-2",attrs:{color:"teal","off-icon":"done","on-icon":"done_all",default:"",value:"Confirmado"==n.salInicial.estado,disabled:"Anulado"==n.salInicial.estado,label:"Anulado"!=n.salInicial.estado?"Confirmar":"Anulado","hide-details":""},model:{value:n.confirmar,callback:function(a){n.confirmar=a},expression:"confirmar"}})],1),n._v(" "),t("v-flex",{attrs:{xs4:""}},[null!=n.salInicial.id?t("v-checkbox",{staticClass:"shrink mr-2",attrs:{color:"black","off-icon":"far fa-file-pdf","on-icon":"far fa-file-pdf","hide-details":"",label:"Imprimir PDF"},model:{value:n.imprime,callback:function(a){n.imprime=a},expression:"imprime"}}):n._e()],1)],1)],1),n._v(" "),t("v-card-actions",[t("v-spacer"),n._v(" "),t("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(a){return n.enviarCambio()}}},[n._v("Aceptar")])],1)],1)],1),n._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:n.dialog3,callback:function(a){n.dialog3=a},expression:"dialog3"}},[t("v-card",[t("v-card-title",{staticClass:"grey lighten-3"},[t("v-card-text",{staticClass:"title"},[n._v("¿Por qué anula esta cuenta?")])],1),n._v(" "),t("v-container",{attrs:{fluid:""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{outline:"",color:"primary",name:"Detalle de anulación"},model:{value:n.detalle_anulacion,callback:function(a){n.detalle_anulacion=a},expression:"detalle_anulacion"}},[t("div",{attrs:{slot:"label"},slot:"label"},[n._v("\n                    Detalle de anulación\n                  ")])])],1)],1)],1),n._v(" "),t("v-card-actions",[t("v-spacer"),n._v(" "),t("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(a){return n.esAnulado(n.salInicial,n.detalle_anulacion)}}},[n._v("Enviar")])],1)],1)],1)],1),n._v(" "),t("v-toolbar",{staticClass:"grey lighten-3 elevation-0 toolbar--dense"},[t("v-toolbar-title",[n._v(" "+n._s(n.tapTitulo)+" ")]),n._v("  \n      "),n._v(" "),t("v-spacer"),n._v(" "),null!=n.salInicial.id?t("h2",{staticClass:"title"},[n._v("Saldo Inicial ")]):n._e(),n._v(" "),null!=n.salInicial.id?t("div",[t("v-chip",{attrs:{label:"",color:"white","text-color":"red",dark:"",absolute:"",right:"",top:""}},[t("span",{staticClass:"subheading"},[n._v("N°")]),n._v(" \n          "),t("span",{staticClass:"subheading",domProps:{textContent:n._s(null==n.salInicial.consecutivo?"0000":n.str_pad(n.salInicial.consecutivo,6))}})]),n._v(" "),t("v-chip",{attrs:{color:n.colorEstado,"text-color":"white"}},[t("v-avatar",[t("v-icon",{domProps:{textContent:n._s(n.iconoEstado)}})],1),n._v("\n          "+n._s(n.salInicial.estado)+"\n        ")],1)],1):n._e()],1),n._v(" "),t("registro-niif",{attrs:{value:n.dialogFormNiif,cue:n.cuentaNiff},on:{cancelar:function(a){n.dialogFormNiif=!1},crear:function(a){return n.goNiif(a)}}}),n._v(" "),t("v-form",{attrs:{"data-vv-scope":"formPrincipal"}},[t("v-container",{attrs:{fluid:"","grid-list-md":"","grid-list-xl":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"pb-1",attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[t("v-menu",{ref:"menuDate",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:n.menuDate,callback:function(a){n.menuDate=a},expression:"menuDate"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{slot:"activator",label:"Fecha","prepend-icon":"event",readonly:"",name:"fecha",disabled:"Confirmado"===n.salInicial.estado,"error-messages":n.errors.collect("fecha")},slot:"activator",model:{value:n.computedDateFormatted,callback:function(a){n.computedDateFormatted=a},expression:"computedDateFormatted"}}),n._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":"",max:n.maxDate},on:{input:function(a){n.menuDate=!1},change:function(){var a=n.$validator.errors.items.findIndex(function(n){return"fecha"===n.field});n.$validator.errors.items.splice(-1!==a?a:0,-1!==a?1:0)}},model:{value:n.salInicial.fecha,callback:function(a){n.$set(n.salInicial,"fecha",a)},expression:"salInicial.fecha"}})],1)],1),n._v(" "),t("v-flex",{staticClass:"pb-1",attrs:{xs12:"",sm12:"",md3:"",xl3:""}},[t("v-select",{key:"tipo",attrs:{items:n.tipos,label:"Tipo",name:"tipo","error-messages":n.errors.collect("tipo"),disabled:"Confirmado"===n.salInicial.estado},model:{value:n.salInicial.tipo,callback:function(a){n.$set(n.salInicial,"tipo",a)},expression:"salInicial.tipo"}})],1),n._v(" "),t("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[t("v-card",[t("v-container",{attrs:{fluid:"","grid-list-md":"","grid-list-xl":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm12:"",md4:"",xl4:""}},[t("postulador",{ref:"postulaProveedor",attrs:{nodata:"Busqueda por nombre o número de documento.",required:"",hint:"tercero.nombre_completo",itemtext:"tercero.identificacion_completa",datatitle:"tercero.identificacion_completa",datasubtitle:"tercero.nombre_completo",filter:"tercero.identificacion_completa,tercero.nombre_completo",label:null==n.salInicial.pg_proveedore_id?"proveedor":"Proveedor",scope:"formPrincipal",lite:"",disabled:"Confirmado"===n.salInicial.estado,entidad:"pg_proveedores",preicon:"local_shipping",value:n.salInicial.proveedor,clearable:""},on:{change:function(a){return n.salInicial.pg_proveedore_id=a},objectReturn:function(a){return n.salInicial.proveedor=a}}})],1),n._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md5:"",xl5:""}},[t("postulador",{ref:"buscarCuenta",attrs:{nodata:"Busqueda por código o nombre.",required:"",hint:"nombre",itemtext:"codigo",datatitle:"codigo",datasubtitle:"nombre",filter:"codigo,nombre",label:n.salInicial.nf_niif_id?"Cuenta":"cuenta",disabled:"Confirmado"===n.salInicial.estado,scope:"formPrincipal",entidad:"niifs",preicon:"list_alt",routeparams:"nivel:auxiliar=1",value:n.salInicial.niif,clearable:"",btnplustruncate:""},on:{change:function(a){return n.salInicial.nf_niif_id=a},objectReturn:function(a){return n.salInicial.niif=a},click:function(a){return n.openNuevaNiif(1)}}})],1),n._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md3:"",xl3:""}},[t("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Valor",name:"valor",precision:0,"prepend-icon":"attach_money","error-messages":n.errors.collect("valor"),disabled:"Confirmado"===n.salInicial.estado},model:{value:n.salInicial.valor,callback:function(a){n.$set(n.salInicial,"valor",n._n(a))},expression:"salInicial.valor"}})],1),n._v(" "),["CXP"===n.salInicial.tipo?t("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm12:"",md12:"",xl12:""}},[t("v-subheader",{staticClass:"title pl-0",domProps:{textContent:n._s("Cuenta por pagar")}}),n._v(" "),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm12:"",md3:"",xl3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:20|not_in:"+n.numeroDocumentoResgistrado,expression:"'required|max:20|not_in:' + numeroDocumentoResgistrado"}],key:"número documento",attrs:{disabled:"Confirmado"===n.salInicial.estado,prefix:void 0!==n.salInicial.no_documento||null!=n.salInicial.no_documento?"N°":"",label:"No. Documento",name:"número documento",required:"","error-messages":n.errors.collect("número documento")},model:{value:n.salInicial.no_documento,callback:function(a){n.$set(n.salInicial,"no_documento",a)},expression:"salInicial.no_documento"}})],1),n._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md3:"",xl3:""}},[t("v-menu",{ref:"menuDate2",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:n.menuDate2,callback:function(a){n.menuDate2=a},expression:"menuDate2"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{slot:"activator",label:"Fecha documento","prepend-icon":"event",readonly:"",name:"fecha documento",disabled:"Confirmado"===n.salInicial.estado,"error-messages":n.errors.collect("fecha documento")},slot:"activator",model:{value:n.computedDateFormatted2,callback:function(a){n.computedDateFormatted2=a},expression:"computedDateFormatted2"}}),n._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":"",max:n.maxDate},on:{input:function(a){n.menuDate2=!1},change:function(){var a=n.$validator.errors.items.findIndex(function(n){return"fecha documento"===n.field});n.$validator.errors.items.splice(-1!==a?a:0,-1!==a?1:0)}},model:{value:n.salInicial.fecha_documento,callback:function(a){n.$set(n.salInicial,"fecha_documento",a)},expression:"salInicial.fecha_documento"}})],1)],1),n._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md3:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"plazo",attrs:{label:"Plazo",step:0,type:"number",required:"",name:"plazo","error-messages":n.errors.collect("plazo"),disabled:"Confirmado"===n.salInicial.estado,suffix:n.plazo?1!==n.plazo?"días":"día":""},model:{value:n.plazo,callback:function(a){n.plazo=n._n(a)},expression:"plazo"}})],1),n._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md3:"",xl3:""}},[t("v-text-field",{attrs:{value:n.computedDateFormatted3,label:"Fecha vencimiento","prepend-icon":"event",disabled:""}})],1)],1)],1):"Anticipo"===n.salInicial.tipo?t("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm12:"",md12:"",xl12:""}},[t("v-subheader",{staticClass:"title pl-0",domProps:{textContent:n._s("Anticipos")}}),n._v(" "),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm12:"",md3:"",xl3:""}},[t("v-menu",{ref:"menuDate4",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:n.menuDate4,callback:function(a){n.menuDate4=a},expression:"menuDate4"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{slot:"activator",label:"Fecha anticipo","prepend-icon":"event",readonly:"",name:"fecha anticipo",required:"",disabled:"Confirmado"===n.salInicial.estado,"data-vv-delay":"2000","error-messages":n.errors.collect("fecha anticipo")},slot:"activator",model:{value:n.computedDateFormatted4,callback:function(a){n.computedDateFormatted4=a},expression:"computedDateFormatted4"}}),n._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":"",max:n.maxDate},on:{input:function(a){n.menuDate4=!1}},model:{value:n.salInicial.fecha_anticipo,callback:function(a){n.$set(n.salInicial,"fecha_anticipo",a)},expression:"salInicial.fecha_anticipo"}})],1)],1)],1)],1):n._e()]],2)],1)],1)],1)],1)],1)],1),n._v(" "),t("v-card",[t("v-divider"),n._v(" "),t("v-card-actions",{staticClass:"grey lighten-4"},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"text-xs-left",attrs:{xs6:""}},[t("v-btn",{on:{click:function(a){return n.refresh(null)}}},[n._v("Limpiar")])],1),n._v(" "),t("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[t("v-btn",{on:{click:function(a){return n.close()}}},[n._v("Cancelar")]),n._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:function(a){return a.preventDefault(),n.confirmarSave(a)}}},[n._v("Guardar")])],1)],1)],1)],1)],1)},i=[],o={render:e,staticRenderFns:i};a.a=o},504:function(n,a,t){"use strict";function e(n){t(1570)}Object.defineProperty(a,"__esModule",{value:!0});var i=t(989),o=t(1572),l=t(1),s=e,r=l(i.a,o.a,!1,s,"data-v-3683e97f",null);a.default=r.exports},989:function(n,a,t){"use strict";var e=t(13),i=t.n(e),o=t(14),l=t.n(o),s=t(7),r=t.n(s),c=t(249),d=t.n(c),u=t(40),m=t(248),f=t(12),v=t(254);a.a={name:"RegistroSalInicial",components:{InputNumber:v.default,RegistroNiif:function(){return t.e(0).then(t.bind(null,457))},Postulador:function(){return t.e(287).then(t.bind(null,747))}},props:["parametros"],data:function(){return{salIniciales:[],salInicial:{},salInicialEdicion:{id:null,consecutivo:null,fecha:this.moment().format("YYYY-MM-DD"),pg_proveedore_id:null,no_documento:null,fecha_anticipo:null,fecha_documento:null,fecha_vencimiento:null,nf_niif_id:null,valor:null,cxp_plazo:null,observaciones:null,detalle_anulacion:null,tipo:null,estado:null,proveedor:null,niif:null},dialogFormNiif:!1,cuentaNiff:null,niifNueva:null,plazo:null,maxDate:this.moment().format("YYYY-MM-DD"),pagination:{},tipos:["CXP","Anticipo"],estados:["Registrado","Confirmado","Anulado"],dialogEliminar:!1,detalle_anulacion:null,registrar:!1,confirmar:!1,dialog:!1,dialog2:!1,dialog3:!1,menuDate:!1,menuDate2:!1,menuDate3:!1,menuDate4:!1,numeroDocumentoResgistrado:null,imprime:!1,tableLoading:!1,descriptionLimit:60}},watch:{"salInicial.proveedor":function(n){console.log("proveerdor",n),n&&(this.plazo=n.plazo,this.salInicial.niif=n?n.niif:null)},"salInicial.tipo":function(n){"CXP"===n?(this.salInicial.fecha_anticipo=this.moment().format("YYYY-MM-DD"),this.salInicial.fecha_documento=this.moment().format("YYYY-MM-DD"),this.salInicial.fecha_anticipo=null):"Anticipo"===n&&(this.salInicial.fecha_anticipo=this.moment().format("YYYY-MM-DD"))},plazo:function(n){this.salInicial.fecha_vencimiento=this.moment(this.salInicial.fecha_documento).add(n,"d").format("YYYY-MM-DD"),this.salInicial.cxp_plazo=n}},computed:{tapTitulo:function(){return this.salInicial.id?"Registrado"!==this.salInicial.estado?"Visualizando":"En Edición":"Nuevo Saldo Inicial"},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)},typeObject:function(){return void 0===this.object},computedDateFormatted:function(){return this.formDate(this.salInicial.fecha)},computedDateFormatted2:function(){return this.formDate(this.salInicial.fecha_documento)},computedDateFormatted3:function(){return this.formDate(this.salInicial.fecha_vencimiento)},computedDateFormatted4:function(){return this.formDate(this.salInicial.fecha_anticipo)},colorEstado:function(){return this.statusComdiario().color},iconoEstado:function(){return this.statusComdiario().icono}},beforeCreate:function(){var n=this;this.axios.get("pg_saliniciales").then(function(a){n.salIniciales=a.data.data,n.numeroDocumentoResgistrado=n.getNumDocumentoUsado()}).catch(function(a){n.$store.commit(f.b,{msg:"Hay un error al traer los saldos iniciales. "+a.response,color:"danger"})})},beforeMount:function(){this.refresh(),this.formReset()},mounted:function(){null!==this.parametros.entidad&&(console.log(this.parametros),this.getRegisto(this.parametros.entidad.id));var n={custom:{factura:{not_in:"El número de documento ya se encuentra registrado."}}};this.$validator.localize("es",n)},methods:{statusComdiario:function(){var n=null,a=null;switch(this.salInicial.estado){case"Registrado":n="primary",a="stars";break;case"Confirmado":n="teal",a="check_circle";break;case"Anulado":n="red",a="remove_circle";break;default:n="primary",a="stars"}return{color:n,icono:a}},openNuevaNiif:function(n){this.niifNueva=n,this.dialogFormNiif=!0},goNiif:function(n){1===this.niifNueva&&(this.salInicial.niif=n),this.dialogFormNiif=!1},formReset:function(){this.numeroDocumentoResgistrado=this.getNumDocumentoUsado()},formDate:function(n){if(!n)return null;var a=n.split("-"),t=d()(a,3);return t[0]+"/"+t[1]+"/"+t[2]},getRegisto:function(n){var a=this,t=this.$loading.show({container:this.$refs.cargar});this.axios.get("pg_saliniciales/"+n).then(function(n){console.log("Saliniciale",n),""!==n.data&&(a.salInicial=n.data.data,a.numeroDocumentoResgistrado=a.getNumDocumentoUsado()),t.hide()}).catch(function(n){a.$store.commit(f.b,{msg:"Hay un error al traer el saldo inicial. "+n.response,color:"danger"})})},getNumDocumentoUsado:function(){var n=this;return this.salIniciales.map(function(a){if(null==n.salIniciales.no_documento||n.salIniciales.no_documento!==a.no_documento)return a.no_documento})},close:function(){this.formReset(),this.$validator.reset(),this.$store.dispatch(u.c,{contexto:this,itemId:this.parametros.tabOrigin})},refresh:function(){this.$validator.reset(),this.salInicial=JSON.parse(r()(this.salInicialEdicion))},imprimirCuenta:function(){this.dialog2=!1,console.log("Enviando a imprimir");var n=this.axios.defaults.baseURL+"salIniciales/pdf/"+this.salInicial.id;window.open(n,"_blank")},validador:function(n){return this.$validator.validateAll(n).then(function(n){return n})},confirmarSave:function(){var n=this;return l()(i.a.mark(function a(){var t,e;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.$refs.buscarCuenta.validate();case 2:return t=a.sent,a.next=5,n.$refs.postulaProveedor.validate();case 5:return e=a.sent,a.next=8,n.validador("formPrincipal");case 8:if(a.t1=a.sent,!a.t1){a.next=11;break}a.t1=t;case 11:if(a.t0=a.t1,!a.t0){a.next=14;break}a.t0=e;case 14:if(!a.t0){a.next=18;break}n.dialog2=!0,a.next=19;break;case 18:n.$store.commit(f.b,{msg:"Se presentan errores al tratar de guardar el saldo.",color:"danger"});case 19:case"end":return a.stop()}},a,n)}))()},confirmarEstado:function(n){"yesConfirmar"===n?(this.confirmar&&this.imprime?(this.salInicial.estado="Confirmado",this.imprimirCuenta()):this.salInicial.estado="Confirmado",this.dialog=!1,this.dialog2=!1,this.save(),this.$store.commit(f.b,{msg:"El estado de la cuenta ha sido Confirmado",color:"success"})):(this.imprime&&this.imprimirCuenta(),this.confirmar=!1,this.dialog=!1,this.dialog2=!1,this.salInicial.estado="Registrado",this.save(),this.$store.commit(f.b,{msg:"El estado de la cuenta ha sido Registrado",color:"success"}))},esAnulado:function(n,a){this.dialog3=!1,this.dialog2=!1,n.detalle_anulacion=a,this.save()},enviarCambio:function(){this.confirmar?this.dialog=!0:this.confirmar&&this.imprime?this.dialog=!0:this.imprime?(this.salInicial.estado="Registrado",this.imprimirCuenta(),this.save()):"Anulado"===this.salInicial.estado?this.dialog3=!0:"Anulado"===this.salInicial.estado&&this.imprime?this.dialog3=!0:(this.salInicial.estado="Registrado",this.save(),this.$store.commit(f.b,{msg:"El estado de la cuenta  ha sido Registrado",color:"success"}))},save:function(){var n=this,a=this.salInicial.id?"editar":"crear";this.axios.post("pg_saliniciales",this.salInicial).then(function(t){n.salInicial.id?n.$store.commit(f.b,{msg:"El saldo se actualizó correctamente",color:"success"}):n.$store.commit(f.b,{msg:"El saldo inicial se creó correctamente",color:"success"}),n.$store.commit(m._16,{salInicial:t.data.data,estado:a,key:n.parametros.key}),n.$store.dispatch(u.c,{contexto:n,itemId:n.parametros.tabOrigin})}).catch(function(a){n.$store.commit(f.b,{msg:"Hay un error al guardar el registro. "+a.response,color:"danger"})})}}}}});
//# sourceMappingURL=173.9061316d6787ae42e415.js.map