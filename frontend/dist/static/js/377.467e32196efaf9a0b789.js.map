{"version":3,"sources":["webpack:///static/js/377.467e32196efaf9a0b789.js","webpack:///src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue","webpack:///./src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue","webpack:///./src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue?ef58","webpack:///./src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue?e8f5","webpack:///./src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue?043d"],"names":["webpackJsonp","1274","module","__webpack_exports__","__webpack_require__","name","data","dialog","loading","factura","radicado","modelo","planCobertura","planes","filterPlanCobertura","item","queryText","hasValue","val","text","contrato","numero_contrato","nombre","query","toString","toLowerCase","indexOf","methods","submit","_this","this","axios","put","id","then","response","$store","commit","msg","consecutivo","color","catch","e","expression","error","assign","_this2","get","id_radicado","cm_radicado_id","rs_contrato_id","valor_neto","valor_compartido","valor_descuentos","valor_comision","rs_entidad_id","find","x","y","entidad","no_factura","2391","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditarFactura_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d7e1c502_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditarFactura_vue__","normalizeComponent","__vue_styles__","Component","2392","exports","content","i","locals","2393","push","version","sources","names","mappings","file","sourceRoot","2394","render","_vm","_h","$createElement","_c","_self","attrs","persistent","max-width","model","callback","$$v","staticClass","_v","_s","directives","rawName","label","error-messages","errors","collect","$set","items","required","item-value","return-object","filter","hint","persistent-hint","on","change","scopedSlots","_u","key","fn","staticStyle","width","prepend-icon","_n","_e","flat","click","$event","staticRenderFns","esExports"],"mappings":"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","file":"static/js/377.467e32196efaf9a0b789.js","sourcesContent":["webpackJsonp([377],{\n\n/***/ 1274:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'EditarFactura',\n  data: function data() {\n    return {\n      dialog: false,\n      loading: false,\n      factura: null,\n      radicado: null,\n      modelo: null,\n      planCobertura: null,\n      planes: [],\n      filterPlanCobertura: function filterPlanCobertura(item, queryText) {\n        var hasValue = function hasValue(val) {\n          return val != null ? val : '';\n        };\n        var text = hasValue(item.contrato.numero_contrato + ' ' + item.nombre);\n        var query = hasValue(queryText);\n        return text.toString().toLowerCase().indexOf(query.toString().toLowerCase()) > -1;\n      }\n    };\n  },\n  methods: {\n    submit: function submit() {\n      var _this = this;\n\n      this.loading = true;\n      this.axios.put('cmcapitadas/' + this.modelo.factura.id, this.modelo).then(function (response) {\n        _this.$store.commit('reloadTable', 'tableFacturasRadicadas');\n        _this.$store.commit('SNACK_SHOW', { msg: 'La factura ' + _this.factura.consecutivo + ' se actualiz\\xF3.', color: 'success' });\n        _this.dialog = false;\n        _this.loading = false;\n      }).catch(function (e) {\n        _this.loading = false;\n        _this.$store.commit('SNACK_ERROR_LIST', { expression: 'Hay un error al enviar los datos.', error: e });\n      });\n    },\n    assign: function assign(item) {\n      var _this2 = this;\n\n      this.planCobertura = null;\n      this.planes = [];\n      this.dialog = true;\n      this.loading = true;\n      this.axios.get('radicado_capitados/' + item.id).then(function (response) {\n        _this2.factura = response.data.factura;\n        _this2.radicado = response.data.radicado;\n        _this2.modelo = {\n          id_radicado: _this2.factura.cm_radicado_id,\n          rs_contrato_id: _this2.radicado.rs_contrato_id,\n          factura: {\n            id: _this2.factura.id,\n            consecutivo: _this2.factura.consecutivo,\n            valor_neto: _this2.factura.valor_neto,\n            valor_compartido: _this2.factura.valor_compartido,\n            valor_descuentos: _this2.factura.valor_descuentos,\n            valor_comision: _this2.factura.valor_comision\n          }\n        };\n        _this2.axios.get('radicadas/contratos_ips/' + _this2.radicado.rs_entidad_id).then(function (response) {\n          _this2.planes = response.data.data;\n          if (_this2.radicado.rs_contrato_id && _this2.planes.find(function (x) {\n            return x.id === _this2.radicado.rs_contrato_id;\n          })) {\n            _this2.planCobertura = _this2.planes.find(function (y) {\n              return y.id === _this2.radicado.rs_contrato_id;\n            });\n          }\n          _this2.loading = false;\n        }).catch(function () {\n          _this2.loading = false;\n          _this2.$store.commit('SNACK_SHOW', { msg: 'Error al recuperar los contratos de la entidad: ' + _this2.factura.entidad.nombre + '.', color: 'danger' });\n        });\n      }).catch(function () {\n        _this2.loading = false;\n        _this2.$store.commit('SNACK_SHOW', { msg: 'Error al recuperar la informaci\\xF3n de la factura ' + item.no_factura + '.', color: 'danger' });\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 2391:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditarFactura_vue__ = __webpack_require__(1274);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d7e1c502_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditarFactura_vue__ = __webpack_require__(2394);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(2392)\n}\nvar normalizeComponent = __webpack_require__(1)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d7e1c502\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_EditarFactura_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d7e1c502_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_EditarFactura_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 2392:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2393);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(456)(\"65b9920f\", content, true, {});\n\n/***/ }),\n\n/***/ 2393:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(455)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"EditarFactura.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 2394:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"480\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Actualización de Factura \"+_vm._s(_vm.factura && _vm.factura.consecutivo ? _vm.factura.consecutivo : '')+\" \")]),_vm._v(\" \"),_c('loading',{model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}}),_vm._v(\" \"),(_vm.modelo)?_c('v-card-text',[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"label\":\"Consecutivo Factura\",\"name\":\"consecutivo factura\",\"error-messages\":_vm.errors.collect('consecutivo factura')},model:{value:(_vm.modelo.factura.consecutivo),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"consecutivo\", $$v)},expression:\"modelo.factura.consecutivo\"}}),_vm._v(\" \"),_c('v-autocomplete',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"label\":\"Plan de cobertura\",\"name\":\"plan cobertura\",\"items\":_vm.planes,\"required\":\"\",\"item-value\":\"id\",\"return-object\":\"\",\"error-messages\":_vm.errors.collect('plan cobertura'),\"filter\":_vm.filterPlanCobertura,\"hint\":_vm.planCobertura ? 'Contrato:' + _vm.planCobertura.contrato.numero_contrato : '',\"persistent-hint\":\"\"},on:{\"change\":function (val) { return _vm.modelo.rs_contrato_id = val.id; }},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [_c('v-list-tile-content',{staticClass:\"truncate-content\",staticStyle:{\"width\":\"100% !important\"}},[_c('v-list-tile-title',[_vm._v(_vm._s(data.item.nombre))]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_vm._v(\"Contrato: \"+_vm._s(data.item.contrato.numero_contrato))])],1)]}},{key:\"selection\",fn:function(data){return [_c('span',[_vm._v(_vm._s(data.item.nombre))])]}}],null,false,1607788164),model:{value:(_vm.planCobertura),callback:function ($$v) {_vm.planCobertura=$$v},expression:\"planCobertura\"}}),_vm._v(\" \"),_c('input-number',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required|min_value:0\"),expression:\"`required|min_value:0`\"}],attrs:{\"label\":\"Valor Neto\",\"name\":\"valor neto\",\"prepend-icon\":\"attach_money\",\"error-messages\":_vm.errors.collect(\"valor neto\")},model:{value:(_vm.modelo.factura.valor_neto),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"valor_neto\", _vm._n($$v))},expression:\"modelo.factura.valor_neto\"}}),_vm._v(\" \"),_c('input-number',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required|min_value:0\"),expression:\"`required|min_value:0`\"}],attrs:{\"label\":\"Valor Compartido\",\"name\":\"valor compartido\",\"prepend-icon\":\"attach_money\",\"error-messages\":_vm.errors.collect(\"valor compartido\")},model:{value:(_vm.modelo.factura.valor_compartido),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"valor_compartido\", _vm._n($$v))},expression:\"modelo.factura.valor_compartido\"}}),_vm._v(\" \"),_c('input-number',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required|min_value:0\"),expression:\"`required|min_value:0`\"}],attrs:{\"label\":\"Valor Descuentos\",\"name\":\"valor descuentos\",\"prepend-icon\":\"attach_money\",\"error-messages\":_vm.errors.collect(\"valor descuentos\")},model:{value:(_vm.modelo.factura.valor_descuentos),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"valor_descuentos\", _vm._n($$v))},expression:\"modelo.factura.valor_descuentos\"}}),_vm._v(\" \"),_c('input-number',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required|min_value:0\"),expression:\"`required|min_value:0`\"}],attrs:{\"label\":\"Valor Comisión\",\"name\":\"valor comisión\",\"prepend-icon\":\"attach_money\",\"error-messages\":_vm.errors.collect(\"valor comisión\")},model:{value:(_vm.modelo.factura.valor_comision),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"valor_comision\", _vm._n($$v))},expression:\"modelo.factura.valor_comision\"}})],1):_vm._e(),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Cancelar\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"Actualizar\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/377.467e32196efaf9a0b789.js","<template>\n  <v-dialog v-model=\"dialog\" persistent max-width=\"480\">\n    <v-card>\n      <v-card-title class=\"headline\">Actualización de Factura {{factura && factura.consecutivo ? factura.consecutivo : ''}} </v-card-title>\n      <loading v-model=\"loading\"></loading>\n      <v-card-text\n        v-if=\"modelo\"\n      >\n        <v-text-field\n          label=\"Consecutivo Factura\"\n          name=\"consecutivo factura\"\n          v-validate=\"'required'\"\n          :error-messages=\"errors.collect('consecutivo factura')\"\n          v-model=\"modelo.factura.consecutivo\"\n        >\n        </v-text-field>\n        <v-autocomplete\n          label=\"Plan de cobertura\"\n          name=\"plan cobertura\"\n          v-model=\"planCobertura\"\n          :items=\"planes\"\n          required\n          v-validate=\"'required'\"\n          item-value=\"id\"\n          return-object\n          :error-messages=\"errors.collect('plan cobertura')\"\n          :filter=\"filterPlanCobertura\"\n          :hint=\"planCobertura ? 'Contrato:' + planCobertura.contrato.numero_contrato : ''\"\n          persistent-hint\n          @change=\"val => modelo.rs_contrato_id = val.id\"\n        >\n          <template slot=\"item\" slot-scope=\"data\">\n            <v-list-tile-content class=\"truncate-content\" style=\"width: 100% !important;\">\n              <v-list-tile-title>{{data.item.nombre}}</v-list-tile-title>\n              <v-list-tile-sub-title>Contrato: {{data.item.contrato.numero_contrato}}</v-list-tile-sub-title>\n            </v-list-tile-content>\n          </template>\n          <template slot=\"selection\" slot-scope=\"data\">\n            <span>{{data.item.nombre}}</span>\n          </template>\n        </v-autocomplete>\n        <input-number\n          label=\"Valor Neto\"\n          name=\"valor neto\"\n          prepend-icon=\"attach_money\"\n          v-model.number=\"modelo.factura.valor_neto\"\n          v-validate=\"`required|min_value:0`\"\n          :error-messages=\"errors.collect(`valor neto`)\"\n        ></input-number>\n        <input-number\n          label=\"Valor Compartido\"\n          name=\"valor compartido\"\n          prepend-icon=\"attach_money\"\n          v-model.number=\"modelo.factura.valor_compartido\"\n          v-validate=\"`required|min_value:0`\"\n          :error-messages=\"errors.collect(`valor compartido`)\"\n        ></input-number>\n        <input-number\n          label=\"Valor Descuentos\"\n          name=\"valor descuentos\"\n          prepend-icon=\"attach_money\"\n          v-model.number=\"modelo.factura.valor_descuentos\"\n          v-validate=\"`required|min_value:0`\"\n          :error-messages=\"errors.collect(`valor descuentos`)\"\n        ></input-number>\n        <input-number\n          label=\"Valor Comisión\"\n          name=\"valor comisión\"\n          prepend-icon=\"attach_money\"\n          v-model.number=\"modelo.factura.valor_comision\"\n          v-validate=\"`required|min_value:0`\"\n          :error-messages=\"errors.collect(`valor comisión`)\"\n        ></input-number>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn flat @click=\"dialog = false\">Cancelar</v-btn>\n        <v-spacer></v-spacer>\n        <v-btn color=\"primary\" flat @click=\"submit\">Actualizar</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\n  export default {\n    name: 'EditarFactura',\n    data: () => ({\n      dialog: false,\n      loading: false,\n      factura: null,\n      radicado: null,\n      modelo: null,\n      planCobertura: null,\n      planes: [],\n      filterPlanCobertura (item, queryText) {\n        const hasValue = val => val != null ? val : ''\n        const text = hasValue(item.contrato.numero_contrato + ' ' + item.nombre)\n        const query = hasValue(queryText)\n        return text.toString().toLowerCase().indexOf(query.toString().toLowerCase()) > -1\n      }\n    }),\n    methods: {\n      submit () {\n        this.loading = true\n        this.axios.put(`cmcapitadas/${this.modelo.factura.id}`, this.modelo)\n          .then(response => {\n            this.$store.commit('reloadTable', 'tableFacturasRadicadas')\n            this.$store.commit('SNACK_SHOW', {msg: `La factura ${this.factura.consecutivo} se actualizó.`, color: 'success'})\n            this.dialog = false\n            this.loading = false\n          }).catch(e => {\n            this.loading = false\n            this.$store.commit('SNACK_ERROR_LIST', {expression: 'Hay un error al enviar los datos.', error: e})\n          })\n      },\n      assign (item) {\n        this.planCobertura = null\n        this.planes = []\n        this.dialog = true\n        this.loading = true\n        this.axios.get(`radicado_capitados/${item.id}`)\n          .then(response => {\n            this.factura = response.data.factura\n            this.radicado = response.data.radicado\n            this.modelo = {\n              id_radicado: this.factura.cm_radicado_id,\n              rs_contrato_id: this.radicado.rs_contrato_id,\n              factura: {\n                id: this.factura.id,\n                consecutivo: this.factura.consecutivo,\n                valor_neto: this.factura.valor_neto,\n                valor_compartido: this.factura.valor_compartido,\n                valor_descuentos: this.factura.valor_descuentos,\n                valor_comision: this.factura.valor_comision\n              }\n            }\n            this.axios.get(`radicadas/contratos_ips/${this.radicado.rs_entidad_id}`)\n              .then(response => {\n                this.planes = response.data.data\n                if (this.radicado.rs_contrato_id && this.planes.find(x => x.id === this.radicado.rs_contrato_id)) {\n                  this.planCobertura = this.planes.find(y => y.id === this.radicado.rs_contrato_id)\n                }\n                this.loading = false\n              }).catch(() => {\n                this.loading = false\n                this.$store.commit('SNACK_SHOW', {msg: `Error al recuperar los contratos de la entidad: ${this.factura.entidad.nombre}.`, color: 'danger'})\n              })\n          }).catch(() => {\n            this.loading = false\n            this.$store.commit('SNACK_SHOW', {msg: `Error al recuperar la información de la factura ${item.no_factura}.`, color: 'danger'})\n          })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d7e1c502\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditarFactura.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditarFactura.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditarFactura.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d7e1c502\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditarFactura.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d7e1c502\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue\n// module id = 2391\n// module chunks = 377","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d7e1c502\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./EditarFactura.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"65b9920f\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d7e1c502\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue\n// module id = 2392\n// module chunks = 377","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"EditarFactura.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d7e1c502\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue\n// module id = 2393\n// module chunks = 377","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"480\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Actualización de Factura \"+_vm._s(_vm.factura && _vm.factura.consecutivo ? _vm.factura.consecutivo : '')+\" \")]),_vm._v(\" \"),_c('loading',{model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}}),_vm._v(\" \"),(_vm.modelo)?_c('v-card-text',[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"label\":\"Consecutivo Factura\",\"name\":\"consecutivo factura\",\"error-messages\":_vm.errors.collect('consecutivo factura')},model:{value:(_vm.modelo.factura.consecutivo),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"consecutivo\", $$v)},expression:\"modelo.factura.consecutivo\"}}),_vm._v(\" \"),_c('v-autocomplete',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"label\":\"Plan de cobertura\",\"name\":\"plan cobertura\",\"items\":_vm.planes,\"required\":\"\",\"item-value\":\"id\",\"return-object\":\"\",\"error-messages\":_vm.errors.collect('plan cobertura'),\"filter\":_vm.filterPlanCobertura,\"hint\":_vm.planCobertura ? 'Contrato:' + _vm.planCobertura.contrato.numero_contrato : '',\"persistent-hint\":\"\"},on:{\"change\":function (val) { return _vm.modelo.rs_contrato_id = val.id; }},scopedSlots:_vm._u([{key:\"item\",fn:function(data){return [_c('v-list-tile-content',{staticClass:\"truncate-content\",staticStyle:{\"width\":\"100% !important\"}},[_c('v-list-tile-title',[_vm._v(_vm._s(data.item.nombre))]),_vm._v(\" \"),_c('v-list-tile-sub-title',[_vm._v(\"Contrato: \"+_vm._s(data.item.contrato.numero_contrato))])],1)]}},{key:\"selection\",fn:function(data){return [_c('span',[_vm._v(_vm._s(data.item.nombre))])]}}],null,false,1607788164),model:{value:(_vm.planCobertura),callback:function ($$v) {_vm.planCobertura=$$v},expression:\"planCobertura\"}}),_vm._v(\" \"),_c('input-number',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required|min_value:0\"),expression:\"`required|min_value:0`\"}],attrs:{\"label\":\"Valor Neto\",\"name\":\"valor neto\",\"prepend-icon\":\"attach_money\",\"error-messages\":_vm.errors.collect(\"valor neto\")},model:{value:(_vm.modelo.factura.valor_neto),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"valor_neto\", _vm._n($$v))},expression:\"modelo.factura.valor_neto\"}}),_vm._v(\" \"),_c('input-number',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required|min_value:0\"),expression:\"`required|min_value:0`\"}],attrs:{\"label\":\"Valor Compartido\",\"name\":\"valor compartido\",\"prepend-icon\":\"attach_money\",\"error-messages\":_vm.errors.collect(\"valor compartido\")},model:{value:(_vm.modelo.factura.valor_compartido),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"valor_compartido\", _vm._n($$v))},expression:\"modelo.factura.valor_compartido\"}}),_vm._v(\" \"),_c('input-number',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required|min_value:0\"),expression:\"`required|min_value:0`\"}],attrs:{\"label\":\"Valor Descuentos\",\"name\":\"valor descuentos\",\"prepend-icon\":\"attach_money\",\"error-messages\":_vm.errors.collect(\"valor descuentos\")},model:{value:(_vm.modelo.factura.valor_descuentos),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"valor_descuentos\", _vm._n($$v))},expression:\"modelo.factura.valor_descuentos\"}}),_vm._v(\" \"),_c('input-number',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required|min_value:0\"),expression:\"`required|min_value:0`\"}],attrs:{\"label\":\"Valor Comisión\",\"name\":\"valor comisión\",\"prepend-icon\":\"attach_money\",\"error-messages\":_vm.errors.collect(\"valor comisión\")},model:{value:(_vm.modelo.factura.valor_comision),callback:function ($$v) {_vm.$set(_vm.modelo.factura, \"valor_comision\", _vm._n($$v))},expression:\"modelo.factura.valor_comision\"}})],1):_vm._e(),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Cancelar\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\"Actualizar\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d7e1c502\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/administrativo/auditoriaCuentas/radicadosAsignados/EditarFactura.vue\n// module id = 2394\n// module chunks = 377"],"sourceRoot":""}