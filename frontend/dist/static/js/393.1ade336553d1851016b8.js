webpackJsonp([393],{1337:function(t,e,a){"use strict";e.a={name:"TbCargo",data:function(){return{dialog:!1,cargo:null,dataTable:{nameItemState:"tableCargoTh",route:"talentohumano/cargos",makeHeaders:[{text:"# Cargo",align:"center",sortable:!1,value:"cargo",classData:"text-xs-center"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion",component:{template:'\n              <v-tooltip right>\n                <v-list-tile class="content-v-list-tile-p0 cursor-pointer" slot="activator">\n                  <v-list-tile-content class="truncate-content">\n                    <v-list-tile-title class="body-2">{{value.descripcion}}</v-list-tile-title>\n                  </v-list-tile-content>\n                </v-list-tile>\n                <span v-text="\'Tipo trabajador: \' + (value.tipo_trabajador ? (value.tipo_trabajador === 1 ? \'Administrativo\' : (value.tipo_trabajador === 2 ? \'Operativo\' : \'Especial\')) : null)"></span>\n              </v-tooltip>\n            ',props:["value"]}},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]}}},watch:{dialog:function(t){!1===t&&this.close()}},created:function(){this.formReset()},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("configbasicTHumano")},modalTitle:function(){return(null===this.cargo.cargo?"Nuevo ":"Edición del ")+"Cargo "+(null===this.cargo.cargo?"":this.cargo.cargo)},tipos:function(){return[{tipo_trabajador:1,nombre:"Administrativo"},{tipo_trabajador:2,nombre:"Operativo"},{tipo_trabajador:3,nombre:"Especial"}]}},methods:{formReset:function(){this.cargo={cargo:null,descripcion:null,funcion:null,tipo_trabajador:null}},resetOptions:function(t){return t.options=[],t.options.push({event:"editar",color:"accent",icon:"fas fa-edit",tooltip:"Edición del registro"}),t.options.push({event:"eliminar",color:"red",icon:"fas fa-trash",tooltip:"Eliminar registro"}),t},editarItem:function(t){this.cargo=this.clone(t),this.dialog=!this.dialog},close:function(){this.formReset(),this.$validator.reset(),this.dialog=!1},saveCargo:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){(t.cargo.cargo?t.axios.put("talentohumano/cargos/"+t.cargo.cargo,t.cargo):t.axios.post("talentohumano/cargos",t.cargo)).then(function(e){t.$store.commit("reloadTable","tableCargoTh"),t.$store.commit("SNACK_SHOW",{msg:"El cargo "+e.data.msg,color:"success"}),t.close()}).catch(function(e){t.$store.commit("SNACK_ERROR_LIST",{expression:" al registrar el cargo. ",error:e}),t.close()})}})},eliminarItem:function(t){var e=this;this.axios.delete("talentohumano/cargos/"+t.area).then(function(t){e.$store.commit("reloadTable","tableCargoTh"),e.$store.commit("SNACK_SHOW",{msg:"El cargo "+t.data.msg,color:"success"}),e.close()}).catch(function(t){e.$store.commit("SNACK_ERROR_LIST",{expression:" al eliminar el cargo. ",error:t})})}}}},2596:function(t,e,a){"use strict";function o(t){a(2597)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(1337),i=a(2599),n=a(1),s=o,c=n(r.a,i.a,!1,s,"data-v-5134ec48",null);e.default=c.exports},2597:function(t,e,a){var o=a(2598);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(456)("9fa971a2",o,!0,{})},2598:function(t,e,a){e=t.exports=a(455)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"TbCargo.vue",sourceRoot:""}])},2599:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("form",{ref:"form"},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-3"},[a("span",{staticClass:"headline"},[t._v(t._s(t.modalTitle))])]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200",expression:"'required|max:200'"}],key:"descripción",attrs:{label:"Descripción",name:"descripción",required:"","error-messages":t.errors.collect("descripción")},model:{value:t.cargo.descripcion,callback:function(e){t.$set(t.cargo,"descripcion",e)},expression:"cargo.descripcion"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Función",name:"función","error-messages":t.errors.collect("función"),rows:"1"},model:{value:t.cargo.funcion,callback:function(e){t.$set(t.cargo,"funcion",e)},expression:"cargo.funcion"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.tipos,"item-value":"tipo_trabajador","item-text":"nombre",name:"tipo trabajador",label:"Tipo Trabajador","error-messages":t.errors.collect("tipo trabajador")},model:{value:t.cargo.tipo_trabajador,callback:function(e){t.$set(t.cargo,"tipo_trabajador",e)},expression:"cargo.tipo_trabajador"}})],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:""},on:{click:t.close}},[t._v("Cancelar")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},domProps:{textContent:t._s(t.cargo.cargo?"Actualizar":"Guardar")},on:{click:function(e){return e.preventDefault(),t.saveCargo()}}})],1)],1)],1)]),t._v(" "),a("toolbar-list",{attrs:{info:t.infoComponent,title:"Cargos",subtitle:"Mantenimiento",btnplus:"",btnplustitle:"Crear Cargo",btnplustruncate:""},on:{click:function(e){t.dialog=!0}}}),t._v(" "),a("data-table-v2",{on:{resetOption:function(e){return t.resetOptions(e)},editar:function(e){return t.editarItem(e)},eliminar:function(e){return t.eliminarItem(e)}},model:{value:t.dataTable,callback:function(e){t.dataTable=e},expression:"dataTable"}})],1)},r=[],i={render:o,staticRenderFns:r};e.a=i}});
//# sourceMappingURL=393.1ade336553d1851016b8.js.map