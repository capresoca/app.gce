webpackJsonp([311],{1109:function(e,t,a){"use strict";var i=a(23),r=a.n(i),s=a(7),o=a.n(s),n=a(13),l=a.n(n),c=a(14),v=a.n(c),u=a(58),d=a(1933);t.a={name:"RegistroEstudioPrevio",components:{Loading:u.default,FormEstudioPrevio:d.a,Confirmar:function(){return a.e(289).then(a.bind(null,749))}},props:{value:{type:Object,default:null}},data:function(){return{formRequerido:"",dialogA:{loading:!1,visible:!1,content:null},estudioPrevio:null,makeEstudioPrevio:{ce_procontractuale_id:this.value.id,id:null,consecutivo:null,fecha:null,desc_necesidad:"",desc_tecnica:"",esp_tecnicas:"",sop_economico:"",alt_ejecucion:"",pos_riesgos:"",ce_tipcontratacione_id:null,plazo_meses:null,plazo_dias:null,valor:null,supervicion:null,lugar_ejecucion:"",productos_entregar:"",descripgarantias:"",desc_plazo:"",tarifas:"",imputacion_presupuestal:[],forpagos:[],garantias:[],actividades:[],proconminutageos:[],supervisor:null,supervisor_id:null,ce_tipocontrato_id:null,estado:"Registrado",registro:null,reviso:null,confirmo:null},procesoContractual:null,rubros:[],supervisores:[],proyectan:[],revisan:[],aprueban:[],loading:!1,errorValidate:""}},watch:{value:function(e){this.procesoContractual=e,this.procesoContractual.estudios_previos?this.estudioPrevio=this.procesoContractual.estudios_previos:this.formReset()}},created:function(){this.procesoContractual=this.value,this.procesoContractual.estudios_previos?this.estudioPrevio=this.procesoContractual.estudios_previos:this.formReset(),this.getPresupuesto(),this.getSupervisores(),this.getFirmantes()},methods:{reloadRequerido:function(e){var t=this;return v()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$refs.fEstudioPrevio.assignValidation(e);case 2:e?t.confirm():t.save();case 3:case"end":return a.stop()}},a,t)}))()},formReset:function(){this.estudioPrevio=JSON.parse(o()(this.makeEstudioPrevio)),this.errorValidate=""},getPresupuesto:function(){var e=this;this.axios.get("presupuestoActual").then(function(t){t.data.data.detalles&&(e.rubros=t.data.data.detalles)}).catch(function(t){e.$store.commit("SNACK_ERROR_LIST",{expression:" al traer el presupuesto. ",error:t})})},getSupervisores:function(){var e=this;this.axios.get("ce_supervisores").then(function(t){t.data.data&&(e.supervisores=t.data.data)}).catch(function(t){e.$store.commit("SNACK_ERROR_LIST",{expression:" al traer los supervisores. ",error:t})})},getFirmantes:function(){var e=this;this.axios.get("usuarios-firman-estudio-previo").then(function(t){t.data&&(e.proyectan=t.data.proyectan,e.revisan=t.data.revisan,e.aprueban=t.data.aprueban)}).catch(function(t){e.$store.commit("SNACK_ERROR_LIST",{expression:" al traer los funcionarios habilitados para firmar el estudio previo. ",error:t})})},confirm:function(){var e=this;return v()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validacion();case 2:if(!t.sent){t.next=5;break}e.dialogA.content="Los datos del estudio previo serán confirmados, si decide continuar, los datos no se podran editar nuevamente.<br/> <strong>¿Está seguro de confirmar los datos?</strong>",e.dialogA.visible=!0;case 5:case"end":return t.stop()}},t,e)}))()},cancelaConfirmacion:function(){this.dialogA.loading=!1,this.dialogA.visible=!1,this.dialogA.content=null},aceptaConfirmacion:function(){this.dialogA.loading=!0,this.estudioPrevio.estado="Confirmado",this.save()},save:function(){var e=this;return v()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validacion();case 2:if(!t.sent){t.next=8;break}return e.loading=!0,e.procesoContractual.servicios_salud||(e.estudioPrevio.tarifas=""),t.abrupt("return",new r.a(function(t){var a=JSON.parse(o()(e.estudioPrevio));a.proconminutageos.forEach(function(e){e.upcservicios=e.upcservicios.filter(function(e){return null!==e.porcentaje||null!==e.valor})}),(a.id?e.axios.put("ce_proconestprevios/"+a.id,a):e.axios.post("ce_proconestprevios",a)).then(function(a){a.data.data&&!a.data.data.proconminutageos&&(a.data.data.proconminutageos=[]),e.$store.commit("SNACK_SHOW",{msg:"El estudio previo se registró correctamente ",color:"success"}),e.$store.commit("PROCESOCONTRACTUAL_RELOAD_ITEM",{item:a.data.procontractuale,estado:"reload",key:null}),e.errorValidate="",e.estudioPrevio=a.data.data,e.procesoContractual.estudios_previos=a.data.data,"Confirmado"===e.procesoContractual.estudios_previos.estado&&e.filePrint("certificado-presupuestal&id="+e.procesoContractual.estudios_previos.pr_solicitud_cp_id),e.$emit("input",e.procesoContractual),e.loading=!1,e.cancelaConfirmacion(),t(!0)}).catch(function(a){e.estudioPrevio.estado=e.procesoContractual.estudios_previos?e.procesoContractual.estudios_previos.estado:"Registrado",e.loading=!1,e.dialogA.loading=!1,e.$store.commit("SNACK_ERROR_LIST",{expression:" al guardar el estudio previo. ",error:a}),t(!1)})}));case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}},t,e)}))()},validacion:function(){var e=this;return v()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.fEstudioPrevio.validate();case 2:if(a=t.sent,!a.validate){t.next=7;break}return t.abrupt("return",!0);case 7:return e.errorValidate=a.error,setTimeout(function(){e.errorValidate=""},8e3),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,e)}))()}}}},1110:function(e,t,a){"use strict";var i=a(13),r=a.n(i),s=a(14),o=a.n(s),n=a(7),l=a.n(n),c=a(59),v=a(253);t.a={name:"FormEstudioPrevio",props:{value:{type:Object,default:null},proceso:{type:Object,default:null},rubros:{type:Array,default:[]},supervisores:{type:Array,default:[]},proyectan:{type:Array,default:[]},revisan:{type:Array,default:[]},aprueban:{type:Array,default:[]}},components:{InputDate:v.default,InputNumber:function(){return new Promise(function(e){e()}).then(a.bind(null,254))},InputDetailFlex:function(){return new Promise(function(e){e()}).then(a.bind(null,250))}},data:function(){var e=this;return{requerido:"",headersImputaciones:[{text:"Rubro",align:"left",sortable:!1},{text:"Disponible",align:"right",sortable:!1},{text:"Valor",align:"center",sortable:!1},{text:"",align:"center",sortable:!1}],headersFormasPago:[{text:"Tipo",align:"left",sortable:!1},{text:"Valor",align:"left",sortable:!1},{text:"Descripción",align:"left",sortable:!1},{text:"",align:"center",sortable:!1}],headersActividades:[{text:"Consecutivo",align:"center",sortable:!1},{text:"Actividad",align:"left",sortable:!1},{text:"",align:"center",sortable:!1}],rubroSeleccionado:null,garantiaSeleccionada:null,municipioGeoSeleccionado:null,minDate:"1900-01-01",maxDate:"1900-01-01",filterSupervisores:function(t,a){return e.getFilter(t,a,t.tercero.identificacion_completa+" "+t.tercero.nombre_completo)},filterFirmantes:function(t,a){return e.getFilter(t,a,t.name+" "+t.email)},filterRubros:function(t,a){return e.getFilter(t,a,t.rubro.codigo_simple+" "+t.rubro.codigo+" "+t.rubro.nombre)},filterGarantias:function(t,a){return e.getFilter(t,a,t.codigo+" "+t.nombre)}}},watch:{rubroSeleccionado:function(e){var t=this;e&&((!this.value.imputacion_presupuestal.length||this.value.imputacion_presupuestal.length&&!this.value.imputacion_presupuestal.find(function(t){return t.pr_strgasto_id===e.id}))&&this.value.imputacion_presupuestal.push({strgasto:e,pr_detstrgasto_id:e.id,valor:null}),setTimeout(function(){t.rubroSeleccionado=null},40))},garantiaSeleccionada:function(e){var t=this;e&&((!this.value.garantias.length||this.value.garantias.length&&!this.value.garantias.find(function(t){return t.ce_garantia_id===e.id}))&&this.value.garantias.push({garantia:e,ce_garantia_id:e.id,descripcion:null}),setTimeout(function(){t.garantiaSeleccionada=null},40))},value:function(e){e&&this.reloadCoberturaGeografica()},municipioGeoSeleccionado:function(e){var t=this;if(e){if(!this.value.proconminutageos.length||this.value.proconminutageos.length&&!this.value.proconminutageos.find(function(t){return t.municipio.id===e.id})){var a=[];this.complementos&&this.complementos.rsServicios&&this.complementos.rsServicios.forEach(function(e){a.push({id:null,ce_proconminutageo_id:null,rs_servicio_id:e.id,servicio:e,porcentaje:null,porcent_pob_contributivo:null,porcent_pob_subsidiado:null,valor:null})}),this.value.proconminutageos.push({id:null,municipio:e,gn_municipio_id:e.id,ce_proconestprevio_id:this.value.id,porcentaje_subsidiado:null,porcentaje_contributivo:null,porcentaje_subsidiado_portabilidad:null,porcentaje_contributivo_portabilidad:null,valor_upc_contributivo:null,valor_upc_subsidiado:null,upcservicios:a,upcedades:[]})}setTimeout(function(){t.municipioGeoSeleccionado=null},40)}}},computed:{complementos:function(){return c.b.getters.complementosProcesosContractualesFormEstudioPrevio}},created:function(){this.maxDate=this.moment().add(30,"days").format("YYYY-MM-DD"),this.reloadCoberturaGeografica()},methods:{reloadCoberturaGeografica:function(){var e=this;this.value&&this.complementos&&this.complementos.rsServicios&&this.value.proconminutageos.forEach(function(t){var a=JSON.parse(l()(e.complementos.rsServicios)),i=[];a.forEach(function(e){t.upcservicios.find(function(t){return t.rs_servicio_id===e.id})?i.push(t.upcservicios.find(function(t){return t.rs_servicio_id===e.id})):i.push({ce_proconminutageo_id:null,rs_servicio_id:e.id,servicio:e,porcentaje:null,porcent_pob_contributivo:null,porcent_pob_subsidiado:null,valor:null})}),t.upcservicios=i})},nuevoRegistroActividad:function(){this.value.actividades.push({actividad:""})},nuevoRegistroFP:function(){this.value.forpagos.push({id:null,tipo:null,valor:null,descripcion:null})},reset:function(){this.$validator.reset()},assignValidation:function(e){var t=this;return o()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.requerido=e,a.next=3,t.$validator.reset();case 3:return a.abrupt("return",!0);case 4:case"end":return a.stop()}},a,t)}))()},validate:function(){var e=this;return o()(r.a.mark(function t(){var a,i,s,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(a=t.sent,!e.requerido){t.next=23;break}if(i=e.value.imputacion_presupuestal.length>0,s=0,o=JSON.parse(l()(e.value.proconminutageos)),o.forEach(function(t){t.upcservicios=t.upcservicios.filter(function(e){return null!==e.porcentaje||null!==e.valor}),0!==t.upcservicios.length||9!==e.value.ce_tipocontrato_id&&1!==e.value.ce_tipocontrato_id||s++}),a){t.next=12;break}return t.abrupt("return",{validate:a,error:"Hay datos por diligenciar en el formulario."});case 12:if(i){t.next=16;break}return t.abrupt("return",{validate:i,error:"No hay registros en la inputación presupuestal."});case 16:if(!(s>0)){t.next=20;break}return t.abrupt("return",{validate:0===s,error:"Hay "+s+" registro"+(1===s?"":"s")+" de cobertura geográfica por resolver."});case 20:return t.abrupt("return",{validate:!0,error:""});case 21:t.next=28;break;case 23:if(a){t.next=27;break}return t.abrupt("return",{validate:a,error:"Hay datos por diligenciar en el formulario."});case 27:return t.abrupt("return",{validate:!0,error:""});case 28:case"end":return t.stop()}},t,e)}))()},getFilter:function(e,t,a){var i=function(e){return null!=e?e:""},r=i(a),s=i(t);return r.toString().toLowerCase().indexOf(s.toString().toLowerCase())>-1}}}},1930:function(e,t,a){"use strict";function i(e){a(1931)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1109),s=a(1937),o=a(1),n=i,l=o(r.a,s.a,!1,n,"data-v-d85f3eb6",null);t.default=l.exports},1931:function(e,t,a){var i=a(1932);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(456)("38498cd0",i,!0,{})},1932:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroEstudioPrevio.vue",sourceRoot:""}])},1933:function(e,t,a){"use strict";function i(e){a(1934)}var r=a(1110),s=a(1936),o=a(1),n=i,l=o(r.a,s.a,!1,n,"data-v-f18d6106",null);t.a=l.exports},1934:function(e,t,a){var i=a(1935);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(456)("22f054aa",i,!0,{})},1935:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"FormEstudioPrevio.vue",sourceRoot:""}])},1936:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:""}},[a("v-system-bar",{staticClass:"elevation-1",staticStyle:{width:"100% !important"},attrs:{window:"",dark:""}},[e._v("1. Información general")]),e._v(" "),a("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm6:"",md4:""}},[a("input-date",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido+"fechaValida|date_format:YYYY-MM-DD|date_between:"+e.minDate+","+e.maxDate+",true",expression:"requerido + 'fechaValida|date_format:YYYY-MM-DD|date_between:' + minDate + ',' + maxDate + ',true'"}],attrs:{label:"Fecha (Año-Mes-Día)",format:"YYYY-MM-DD",name:"Fecha",min:e.minDate,max:e.maxDate,"error-messages":e.errors.collect("Fecha")},model:{value:e.value.fecha,callback:function(t){e.$set(e.value,"fecha",t)},expression:"value.fecha"}})],1),e._v(" "),e.proceso?a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Modalidad",items:e.complementos&&e.complementos.tiposContrato?e.complementos.tiposContrato.filter(function(t){return t.servicios_salud===e.proceso.servicios_salud}):[],"item-value":"id","item-text":"nombre",name:"modalidad","error-messages":e.errors.collect("modalidad")},model:{value:e.value.ce_tipocontrato_id,callback:function(t){e.$set(e.value,"ce_tipocontrato_id",t)},expression:"value.ce_tipocontrato_id"}})],1):e._e(),e._v(" "),a("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Objeto a contratar",text:e.proceso.objeto}}),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{staticClass:"pb-2"},[a("span",{staticClass:"title"},[e._v("Imputación presupuestal")])]),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",{staticClass:"py-0"},[a("v-autocomplete",{attrs:{label:"Seleccionar rubros",items:e.rubros,"item-value":"id","return-object":"",filter:e.filterRubros},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.rubro.nombre))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.rubro.codigo))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Disponible: "+e._s(t.item.valor_disponible))])],1)],1),e._v(" "),a("v-divider")],1)]}},{key:"item",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.rubro.nombre)+" "),t.item.rubro.regimen?a("span",{staticClass:"float-right"},[e._v(" (Régimen "+e._s(t.item.rubro.regimen)+")")]):e._e()]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.rubro.codigo))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Disponible: "+e._s("$")+e._s(e._f("numberFormat")(t.item.valor_disponible,2)))])],1)],1),e._v(" "),a("v-divider")],1)]}}]),model:{value:e.rubroSeleccionado,callback:function(t){e.rubroSeleccionado=t},expression:"rubroSeleccionado"}})],1),e._v(" "),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-0",attrs:{items:e.value.imputacion_presupuestal,"hide-actions":"",headers:e.headersImputaciones,"no-data-text":"No hay imputaciones presupuestales relacionadas"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.strgasto.rubro.nombre)+" "),t.item.strgasto.rubro.regimen?a("span",[e._v(" (Régimen "+e._s(t.item.strgasto.rubro.regimen)+")")]):e._e()]),e._v(" "),a("v-list-tile-sub-title",[e._v(e._s(t.item.strgasto.rubro.codigo))])],1)],1)],1),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s("$")+e._s(e._f("numberFormat")(t.item.strgasto.valor_disponible,2)))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[a("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"`required|min_value:0`"}],key:"input"+t.index,staticClass:"ma-0 py-1",attrs:{name:"Valor"+t.item.pr_strgasto_id,"prepend-icon":"attach_money","data-vv-as":"Valor","error-messages":e.errors.collect("Valor"+t.item.pr_strgasto_id)},model:{value:t.item.valor,callback:function(a){e.$set(t.item,"valor",e._n(a))},expression:"props.item.valor"}})],1),e._v(" "),a("td",{staticClass:"text-xs-center",attrs:{width:"20px"}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"danger"},on:{click:function(a){return a.stopPropagation(),e.value.imputacion_presupuestal.splice(t.index,1)}},slot:"activator"},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("span",[e._v("Quitar registro")])],1)],1)]}}])})],1)],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Productos a entregar")]),e._v(" "),a("div",[a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"productos a entregar","error-messages":e.errors.collect("productos a entregar")},model:{value:e.value.productos_entregar,callback:function(t){e.$set(e.value,"productos_entregar",t)},expression:"value.productos_entregar"}})],1)])],1),e._v(" "),a("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:""}},[a("v-system-bar",{staticClass:"elevation-1",staticStyle:{width:"100% !important"},attrs:{window:"",dark:""}},[e._v("2. Descripción de la necesidad")]),e._v(" "),a("v-flex",{staticClass:"pf-0",attrs:{xs12:""}},[a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"descripción de la necesidad","error-messages":e.errors.collect("descripción de la necesidad")},model:{value:e.value.desc_necesidad,callback:function(t){e.$set(e.value,"desc_necesidad",t)},expression:"value.desc_necesidad"}})],1)],1),e._v(" "),a("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:""}},[a("v-system-bar",{staticClass:"elevation-1",staticStyle:{width:"100% !important"},attrs:{window:"",dark:""}},[e._v("3. Definición técnica")]),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Descripción")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"definición técnica","error-messages":e.errors.collect("definición técnica")},model:{value:e.value.desc_tecnica,callback:function(t){e.$set(e.value,"desc_tecnica",t)},expression:"value.desc_tecnica"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Actividades a desarrollar para el logro del objeto o producto a contratar")]),e._v(" "),a("v-card",[a("v-card-title",{staticClass:"pb-0"},[a("span",{staticClass:"title"},[e._v("Actividades")]),e._v(" "),e.value.actividades.length?e._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"accent"},on:{click:function(t){return t.stopPropagation(),e.nuevoRegistroActividad(t)}},slot:"activator"},[a("v-icon",[e._v("add")])],1),e._v(" "),a("span",[e._v("Crear actividad")])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-0",attrs:{items:e.value.actividades,"hide-actions":"",headers:e.headersActividades,"no-data-text":"No hay actividades registradas"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-center pa-0",attrs:{width:"20px"}},[a("v-avatar",{staticClass:"white--text",attrs:{color:"purple",size:"40"}},[e._v(e._s(t.index+1))])],1),e._v(" "),a("td",{staticClass:"pa-0"},[a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"actividad"+t.index,attrs:{name:"Actividad"+t.index,"data-vv-as":"Actividad","error-messages":e.errors.collect("Actividad"+t.index)},model:{value:t.item.actividad,callback:function(a){e.$set(t.item,"actividad",a)},expression:"props.item.actividad"}})],1),e._v(" "),a("td",{staticClass:"text-xs-center pa-0",attrs:{width:"40px"}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"danger"},on:{click:function(a){return a.stopPropagation(),e.value.actividades.splice(t.index,1)}},slot:"activator"},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("span",[e._v("Quitar registro")])],1),e._v(" "),t.index+1===e.value.actividades.length?a("v-btn",{attrs:{slot:"activator",flat:"",color:"success"},on:{click:function(t){return t.stopPropagation(),e.nuevoRegistroActividad(t)}},slot:"activator"},[e._v("\n                  Nuevo registro\n                ")]):e._e()],1)]}}])})],1)],1)],1)],1),e._v(" "),a("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:""}},[a("v-system-bar",{staticClass:"elevation-1",staticStyle:{width:"100% !important"},attrs:{window:"",dark:""}},[e._v("4. Soporte económico")]),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Soporte económico")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"soporte económico","error-messages":e.errors.collect("soporte económico")},model:{value:e.value.sop_economico,callback:function(t){e.$set(e.value,"sop_economico",t)},expression:"value.sop_economico"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Especificaciones técnicas del objeto o producto a contratar")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"especificaciones técnicas","error-messages":e.errors.collect("especificaciones técnicas")},model:{value:e.value.esp_tecnicas,callback:function(t){e.$set(e.value,"esp_tecnicas",t)},expression:"value.esp_tecnicas"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Identificación de alternativas de ejecución")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"alternativas de ejecución","error-messages":e.errors.collect("alternativas de ejecución")},model:{value:e.value.alt_ejecucion,callback:function(t){e.$set(e.value,"alt_ejecucion",t)},expression:"value.alt_ejecucion"}})],1)],1),e._v(" "),a("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:""}},[a("v-system-bar",{staticClass:"elevation-1",staticStyle:{width:"100% !important"},attrs:{window:"",dark:""}},[e._v("5. Riesgos de la contratación")]),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Descripción de los posibles riesgos")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"descripción de los posibles riesgos","error-messages":e.errors.collect("descripción de los posibles riesgos")},model:{value:e.value.pos_riesgos,callback:function(t){e.$set(e.value,"pos_riesgos",t)},expression:"value.pos_riesgos"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{staticClass:"pb-2 blue-grey lighten-5"},[a("span",{staticClass:"title"},[e._v("Garantias")])]),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",{staticClass:"py-0"},[a("v-autocomplete",{attrs:{label:"Seleccionar garantía",items:e.complementos.garantias,"item-value":"id","item-text":"nombre","return-object":"",filter:e.filterGarantias},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.codigo)+" - "+e._s(t.item.nombre))]),e._v(" "),a("v-list-tile-sub-title",[e._v(e._s(t.item.descripcion))])],1)],1),e._v(" "),a("v-divider")],1)]}},{key:"item",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.codigo)+" - "+e._s(t.item.nombre))]),e._v(" "),a("v-list-tile-sub-title",[e._v(e._s(t.item.descripcion))])],1)],1),e._v(" "),a("v-divider")],1)]}}]),model:{value:e.garantiaSeleccionada,callback:function(t){e.garantiaSeleccionada=t},expression:"garantiaSeleccionada"}})],1),e._v(" "),a("v-card-text",{class:e.value.garantias.length?"pa-0":"pt-0"},[a("v-flex",{attrs:{xs12:""}},[e.value.garantias.length?a("v-data-table",{staticClass:"elevation-0",attrs:{items:e.value.garantias,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v("\n                  "+e._s(t.item.garantia.codigo)+" - "+e._s(t.item.garantia.nombre)+"\n                  "),t.item.garantia.descripcion?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"info"},slot:"activator"},[a("v-icon",[e._v("info")])],1),e._v(" "),a("span",[e._v(e._s(t.item.garantia.descripcion))])],1):e._e()],1),e._v(" "),a("td",{attrs:{width:"50%"}},[a("v-textarea",{key:"descripciongt"+t.index,staticClass:"ma-0 py-1",attrs:{"single-line":"",label:"Descripción",rows:"1","auto-grow":""},model:{value:t.item.descripcion,callback:function(a){e.$set(t.item,"descripcion",a)},expression:"props.item.descripcion"}})],1),e._v(" "),a("td",{staticClass:"text-xs-center",attrs:{width:"20px"}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"danger"},on:{click:function(a){return a.stopPropagation(),e.value.garantias.splice(t.index,1)}},slot:"activator"},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("span",[e._v("Quitar registro")])],1)],1)]}}])},[a("template",{slot:"headers"},[a("th",[e._v("Tipo")]),e._v(" "),a("th",[e._v("Descripción")]),e._v(" "),a("th")])],2):a("div",{staticClass:"grey--text text-xs-center title"},[e._v("No hay garantías registradas.")]),e._v(" "),a("span",{staticClass:"caption"},[e._v("Descripción")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"descripción","error-messages":e.errors.collect("descripción")},model:{value:e.value.descripgarantias,callback:function(t){e.$set(e.value,"descripgarantias",t)},expression:"value.descripgarantias"}})],1)],1)],1)],1)],1),e._v(" "),a("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:""}},[a("v-system-bar",{staticClass:"elevation-1",staticStyle:{width:"100% !important"},attrs:{window:"",dark:""}},[e._v("6. Condiciones del objeto contractual")]),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{label:"Tipo contratación",items:e.complementos.tiposContratacion,"item-value":"id","item-text":"nombre",name:"Tipo contratación","error-messages":e.errors.collect("Tipo contratación")},scopedSlots:e._u([{key:"item",fn:function(t){return[[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.nombre)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s("Código:"+t.item.codigo)}})],1)]]}}]),model:{value:e.value.ce_tipcontratacione_id,callback:function(t){e.$set(e.value,"ce_tipcontratacione_id",t)},expression:"value.ce_tipcontratacione_id"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido+"min_value:0",expression:"requerido + 'min_value:0'"}],attrs:{label:"Plazo en meses",name:"Plazo en meses",min:"0",type:"number","error-messages":e.errors.collect("Plazo en meses")},model:{value:e.value.plazo_meses,callback:function(t){e.$set(e.value,"plazo_meses",e._n(t))},expression:"value.plazo_meses"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido+"min_value:0|max_value:30",expression:"requerido + 'min_value:0|max_value:30'"}],attrs:{label:"Plazo en días",name:"Plazo en días",min:"0",max:"30",type:"number","error-messages":e.errors.collect("Plazo en días")},model:{value:e.value.plazo_dias,callback:function(t){e.$set(e.value,"plazo_dias",e._n(t))},expression:"value.plazo_dias"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Descripción del plazo")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{name:"descripción del plazo","error-messages":e.errors.collect("descripción del plazo")},model:{value:e.value.desc_plazo,callback:function(t){e.$set(e.value,"desc_plazo",t)},expression:"value.desc_plazo"}})],1),e._v(" "),a("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Objeto a contratar",text:e.proceso.objeto}}),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:"caption"},[e._v("Lugar de ejecución")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"lugar de ejecución","error-messages":e.errors.collect("lugar de ejecución")},model:{value:e.value.lugar_ejecucion,callback:function(t){e.$set(e.value,"lugar_ejecucion",t)},expression:"value.lugar_ejecucion"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{staticClass:"pb-0"},[a("span",{staticClass:"title"},[e._v("Formas de pago")]),e._v(" "),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"accent"},on:{click:function(t){return t.stopPropagation(),e.nuevoRegistroFP(t)}},slot:"activator"},[a("v-icon",[e._v("add")])],1),e._v(" "),a("span",[e._v("Crear forma de pago")])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-0",attrs:{items:e.value.forpagos,"hide-actions":"",headers:e.headersFormasPago,"no-data-text":"No hay formas de pago relacionadas"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"150px"}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"tipo"+t.index,staticClass:"ma-0 py-1",attrs:{"single-line":"",label:"Tipo",items:e.complementos.tiposFormaPago,name:"Tipo"+t.index,"data-vv-as":"Tipo","error-messages":e.errors.collect("Tipo"+t.index)},on:{change:function(){t.item.valor=null;var a=e.$validator.errors.items.findIndex(function(e){return e.field==="Fechapf"+t.index});e.$validator.errors.items.splice(-1!==a?a:0,-1!==a?1:0);var i=e.$validator.errors.items.findIndex(function(e){return e.field==="Valorfp"+t.index});e.$validator.errors.items.splice(-1!==i?i:0,-1!==i?1:0)}},model:{value:t.item.tipo,callback:function(a){e.$set(t.item,"tipo",a)},expression:"props.item.tipo"}})],1),e._v(" "),a("td",[t.item.tipo?["Porcentaje"===t.item.tipo?a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"min_value:0",expression:"`min_value:0`"}],key:"porcentajefp"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"%",type:"number",min:"0",name:"Porcentajefp"+t.index,"data-vv-as":"Porcentaje","error-messages":e.errors.collect("Porcentajefp"+t.index)},model:{value:t.item.valor,callback:function(a){e.$set(t.item,"valor",e._n(a))},expression:"props.item.valor"}}):a("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"min_value:0",expression:"`min_value:0`"}],key:"valorfp"+t.index,staticClass:"ma-0 py-1",attrs:{name:"Valorfp"+t.index,"prepend-icon":"attach_money","data-vv-as":"Valor","error-messages":e.errors.collect("Valorfp"+t.index)},model:{value:t.item.valor,callback:function(a){e.$set(t.item,"valor",e._n(a))},expression:"props.item.valor"}})]:e._e()],2),e._v(" "),a("td",{attrs:{width:"50%"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"descripcionfp"+t.index,staticClass:"ma-0 py-1",attrs:{"single-line":"",label:"Descripción",name:"Descripción"+t.index,"data-vv-as":"Descripción",rows:"1","auto-grow":"","error-messages":e.errors.collect("Descripción"+t.index)},model:{value:t.item.descripcion,callback:function(a){e.$set(t.item,"descripcion",a)},expression:"props.item.descripcion"}})],1),e._v(" "),a("td",{staticClass:"text-xs-center",attrs:{width:"20px"}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"danger"},on:{click:function(a){return a.stopPropagation(),e.value.forpagos.splice(t.index,1)}},slot:"activator"},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("span",[e._v("Quitar registro")])],1)],1)]}}])})],1)],1)],1),e._v(" "),e.proceso.servicios_salud?a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[e._v("Tarifas")])]),e._v(" "),a("v-card-text",[e.value&&e.value.ce_tipocontrato_id&&(1===e.value.ce_tipocontrato_id||9===e.value.ce_tipocontrato_id||2===e.value.ce_tipocontrato_id)?a("v-card",[a("v-card-title",{staticClass:"pb-2 blue-grey lighten-5"},[a("span",{staticClass:"title"},[e._v("Cobertura geográfica")])]),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",{staticClass:"py-0"},[a("v-autocomplete",{attrs:{label:"Seleccionar municipio",items:e.complementos.municipios,"item-value":"id","item-text":"nombre","return-object":""},model:{value:e.municipioGeoSeleccionado,callback:function(t){e.municipioGeoSeleccionado=t},expression:"municipioGeoSeleccionado"}})],1),e._v(" "),a("v-card-text",{class:e.value.proconminutageos.length?"pa-0":"pt-0"},[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-0",attrs:{"headers-length":2===e.value.ce_tipocontrato_id?2:5,items:e.value.proconminutageos,"hide-actions":"",expand:!0,"item-key":"gn_municipio_id"},scopedSlots:e._u([{key:"no-data",fn:function(){return[a("tr",[a("td",{attrs:{colspan:2===e.value.ce_tipocontrato_id?2:5}},[a("div",{staticClass:"grey--text text-xs-center title"},[e._v("No hay registros de cobertura geográfica.")])])])]},proxy:!0},{key:"items",fn:function(t){return[a("tr",[2!==e.value.ce_tipocontrato_id?a("td",{staticClass:"text-xs-center pa-0"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:t.expanded?"grey":"primary"},on:{click:function(e){e.stopPropagation(),t.expanded=!t.expanded}},slot:"activator"},[a("v-icon",[e._v("fas fa-"+e._s(t.expanded?"angle-up":"angle-down"))])],1),e._v(" "),a("span",[e._v(e._s(t.expanded?"Ocultar":"Ver")+" servicios primarios")])],1)],1):e._e(),e._v(" "),a("td",{staticClass:"pa-1"},[e._v("\n                        "+e._s(t.item.municipio.nombre)+"\n                      ")]),e._v(" "),2!==e.value.ce_tipocontrato_id?[a("td",{staticClass:"pa-1"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0|max_value:100",expression:"`required|min_value:0|max_value:100`"}],key:"porcentajesub"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"%",type:"number",min:"0",max:"100",name:"porcentajesub"+t.index,"data-vv-as":"Porcentaje","error-messages":e.errors.collect("porcentajesub"+t.index)},model:{value:t.item.porcentaje_subsidiado,callback:function(a){e.$set(t.item,"porcentaje_subsidiado",e._n(a))},expression:"props.item.porcentaje_subsidiado"}})],1),e._v(" "),a("td",{staticClass:"pa-1"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0|max_value:100",expression:"`required|min_value:0|max_value:100`"}],key:"porcentajesubportabilidad"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"%",type:"number",min:"0",max:"100",name:"porcentajesubportabilidad"+t.index,"data-vv-as":"Porcentaje","error-messages":e.errors.collect("porcentajesubportabilidad"+t.index)},model:{value:t.item.porcentaje_subsidiado_portabilidad,callback:function(a){e.$set(t.item,"porcentaje_subsidiado_portabilidad",e._n(a))},expression:"props.item.porcentaje_subsidiado_portabilidad"}})],1),e._v(" "),a("td",{staticClass:"pa-1"},[a("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"`required|min_value:0`"}],key:"valorupcsub"+t.index,attrs:{precision:2,name:"valor upc subsidiado"+t.index,"prepend-icon":"attach_money","data-vv-as":"valor upc subsidiado","error-messages":e.errors.collect("valor upc subsidiado"+t.index)},model:{value:t.item.valor_upc_subsidiado,callback:function(a){e.$set(t.item,"valor_upc_subsidiado",e._n(a))},expression:"props.item.valor_upc_subsidiado"}})],1),e._v(" "),a("td",{staticClass:"pa-1"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0|max_value:100",expression:"`required|min_value:0|max_value:100`"}],key:"porcentajecont"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"%",type:"number",min:"0",max:"100",name:"porcentajecont"+t.index,"data-vv-as":"Porcentaje","error-messages":e.errors.collect("porcentajecont"+t.index)},model:{value:t.item.porcentaje_contributivo,callback:function(a){e.$set(t.item,"porcentaje_contributivo",e._n(a))},expression:"props.item.porcentaje_contributivo"}})],1),e._v(" "),a("td",{staticClass:"pa-1"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0|max_value:100",expression:"`required|min_value:0|max_value:100`"}],key:"porcentajecontportabilidad"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"%",type:"number",min:"0",max:"100",name:"porcentajecontportabilidad"+t.index,"data-vv-as":"Porcentaje","error-messages":e.errors.collect("porcentajecontportabilidad"+t.index)},model:{value:t.item.porcentaje_contributivo_portabilidad,callback:function(a){e.$set(t.item,"porcentaje_contributivo_portabilidad",e._n(a))},expression:"props.item.porcentaje_contributivo_portabilidad"}})],1),e._v(" "),a("td",{staticClass:"pa-1"},[a("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"`required|min_value:0`"}],key:"valorupccont"+t.index,attrs:{name:"valor upc contributivo"+t.index,precision:2,"prepend-icon":"attach_money","data-vv-as":"valor upc contributivo","error-messages":e.errors.collect("valor upc contributivo"+t.index)},model:{value:t.item.valor_upc_contributivo,callback:function(a){e.$set(t.item,"valor_upc_contributivo",e._n(a))},expression:"props.item.valor_upc_contributivo"}})],1)]:e._e(),e._v(" "),a("td",{staticClass:"text-xs-center pa-1"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"danger"},on:{click:function(a){return a.stopPropagation(),e.value.proconminutageos.splice(t.index,1)}},slot:"activator"},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("span",[e._v("Quitar registro")])],1)],1)],2)]}},{key:"expand",fn:function(t){return 2!==e.value.ce_tipocontrato_id?[a("v-card",{staticClass:"blue-grey",attrs:{flat:""}},[a("v-card-text",[a("v-data-table",{staticClass:"elevation-0",attrs:{items:t.item.upcservicios,"hide-actions":""},scopedSlots:e._u([{key:"no-data",fn:function(){return[a("tr",[a("td",{attrs:{colspan:"4"}},[a("div",{staticClass:"grey--text text-xs-center title"},[e._v("Fallo la carga de los servicios primarios.")])])])]},proxy:!0},{key:"items",fn:function(t){return[a("td",[e._v("\n                              "+e._s(t.item.servicio.nombre)+"\n                            ")]),e._v(" "),1===e.value.ce_tipocontrato_id?[a("td",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"min_value:0|max_value:100|decimal:2",expression:"'min_value:0|max_value:100|decimal:2'"}],key:"porcentajeservsub"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"%",type:"number",min:"0",max:"100",name:"porcentajeservsub"+t.index,"data-vv-as":"% Subsidiado","error-messages":e.errors.collect("porcentajeservsub"+t.index)},model:{value:t.item.porcent_pob_subsidiado,callback:function(a){e.$set(t.item,"porcent_pob_subsidiado",e._n(a))},expression:"propsx.item.porcent_pob_subsidiado"}})],1),e._v(" "),a("td",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"min_value:0|max_value:100|decimal:2",expression:"'min_value:0|max_value:100|decimal:2'"}],key:"porcentajeservcont"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"%",type:"number",min:"0",max:"100",name:"porcentajeservcont"+t.index,"data-vv-as":"% Contributivo","error-messages":e.errors.collect("porcentajeservcont"+t.index)},model:{value:t.item.porcent_pob_contributivo,callback:function(a){e.$set(t.item,"porcent_pob_contributivo",e._n(a))},expression:"propsx.item.porcent_pob_contributivo"}})],1),e._v(" "),a("td",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"min_value:0|max_value:100|decimal:2",expression:"'min_value:0|max_value:100|decimal:2'"}],key:"porcentajeserv"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"%",type:"number",min:"0",max:"100",name:"porcentajeserv"+t.index,"data-vv-as":"Porcentaje","error-messages":e.errors.collect("porcentajeserv"+t.index)},model:{value:t.item.porcentaje,callback:function(a){e.$set(t.item,"porcentaje",e._n(a))},expression:"propsx.item.porcentaje"}})],1)]:e._e(),e._v(" "),9===e.value.ce_tipocontrato_id?a("td",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"min_value:0",expression:"`min_value:0`"}],key:"valorserv"+t.index,staticClass:"ma-0 py-1",attrs:{prefix:"$",type:"number",min:"0",name:"valorserv"+t.index,"data-vv-as":"Valor","error-messages":e.errors.collect("valorserv"+t.index)},model:{value:t.item.valor,callback:function(a){e.$set(t.item,"valor",e._n(a))},expression:"propsx.item.valor"}})],1):e._e(),e._v(" "),a("td",{staticClass:"text-xs-center",attrs:{width:"20px"}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"danger"},on:{click:function(e){return e.stopPropagation(),t.item.upcservicios.splice(t.index,1)}},slot:"activator"},[a("v-icon",[e._v("delete")])],1),e._v(" "),a("span",[e._v("Quitar registro")])],1)],1)]}}],null,!0)},[e._v(" "),a("template",{slot:"headers"},[a("th",[e._v("Servicio")]),e._v(" "),1===e.value.ce_tipocontrato_id?[a("th",[e._v("% Subsidiado")]),e._v(" "),a("th",[e._v("% Contributivo")]),e._v(" "),a("th",[e._v("Porcentaje")])]:e._e(),e._v(" "),9===e.value.ce_tipocontrato_id?a("th",[e._v("Valor")]):e._e(),e._v(" "),a("th")],2)],2)],1)],1)]:void 0}}],null,!0)},[e._v(" "),a("template",{slot:"headers"},[2!==e.value.ce_tipocontrato_id?a("th",{staticClass:"pa-0"}):e._e(),e._v(" "),a("th",{staticClass:"pa-1"},[e._v("Municipio")]),e._v(" "),2!==e.value.ce_tipocontrato_id?[a("th",{staticClass:"pa-1"},[e._v("% Subsidiado")]),e._v(" "),a("th",{staticClass:"pa-1"},[a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"subrayado-dot",attrs:{slot:"activator"},slot:"activator"},[e._v("% Subsidiado P.")]),e._v(" "),a("span",[e._v("% Subsidiado Portabilidad")])])],1),e._v(" "),a("th",{staticClass:"pa-1"},[a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"subrayado-dot",attrs:{slot:"activator"},slot:"activator"},[e._v("UPC Subsidiado")]),e._v(" "),a("span",[e._v("Valor UPC Subsidiado")])])],1),e._v(" "),a("th",{staticClass:"pa-1"},[e._v("% Contributivo")]),e._v(" "),a("th",{staticClass:"pa-1"},[a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"subrayado-dot",attrs:{slot:"activator"},slot:"activator"},[e._v("% Contributivo P.")]),e._v(" "),a("span",[e._v("% Contributivo Portabilidad")])])],1),e._v(" "),a("th",{staticClass:"pa-1"},[a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"subrayado-dot",attrs:{slot:"activator"},slot:"activator"},[e._v("UPC Contributivo")]),e._v(" "),a("span",[e._v("Valor UPC Contributivo")])])],1)]:e._e(),e._v(" "),a("th",{staticClass:"pa-1"})],2)],2)],1)],1)],1):e._e(),e._v(" "),a("span",{staticClass:"caption"},[e._v("Descripción")]),e._v(" "),a("ckeditor-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{name:"descripciontarifas","data-vv-as":"descripción","error-messages":e.errors.collect("descripciontarifas")},model:{value:e.value.tarifas,callback:function(t){e.$set(e.value,"tarifas",t)},expression:"value.tarifas"}})],1)],1)],1):e._e(),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{"auto-grow":"",label:"Supervisión",rows:"1",name:"supervisión","error-messages":e.errors.collect("supervisión")},model:{value:e.value.supervicion,callback:function(t){e.$set(e.value,"supervicion",t)},expression:"value.supervicion"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-autocomplete",{attrs:{label:"Seleccionar supervisor",items:e.supervisores,"item-value":"id","item-text":"tercero",filter:e.filterSupervisores},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.tercero.nombre_completo))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v(e._s(t.item.tercero.identificacion_completa))])],1)],1)],1)]}},{key:"item",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.tercero.nombre_completo))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v(e._s(t.item.tercero.identificacion_completa))])],1)],1)],1)]}}]),model:{value:e.value.supervisor_id,callback:function(t){e.$set(e.value,"supervisor_id",t)},expression:"value.supervisor_id"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{label:"Proyecta",items:e.proyectan,"item-value":"id",name:"proyecta","error-messages":e.errors.collect("proyecta"),filter:e.filterFirmantes},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.name))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v(e._s(t.item.email))])],1)],1)],1)]}},{key:"item",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.name))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v(e._s(t.item.email))])],1)],1)],1)]}}]),model:{value:e.value.registro,callback:function(t){e.$set(e.value,"registro",t)},expression:"value.registro"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{label:"Revisa",items:e.revisan,"item-value":"id",name:"revisa","error-messages":e.errors.collect("revisa"),filter:e.filterFirmantes},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.name))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v(e._s(t.item.email))])],1)],1)],1)]}},{key:"item",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.name))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v(e._s(t.item.email))])],1)],1)],1)]}}]),model:{value:e.value.reviso,callback:function(t){e.$set(e.value,"reviso",t)},expression:"value.reviso"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:e.requerido,expression:"requerido"}],attrs:{label:"Aprueba",items:e.aprueban,"item-value":"id",name:"aprueba","error-messages":e.errors.collect("aprueba"),filter:e.filterFirmantes},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.name))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v(e._s(t.item.email))])],1)],1)],1)]}},{key:"item",fn:function(t){return[a("div",{staticStyle:{width:"100% !important"}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.item.name))]),e._v(" "),a("v-list-tile-sub-title",{staticClass:"caption"},[e._v(e._s(t.item.email))])],1)],1)],1)]}}]),model:{value:e.value.confirmo,callback:function(t){e.$set(e.value,"confirmo",t)},expression:"value.confirmo"}})],1)],1)],1)},r=[],s={render:i,staticRenderFns:r};t.a=s},1937:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("loading",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),e._v(" "),a("v-card-text",[a("form-estudio-previo",{ref:"fEstudioPrevio",attrs:{proceso:e.procesoContractual,rubros:e.rubros,supervisores:e.supervisores,proyectan:e.proyectan,revisan:e.revisan,aprueban:e.aprueban},model:{value:e.estudioPrevio,callback:function(t){e.estudioPrevio=t},expression:"estudioPrevio"}})],1),e._v(" "),a("v-divider"),e._v(" "),"Registrado"===e.estudioPrevio.estado?a("v-card-actions",[a("v-spacer"),e._v(" "),a("span",{staticClass:"caption error--text mr-3"},[a("strong",[e._v(e._s(e.errorValidate))])]),e._v(" "),a("v-btn",{attrs:{color:"primary",loading:e.loading},on:{click:function(t){return t.preventDefault(),e.reloadRequerido("required|")}}},[e._v("Guardar y confirmar")]),e._v(" "),a("v-btn",{attrs:{color:"primary",loading:e.loading},on:{click:function(t){return t.preventDefault(),e.reloadRequerido("")}}},[e._v("Guardar")])],1):e._e(),e._v(" "),a("confirmar",{attrs:{loading:e.dialogA.loading,value:e.dialogA.visible,content:e.dialogA.content,"requiere-motivo":!1},on:{cancelar:e.cancelaConfirmacion,aceptar:e.aceptaConfirmacion}})],1)},r=[],s={render:i,staticRenderFns:r};t.a=s}});
//# sourceMappingURL=311.05e55ad68be4c1835397.js.map