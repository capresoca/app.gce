webpackJsonp([74],{1342:function(a,e,t){"use strict";var o=t(2618);e.a={name:"DetalleExtraslaborales",components:{RegistroExtraLaboral:o.a},props:["parametros"],data:function(){return{infoComponent:null,contratoEmpleado:null,remuneracion:null,dataTable:{nameItemState:"tableContratosExtrasEmpleado",route:null,makeHeaders:[{text:"Extra Laboral",align:"left",sortable:!1,value:"contrato_empleado_extra",width:"250px",component:{template:"\n              <span v-text=\"value.extralaboral ? value.extralaboral.descripcion : ''\"></span>\n            ",props:["value"]}},{text:"Fecha",align:"left",sortable:!1,value:"fecha_inicio",width:"200px",component:{template:'\n              <v-list-tile class="content-v-list-tile-p0 cursor-pointer" slot="activator">\n                <v-list-tile-content class="truncate-content">\n                  <v-list-tile-title class="body-2" v-text="\'Inicio: \' + value.fecha_inicio"></v-list-tile-title>\n                  <v-list-tile-title class="body-2" v-text="\'Fin: \' + (value.fecha_fin ? value.fecha_fin : \'####-##-##\')"></v-list-tile-title>\n                </v-list-tile-content>\n              </v-list-tile>\n            ',props:["value"]}},{text:"Estado",align:"left",sortable:!1,value:"estado",component:{template:"\n              <span v-text=\"value.estado === 1 ? 'Vigente' : 'No Vigente'\"></span>\n            ",props:["value"]}},{text:"Causación",align:"left",sortable:!1,value:"nombre_causacion"},{text:"Valor Extra",align:"left",sortable:!1,value:"valor_extra",classData:"text-xs-right",width:"200px",component:{template:'\n              <span v-text="currency(value.valor_extra)"></span>\n            ',props:["value"]}},{text:"Porcentaje Salarial",align:"left",sortable:!1,value:"porcentaje_extra",classData:"text-xs-center",component:{template:"\n              <span v-text=\"value.porcentaje_extra + ' %'\"></span>\n            ",props:["value"]}},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]},dataTableDos:{nameItemState:"tableContratosRemuneracionesEmpleado",route:null,makeHeaders:[{text:"Año",align:"left",sortable:!1,value:"contrato_empleado",component:{template:"\n              <span v-text=\"value.contrato ? moment(value.contrato.fecha_inicio).format('Y') : '####'\"></span>\n            ",props:["value"]}},{text:"Salario Base",align:"left",sortable:!1,value:"salario_base",component:{template:'\n              <span v-text="currency(value.salario_base)"></span>\n            ',props:["value"]}},{text:"Observación",align:"left",sortable:!1,value:"observacion"},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]}}},created:function(){console.log("aaa",this.parametros),null!==this.parametros.entidad&&(this.getContratoEmpleado(this.parametros.entidad.contrato_empleado),this.dataTable.route="talentohumano/contratosempleados/extras?contrato_empleado="+this.parametros.entidad.contrato_empleado,this.dataTableDos.route="talentohumano/contratosempleados/remuneraciones?contrato_empleado="+this.parametros.entidad.contrato_empleado,this.infoComponent=this.parametros.entidad.permisos)},computed:{title:function(){return"Extras Laborales del Contrato # "+(this.contratoEmpleado?this.contratoEmpleado.contrato_empleado:null)},titleDos:function(){return"Remuneraciones del Contrato # "+(this.contratoEmpleado?this.contratoEmpleado.contrato_empleado:null)}},methods:{resetOptions:function(a){return a.options=[],this.infoComponent&&this.infoComponent.permisos.agregar&&a.options.push({event:"editar",icon:"edit",tooltip:"Editar"}),a},editarItem:function(a,e){"a"===e?this.$refs.extralaboral.assign(a,"dos"):"b"===e&&this.$refs.extralaboral.assign(a,"cuatro")},openDialog:function(a){"uno"===a&&this.$refs.extralaboral.assign(this.contratoEmpleado,"uno"),"tres"===a&&this.$refs.extralaboral.assign(this.contratoEmpleado,"tres"),console.log("val",a)},saveExtra:function(a,e){var t=this,o=this.clone(a),r=void 0;"tres"===e||"cuatro"===e?r=a.contrato_empleado_remuneracion?this.axios.put("talentohumano/contratosempleados/remuneraciones/"+a.contrato_empleado_remuneracion,o):this.axios.post("talentohumano/contratosempleados/remuneraciones",o):"uno"!==e&&"dos"!==e||(r=a.contrato_empleado_extra?this.axios.put("talentohumano/contratosempleados/extras/"+a.contrato_empleado_extra,o):this.axios.post("talentohumano/contratosempleados/extras",o)),r.then(function(e){void 0!==a.contrato_empleado_remuneracion?(t.$store.commit("SNACK_SHOW",{msg:"Se "+(o.contrato_empleado_remuneracion?"actualizo la remuneración #"+o.contrato_empleado_remuneracion:"registro de la remuneración")+" éxitosamente",color:"success"}),t.$store.commit("reloadTable","tableContratosRemuneracionesEmpleado")):(t.$store.commit("SNACK_SHOW",{msg:"Se "+(o.contrato_empleado_extra?"actualizo el extra laboral #"+o.contrato_empleado_extra:"registro el extra labora")+" éxitosamente",color:"success"}),t.$store.commit("reloadTable","tableContratosExtrasEmpleado"))}).catch(function(a){t.$store.commit("SNACK_ERROR_LIST",{expression:" al registrar.",error:a})})},getContratoEmpleado:function(a){var e=this;this.axios.get("talentohumano/contratos-empleados/"+a).then(function(a){e.contratoEmpleado=a.data.data}).catch(function(a){e.$store.commit("SNACK_ERROR_LIST",{expression:" al cargar el contrato empleado.",error:a})})}}}},1343:function(a,e,t){"use strict";var o=t(59);e.a={name:"RegistroExtraLaboral",components:{InputNumber:function(){return new Promise(function(a){a()}).then(t.bind(null,254))}},data:function(){return{show:!1,minDate:"1900-01-01",maxDate:(new Date).toISOString().substr(0,10),data:null,dataDos:null,datos:null,valor:null}},watch:{show:function(a){var e=this;a||setTimeout(function(){e.datos=null,e.formReset(),e.formResetAnd(),e.$validator.reset()},500)}},created:function(){this.formReset(),this.formResetAnd()},computed:{complementosExtras:function(){return o.b.getters.complementoscontExtrasLaborales},ModalTitulo:function(){return this.data?(this.data.contrato_empleado_extra?"Edición del ":"Nuevo ")+"Extra Laboral "+(this.data.contrato_empleado_extra?"# "+this.data.contrato_empleado_extra:""):null},ModalTituloDos:function(){return this.dataDos?(this.dataDos.contrato_empleado_remuneracion?"Edición de la ":"Nueva ")+"Remuneración "+(this.dataDos.contrato_empleado_remuneracion?"# "+this.dataDos.contrato_empleado_remuneracion:""):""},estadosS:function(){return[{id:1,nombre:"Vigente"},{id:0,nombre:"No Vigente"}]}},methods:{assign:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(console.log("asa",a),console.log("asass",e),this.valor=e,e){case"uno":this.datos=this.clone(a),this.data.contrato_empleado=this.datos.contrato_empleado;break;case"dos":this.data=this.clone(a);break;case"tres":this.datos=this.clone(a),this.dataDos.contrato_empleado=this.datos.contrato_empleado;break;case"cuatro":this.dataDos=this.clone(a)}this.show=!0},save:function(){var a=this;this.$validator.validateAll().then(function(e){if(e){var t="tres"===a.valor||"cuatro"===a.valor?a.dataDos:a.data;t.valor=a.valor,a.$emit("updateOrCreate",t),a.show=!1}})},formReset:function(){this.data={contrato_empleado_extra:null,contrato_empleado:null,extra_laboral:null,fecha_inicio:null,fecha_fin:null,estado:null,causacion:null,valor_extra:0,porcentaje_extra:0}},formResetAnd:function(){this.dataDos={contrato_empleado_remuneracion:null,contrato_empleado:null,salario_base:0,observacion:null}}}}},2616:function(a,e,t){var o=t(2617);"string"==typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);t(456)("7d5e7e07",o,!0,{})},2617:function(a,e,t){e=a.exports=t(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DetalleExtraslaborales.vue",sourceRoot:""}])},2618:function(a,e,t){"use strict";function o(a){t(2619)}var r=t(1343),n=t(2621),s=t(1),l=o,i=s(r.a,n.a,!1,l,"data-v-4d720b19",null);e.a=i.exports},2619:function(a,e,t){var o=t(2620);"string"==typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);t(456)("b9125c02",o,!0,{})},2620:function(a,e,t){e=a.exports=t(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroExtraLaboral.vue",sourceRoot:""}])},2621:function(a,e,t){"use strict";var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:a.show,callback:function(e){a.show=e},expression:"show"}},[t("v-card",[t("toolbar-list",{attrs:{info:"",title:"dos"===a.valor?a.ModalTitulo:a.ModalTituloDos,subtitle:"Registro y gestión"}}),a._v(" "),t("v-form",{attrs:{"data-vv-scope":"formExtras"}},[t("v-container",{attrs:{fluid:"","grid-list-sm":""}},["uno"===a.valor||"dos"===a.valor?t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:a.complementosExtras?a.complementosExtras.extras_laborales:[],"item-value":"consecutivo_extra_laboral","item-text":"descripcion",name:"extra laboral",label:"Extra Laboral","error-messages":a.errors.collect("extra laboral"),clearable:""},model:{value:a.data.extra_laboral,callback:function(e){a.$set(a.data,"extra_laboral",e)},expression:"data.extra_laboral"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"required|fechaValida:YYYY-MM-DD",expression:"'required|fechaValida:YYYY-MM-DD'"}],attrs:{label:"Fecha Inicio (Año-Mes-Día)",format:"YYYY-MM-DD",min:a.minDate,name:"fecha inicio","error-messages":a.errors.collect("fecha inicio")},model:{value:a.data.fecha_inicio,callback:function(e){a.$set(a.data,"fecha_inicio",e)},expression:"data.fecha_inicio"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"fechaValida:YYYY-MM-DD",expression:"'fechaValida:YYYY-MM-DD'"}],attrs:{disabled:!a.data.fecha_inicio,label:"Fecha Fin (Año-Mes-Día)",format:"YYYY-MM-DD",min:a.data.fecha_inicio,name:"fecha fin","error-messages":a.errors.collect("fecha fin")},model:{value:a.data.fecha_fin,callback:function(e){a.$set(a.data,"fecha_fin",e)},expression:"data.fecha_fin"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm4:"",md6:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:a.estadosS,"item-value":"id","item-text":"nombre",name:"estado",label:"Estado","error-messages":a.errors.collect("estado"),clearable:""},model:{value:a.data.estado,callback:function(e){a.$set(a.data,"estado",e)},expression:"data.estado"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm4:"",md6:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:a.complementosExtras?a.complementosExtras.causacionesextras:[],"item-value":"id","item-text":"nombre",name:"causación",label:"Causación","error-messages":a.errors.collect("causación"),clearable:""},model:{value:a.data.causacion,callback:function(e){a.$set(a.data,"causacion",e)},expression:"data.causacion"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],key:"valor extra",attrs:{label:"Valor extra",name:"valor extra","prepend-icon":"attach_money",precision:0,"error-messages":a.errors.collect("valor extra")},model:{value:a.data.valor_extra,callback:function(e){a.$set(a.data,"valor_extra",a._n(e))},expression:"data.valor_extra"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[t("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],key:"porcentaje salarial",attrs:{label:"Porcentaje Salarial",name:"porcentaje salarial","prepend-icon":"fas fa-percent",precision:2,"error-messages":a.errors.collect("porcentaje salarial")},model:{value:a.data.porcentaje_extra,callback:function(e){a.$set(a.data,"porcentaje_extra",a._n(e))},expression:"data.porcentaje_extra"}})],1)],1):a._e(),a._v(" "),"tres"===a.valor||"cuatro"===a.valor?t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],key:"salario base",attrs:{label:"Salario Base",name:"salario base","prepend-icon":"attach_money",precision:0,"error-messages":a.errors.collect("salario base")},model:{value:a.dataDos.salario_base,callback:function(e){a.$set(a.dataDos,"salario_base",a._n(e))},expression:"dataDos.salario_base"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Observaciones",name:"observaciones","error-messages":a.errors.collect("observaciones"),rows:"1"},model:{value:a.dataDos.observacion,callback:function(e){a.$set(a.dataDos,"observacion",e)},expression:"dataDos.observacion"}})],1)],1):a._e()],1)],1),a._v(" "),t("v-card-actions",{staticClass:"grey lighten-3"},[t("v-spacer"),a._v(" "),t("v-btn",{attrs:{flat:""},on:{click:function(e){a.show=!1}}},[a._v("Cancelar")]),a._v(" "),t("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return e.preventDefault(),a.save(e)}}},[a._v("Registrar")])],1)],1)],1)},r=[],n={render:o,staticRenderFns:r};e.a=n},2622:function(a,e,t){"use strict";var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-card",[t("registro-extra-laboral",{ref:"extralaboral",on:{updateOrCreate:function(e){return a.saveExtra(e,e.valor)}}}),a._v(" "),t("v-tabs",{attrs:{grow:"","fixed-tabs":"",color:"cyan",dark:""}},[t("v-tabs-slider",{attrs:{color:"accent"}}),a._v(" "),t("v-tab",{attrs:{href:"#tab-1"}},[a._v("\n      Extras Laborales\n    ")]),a._v(" "),t("v-tab",{attrs:{href:"#tab-2"}},[a._v("\n      Remuneraciones\n    ")]),a._v(" "),t("v-tab-item",{attrs:{value:"tab-1"}},[t("v-card",{attrs:{flat:""}},[t("toolbar-list",{attrs:{info:a.infoComponent,iconom:"fas fa-file-invoice-dollar",title:a.title,btnplus:"",btnplustitle:"Agregar Extra",btnplustruncate:""},on:{click:function(e){return a.openDialog("uno")}}}),a._v(" "),t("data-table-v2",{on:{resetOption:function(e){return a.resetOptions(e)},editar:function(e){return a.editarItem(e,"a")}},model:{value:a.dataTable,callback:function(e){a.dataTable=e},expression:"dataTable"}})],1)],1),a._v(" "),t("v-tab-item",{attrs:{value:"tab-2"}},[t("v-card",{attrs:{flat:""}},[t("toolbar-list",{attrs:{info:a.infoComponent,iconom:"fas fa-hand-holding-usd",title:a.titleDos,btnplus:"",btnplustitle:"Agregar Remuneración",btnplustruncate:""},on:{click:function(e){return a.openDialog("tres")}}}),a._v(" "),t("data-table-v2",{on:{resetOption:function(e){return a.resetOptions(e)},editar:function(e){return a.editarItem(e,"b")}},model:{value:a.dataTableDos,callback:function(e){a.dataTableDos=e},expression:"dataTableDos"}})],1)],1)],1)],1)},r=[],n={render:o,staticRenderFns:r};e.a=n},721:function(a,e,t){"use strict";function o(a){t(2616)}Object.defineProperty(e,"__esModule",{value:!0});var r=t(1342),n=t(2622),s=t(1),l=o,i=s(r.a,n.a,!1,l,"data-v-8b4aa346",null);e.default=i.exports}});
//# sourceMappingURL=74.73abdfa924abaef23f62.js.map