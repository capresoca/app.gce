webpackJsonp([315],{1332:function(e,a,t){"use strict";var r=t(249),o=t.n(r),i=t(252),n=t.n(i),l=t(13),s=t.n(l),c=t(14),d=t.n(c),v=t(12),u=t(743);a.a={name:"estudio",props:["empleado"],components:{Confirmar:u.a},data:function(){return{dialogA:{visible:!1,content:null,registroID:null},dialog:!1,tableLoading:!1,headersInfoLaboral:[{text:"Empresa",align:"left",sortable:!1,value:"empresa"},{text:"Cargo",align:"left",sortable:!1,value:"cargo"},{text:"F.Ingreso",align:"left",sortable:!1,value:"fecha_ingreso"},{text:"F.Retiro",align:"left",sortable:!1,value:"fecha_retiro"},{text:"Dirección",align:"left",sortable:!1,value:"direccion"},{text:"Teléfono",align:"left",sortable:!1,value:"telefono"},{text:"Opciones",align:"left",sortable:!1,value:"id"}],tabs:null,menuDateFechaIngreso:!1,menuDateFechaRetiro:!1,dataExperienciaLaboral:{laboral:[]},mostrar:!0,experienciaLaboral:{}}},mounted:function(){},created:function(){this.reloadPage()},watch:{},filers:{},computed:{computedDateFormattedFechaIngreso:function(){return this.formDate(this.experienciaLaboral.fecha_ingreso)},computedDateFormattedFechaRetiro:function(){return this.formDate(this.experienciaLaboral.fecha_retiro)}},methods:{reloadPage:function(){var e=this;this.tableLoading=!0,this.localLoading=!0,this.axios.get("empleadoslaboral?id="+this.empleado).then(function(a){e.dataExperienciaLaboral.laboral=a.data,e.tableLoading=!1,e.localLoading=!1}).catch(function(a){return e.tableLoading=!1,e.localLoading=!1,!1})},mostrarCardEd:function(e,a){1===e&&"laboral"===a?this.mostrar=!0:2===e&&"laboral"===a&&(this.mostrar=!1)},validador:function(e){return this.$validator.validateAll(e).then(function(e){return e})},saveExperiencia:function(){var e=this;return d()(s.a.mark(function a(){var t;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.validador("formPago");case 2:if(!a.sent){a.next=10;break}e.experienciaLaboral.empleado=e.empleado,console.log(e.experienciaLaboral),e.localLoading=!0,t=e.experienciaLaboral.empleado_laboral?e.axios.put("empleadoslaboral/actualizar/"+e.experienciaLaboral.empleado_laboral,e.experienciaLaboral):e.axios.post("empleadoslaboral/crear",e.experienciaLaboral),t.then(function(a){e.localLoading=!1,e.experienciaLaboral.empleado_laboral?e.$store.commit(v.b,{msg:"La experiencia laboral se actualizó correctamente",color:"success"}):(e.$store.commit(v.b,{msg:"Experiencia laboral agregada exitosamente",color:"success"}),e.reloadPage()),e.dialog=!1}).catch(function(a){e.localLoading=!1,e.$store.commit(v.b,{msg:"Hay un error al guardar el registro. "+a.response,color:"danger"})}),a.next=11;break;case 10:e.$store.commit(v.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 11:e.formTableReset();case 12:case"end":return a.stop()}},a,e)}))()},eliminarLaboral:function(e){this.dialogA.content="¿Está seguro de eliminar?",this.dialogA.registroID=e.empleado_laboral,this.dialogA.visible=!0},cancelaAnulacion:function(){this.dialogA.visible=!1,this.dialogA.content=null,this.dialogA.registroID=null},confirmaAnulacion:function(e){var a=this;this.localLoading=!0,this.axios.delete("empleadoslaboral/eliminar/"+this.dialogA.registroID).then(function(e){a.$store.commit(v.b,{msg:"La experiencia laboral se eliminó correctamente",color:"success"}),a.reloadPage(),a.cancelaAnulacion()}).catch(function(e){a.localLoading=!1,a.$store.commit(v.b,{msg:"Hay un error al eliminar el registro. "+e.response,color:"danger"})})},editarLaboral:function(e,a){this.dialog=!0,this.experienciaLaboral=n()({},e),this.i=a},closeTable:function(){this.formTableReset()},formTableReset:function(){this.i=null,this.experienciaLaboral={empresa:null,cargo:null,fecha_ingreso:null,fecha_retiro:null,direccion:null,telefono:null},this.dialog=!1},formDate:function(e){if(!e)return null;var a=e.split("-"),t=o()(a,3);return t[0]+"/"+t[1]+"/"+t[2]}}}},2577:function(e,a,t){"use strict";function r(e){t(2578)}Object.defineProperty(a,"__esModule",{value:!0});var o=t(1332),i=t(2580),n=t(1),l=r,s=n(o.a,i.a,!1,l,"data-v-210fe342",null);a.default=s.exports},2578:function(e,a,t){var r=t(2579);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t(456)("6c58cead",r,!0,{})},2579:function(e,a,t){a=e.exports=t(455)(!0),a.push([e.i,".tipo[data-v-210fe342]{height:10px;padding:0}.no-padding[data-v-210fe342]{padding:0}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/administrativo/TalentoHumano/Empleado/EmpleadoLaboral.vue"],names:[],mappings:"AACA,uBACE,YAAa,AACb,SAAW,CACZ,AACD,6BACE,SAAW,CACZ",file:"EmpleadoLaboral.vue",sourcesContent:["\n.tipo[data-v-210fe342] {\n  height: 10px;\n  padding: 0;\n}\n.no-padding[data-v-210fe342] {\n  padding: 0;\n}\n"],sourceRoot:""}])},2580:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-dialog",{attrs:{width:"1000px"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-form",[t("v-card",[t("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[t("span",{staticClass:"title"},[e._v("Agregar experiencia laboral")])]),e._v(" "),t("v-container",{attrs:{fluid:"","grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"empresa",attrs:{label:"Empresa",name:"empresa",required:"","error-messages":e.errors.collect("empresa")},model:{value:e.experienciaLaboral.empresa,callback:function(a){e.$set(e.experienciaLaboral,"empresa",a)},expression:"experienciaLaboral.empresa"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"cargo",attrs:{label:"Cargo",name:"cargo",required:"","error-messages":e.errors.collect("cargo")},model:{value:e.experienciaLaboral.cargo,callback:function(a){e.$set(e.experienciaLaboral,"cargo",a)},expression:"experienciaLaboral.cargo"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-menu",{ref:"menuDateFechaIngreso",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:e.menuDateFechaIngreso,callback:function(a){e.menuDateFechaIngreso=a},expression:"menuDateFechaIngreso"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],attrs:{slot:"activator",label:"Fecha ingreso","prepend-icon":"event",readonly:"",name:"fecha ingreso","error-messages":e.errors.collect("fecha ingreso")},slot:"activator",model:{value:e.computedDateFormattedFechaIngreso,callback:function(a){e.computedDateFormattedFechaIngreso=a},expression:"computedDateFormattedFechaIngreso"}}),e._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(a){e.menuDateFechaIngreso=!1},change:function(){var a=e.$validator.errors.items.findIndex(function(e){return"fecha ingreso"===e.field});e.$validator.errors.items.splice(-1!==a?a:0,-1!==a?1:0)}},model:{value:e.experienciaLaboral.fecha_ingreso,callback:function(a){e.$set(e.experienciaLaboral,"fecha_ingreso",a)},expression:"experienciaLaboral.fecha_ingreso"}})],1)],1),e._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-menu",{ref:"menuDateFechaRetiro",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:e.menuDateFechaRetiro,callback:function(a){e.menuDateFechaRetiro=a},expression:"menuDateFechaRetiro"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],attrs:{slot:"activator",label:"Fecha retiro","prepend-icon":"event",readonly:"",name:"fecha retiro","error-messages":e.errors.collect("fecha retiro")},slot:"activator",model:{value:e.computedDateFormattedFechaRetiro,callback:function(a){e.computedDateFormattedFechaRetiro=a},expression:"computedDateFormattedFechaRetiro"}}),e._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(a){e.menuDateFechaRetiro=!1},change:function(){var a=e.$validator.errors.items.findIndex(function(e){return"fecha retiro"===e.field});e.$validator.errors.items.splice(-1!==a?a:0,-1!==a?1:0)}},model:{value:e.experienciaLaboral.fecha_retiro,callback:function(a){e.$set(e.experienciaLaboral,"fecha_retiro",a)},expression:"experienciaLaboral.fecha_retiro"}})],1)],1),e._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"dirección de empresa",attrs:{label:"Dirección",name:"dirección de empresa",required:"","error-messages":e.errors.collect("dirección de empresa")},model:{value:e.experienciaLaboral.direccion,callback:function(a){e.$set(e.experienciaLaboral,"direccion",a)},expression:"experienciaLaboral.direccion"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:50|",expression:"'required|max:50|'"}],key:"teléfono de empresa",attrs:{label:"Teléfono",name:"teléfono de empresa",required:"","error-messages":e.errors.collect("teléfono de empresa")},model:{value:e.experienciaLaboral.telefono,callback:function(a){e.$set(e.experienciaLaboral,"telefono",a)},expression:"experienciaLaboral.telefono"}})],1)],1)],1),e._v(" "),t("v-card-actions",{staticClass:"grey lighten-4"},[t("v-spacer"),e._v(" "),t("v-btn",{on:{click:e.closeTable}},[e._v("Cancelar")]),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:e.saveExperiencia}},[e._v("Guardar")])],1)],1)],1)],1),e._v(" "),t("v-toolbar",{directives:[{name:"show",rawName:"v-show",value:!e.mostrar,expression:"!mostrar"}],attrs:{dense:"",short:"",flat:""}},[t("v-app-bar-nav-icon"),e._v(" "),t("v-title",[e._v("Experiencia laboral")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:function(a){return e.mostrarCardEd(1,"laboral")}}},[t("v-icon",{attrs:{title:"mostrar"}},[e._v("remove_red_eye")])],1)],1),e._v(" "),t("v-card",{directives:[{name:"show",rawName:"v-show",value:e.mostrar,expression:"mostrar"}],attrs:{flat:""}},[t("v-card-text",[t("v-toolbar",{attrs:{dense:"",short:"",flat:""}},[t("v-app-bar-nav-icon"),e._v(" "),t("v-title",[e._v("Experiencia laboral")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{icon:""}},[t("v-icon",{on:{click:function(a){e.dialog=!0}}},[e._v("add")])],1),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:function(a){return e.mostrarCardEd(2,"laboral")}}},[t("v-icon",{attrs:{color:"green",title:"ocultar"}},[e._v("remove_red_eye")])],1)],1),e._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersInfoLaboral,items:e.dataExperienciaLaboral.laboral,loading:e.tableLoading,"total-items":e.dataExperienciaLaboral.length,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(a){return[t("td",[e._v(e._s(a.item.empresa))]),e._v(" "),t("td",[e._v(e._s(a.item.cargo))]),e._v(" "),t("td",[e._v(e._s(a.item.fecha_ingreso))]),e._v(" "),t("td",[e._v(e._s(a.item.fecha_retiro))]),e._v(" "),t("td",[e._v(e._s(a.item.direccion))]),e._v(" "),t("td",[e._v(e._s(a.item.telefono))]),e._v(" "),t("td",[t("v-speed-dial",{attrs:{direction:"left","open-on-hover":"",transition:"slide-x-transition"},model:{value:a.item.show,callback:function(t){e.$set(a.item,"show",t)},expression:"props.item.show"}},[t("v-btn",{attrs:{slot:"activator",color:"blue darken-2",dark:"",fab:"",small:""},slot:"activator",model:{value:a.item.show,callback:function(t){e.$set(a.item,"show",t)},expression:"props.item.show"}},[t("v-icon",[e._v("chevron_left")]),e._v(" "),t("v-icon",[e._v("close")])],1),e._v(" "),t("v-tooltip",{attrs:{top:""}},[t("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(t){return e.eliminarLaboral(a.item)}},slot:"activator"},[t("v-icon",{attrs:{color:"accent"}},[e._v("delete")])],1),e._v(" "),t("span",[e._v("Eliminar")])],1),e._v(" "),t("v-tooltip",{attrs:{top:""}},[t("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(t){return e.editarLaboral(a.item)}},slot:"activator"},[t("v-icon",{attrs:{color:"accent"}},[e._v("mode_edit")])],1),e._v(" "),t("span",[e._v("Editar")])],1)],1)],1)]}}])},[e._v(" "),t("template",{slot:"no-data"},[e.tableLoading?t("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[e._v("\n            Estamos cargando los registros. "),t("v-icon",[e._v("sentiment_satisfied_alt")])],1):t("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n            No tenemos registros para mostrar. "),t("v-icon",[e._v("sentiment_very_dissatisfied")])],1)],1)],2)],1)],1),e._v(" "),t("confirmar",{attrs:{value:e.dialogA.visible,content:e.dialogA.content},on:{cancelar:e.cancelaAnulacion,aceptar:function(a){return e.confirmaAnulacion(a)}}})],1)},o=[],i={render:r,staticRenderFns:o};a.a=i},742:function(e,a,t){"use strict";var r=t(13),o=t.n(r),i=t(14),n=t.n(i),l=t(58);a.a={name:"Confirmar",props:{value:{type:Boolean,default:!1},content:{type:String},requiereMotivo:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},components:{Loading:l.default},data:function(){return{loadingSubmit:!1,motivo:null}},watch:{value:function(e){e||(this.motivo=null,this.$validator.reset())}},methods:{submit:function(){var e=this;return n()(o.a.mark(function a(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$validator.validateAll();case 2:if(!a.sent){a.next=5;break}e.loadingSubmit=!0,e.$emit("aceptar",e.motivo);case 5:case"end":return a.stop()}},a,e)}))()},pararCarga:function(){this.loadingSubmit=!1}}}},743:function(e,a,t){"use strict";function r(e){t(744)}var o=t(742),i=t(746),n=t(1),l=r,s=n(o.a,i.a,!1,l,"data-v-3773d9ac",null);a.a=s.exports},744:function(e,a,t){var r=t(745);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t(456)("0e7a280b",r,!0,{})},745:function(e,a,t){a=e.exports=t(455)(!0),a.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Confirmar2.vue",sourceRoot:""}])},746:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{key:"dialogConfirm",attrs:{persistent:"","max-width":"400"},model:{value:e.value,callback:function(a){e.value=a},expression:"value"}},[t("loading",{model:{value:e.loading,callback:function(a){e.loading=a},expression:"loading"}}),e._v(" "),t("v-card",[t("v-card-text",{staticClass:"title font-weight-light text-xs-center",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),t("v-divider"),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{flat:""},on:{click:function(a){return a.stopPropagation(),e.$emit("cancelar")}}},[e._v("Cancelar")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"primary",loading:e.loadingSubmit},on:{click:function(a){return a.stopPropagation(),e.submit(a)}}},[e._v("Aceptar")])],1)],1)],1)],1)},o=[],i={render:r,staticRenderFns:o};a.a=i}});
//# sourceMappingURL=315.f531bd090826c4590961.js.map