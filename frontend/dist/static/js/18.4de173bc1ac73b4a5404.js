webpackJsonp([18],{1275:function(t,a,e){"use strict";var s=e(857),i=e.n(s),o=e(8),r=e.n(o),n=e(6),l=e(59),c=e(2398),d=e(2402),u=e(2406),v=e(2410),p=e(2414);a.a={name:"DetalleFactura",props:["parametros"],components:{Confirmar:function(){return e.e(289).then(e.bind(null,749))},RegistroGlosaFactura:function(){return e.e(373).then(e.bind(null,2424))},DetalleInformacionBasica:function(){return e.e(376).then(e.bind(null,2428))},DetalleOpcionRegistroFactura:function(){return e.e(375).then(e.bind(null,2432))},Glosas:function(){return e.e(374).then(e.bind(null,2436))},SelectAltoCosto:c.a,SelectCapita:d.a,SelectRecobro:u.a,SelectAvala:v.a,RegistroGlosaMasivo:p.a},data:function(){return{searchItemsFacturas:null,window:0,pagination:{},paginationGlosas:{},filterItemsEstado:[null,0,1],headersGlosasFactura:[{text:"",align:"center",sortable:!1},{text:"Glosa",align:"left",sortable:!1},{text:"Valor",align:"right",sortable:!1},{text:"Observaciones",align:"center",sortable:!1}],headers:[{text:"item",align:"center",sortable:!1,value:"indexItem"},{text:"",align:"center",sortable:!1,value:"id"},{text:"Estado",align:"center",sortable:!1,value:"id"},{text:"Afiliado",align:"left",sortable:!1},{text:"Servicio",align:"left",sortable:!1,value:"codigo"},{text:"Cant.",align:"center",sortable:!1,value:"cantidad"},{text:"Vl. Copago",align:"right",sortable:!1},{text:"Vl. Neto",align:"right",sortable:!1},{text:"Vl. Glosado",align:"right",sortable:!1,value:"valor_glosado"}],headersServiciosDetalle:[{text:"item",align:"center",sortable:!1,value:"indexItem"},{text:"Afiliado",align:"left",sortable:!1},{text:"Servicio",align:"left",sortable:!1,value:"codigo"},{text:"Cant.",align:"center",sortable:!1,value:"cantidad"},{text:"Vl. Copago",align:"right",sortable:!1},{text:"Vl. Neto",align:"right",sortable:!1}],headersServiciosContratados:[{text:"item",align:"center",sortable:!1,value:""},{text:"",align:"center",sortable:!1,value:"id"},{text:"Estado",align:"center",sortable:!1,value:"id"},{text:"Servicio",align:"left",sortable:!1,value:""},{text:"Vl. Copago",align:"right",sortable:!1},{text:"Vl. Neto",align:"right",sortable:!1},{text:"Vl. Glosado",align:"right",sortable:!1,value:"valor_glosado"}],headersDetalleGlosas:[{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Tipo Glosa",align:"center",sortable:!1,value:"cantidad"},{text:"Total Servicio",align:"right",sortable:!1},{text:"Total Glosado",align:"right",sortable:!1,value:"valor_glosado"}],dialogA:{loading:!1,visible:!1,content:null},dialogB:{loading:!1,visible:!1,props:null,content:null},verBasica:!1,loading:!0,facturaOriginal:null,factura:null,selecteds:[],selectedsDetalleGlosas:[],itemSeleccionado:null,glosas_registro:[],glosas_factura:[],tiposAltoCosto:[]}},watch:{items:{handler:function(t){t&&t.forEach(function(a){var e=0;"subheader"===a.flag?(t.filter(function(t){return"registro"===t.flag&&t.tipo===a.nombre}).forEach(function(t){e+=t.valor_glosado}),a.valor_glosado=e):(a.glosas&&a.glosas.filter(function(t){return!t.of_facservicio}).forEach(function(t){e+=t.valor_glosa}),a.valor_glosado=e)})},deep:!0}},computed:r()({complementos:function(){return l.b.getters.complementosFacturaAuditoria}},Object(n.c)({currentUser:function(t){return t.user.profile}}),{auditando:function(){return(!this||!this.parametros.esdetalle)&&!!(this&&this.factura&&this.parametros&&("Asignada"===this.factura.estado||"Auditando"===this.factura.estado)&&this.currentUser&&this.currentUser.roles&&this.currentUser.roles.find(function(t){return 43===t.id}))},esCapita:function(){return this&&this.factura&&"Capita"===this.factura.modalidad&&this.factura.servicios_contratados&&this.factura.servicios_contratados.length>0},totalGlosadoFactura:function(){var t=0;return this.factura&&this.factura.glosas&&(t=this.factura.valor_neto),t},infoComponent:function(){return this.$store.getters.getInfoComponent("cmradicadas")},cuentaGlosas:function(){var t=0;return this.items&&this.items.forEach(function(a){t+=a.glosas?a.glosas.length:0}),this.factura&&this.factura.glosas&&(t+=this.factura.glosas.length),t},itemsSinRevisar:function(){var t=this,a=0;return this.items&&(a=this.items.filter(function(a){return"Capita"===t.factura.modalidad?"Capita"===a.tipo:"Capita"!==a.tipo}).filter(function(t){return"registro"===t.flag&&null===t.avalado}).length),a},valorGlosado:function(){var t=0;return this.items&&this.items.forEach(function(a){var e=0;a.glosas&&a.glosas.filter(function(t){return!t.of_facservicio}).forEach(function(t){e+=t.valor_glosa}),t+=e>a.valor_total?a.valor_total:e}),t},itemsGlosas:function(){var t=this.items.filter(function(t){return t.id&&t.glosas.length}).reduce(function(t,a){return(t[a.id]=t[a.id]||[]).push(a),t},{}),a=[];return i()(t).forEach(function(t){var e={flag:"subheader",registros:t[1][0].glosas.length,fecha_servicio:t[1][0].fecha_servicio,cantidad:t[1][0].cantidad,codigo:t[1][0].codigo,nombre:t[1][0].nombre,valor_total:t[1][0].valor_total,valor_glosado:t[1][0].valor_glosado};a.push(e),t[1][0].glosas.map(function(a){a.valor_servicio=t[1][0].valor_total}),a=a.concat(t[1][0].glosas)}),a},items:function(){if(this.factura&&this.factura.servicios){var t=this.factura&&this.factura.servicios&&this.factura.servicios.reduce(function(t,a){return(t[a.tipo]=t[a.tipo]||[]).push(a),t},{}),a=[];return i()(t).forEach(function(t){var e={nombre:t[0],flag:"subheader",tipo:t[1][0].tipo,registros:t[1].length,valor_total:window.lodash.sumBy(t[1],"valor_total"),cantidad:window.lodash.sumBy(t[1],"cantidad"),valor_glosado:window.lodash.sumBy(t[1],"valor_glosado")};a.push(e),a=a.concat(t[1])}),a}},itemsFactura:function(){var t=this;return this.items?this.items.filter(function(a){return("subheader"===a.flag||"registro"===a.flag&&a.avalado===t.filterItemsEstado.find(function(t){return a.avalado===t}))&&(!t.searchItemsFacturas||(a.nombre.toString().toLowerCase().indexOf(t.searchItemsFacturas.toString().toLowerCase())>-1||a.codigo&&a.codigo.toString().toLowerCase().indexOf(t.searchItemsFacturas.toString().toLowerCase())>-1))}):[]}}),created:function(){this.getRegistro(this.parametros.entidad.id),this.getGlosas()},methods:{revisarRegistro:function(t,a){this.itemSeleccionado=a,this.$refs.glosas.open()},openGlosaFactura:function(){this.$refs.glosasFactura.open()},cancelaConfirmacion:function(){var t=this;this.dialogA.visible=!1,this.dialogA.loading=!1,setTimeout(function(){t.dialogA.content=""},300)},aceptaConfirmacion:function(){this.dialogA.loading=!0,this.guardar()},confirmaAuditoria:function(){this.dialogA.content="¿Está seguro de <strong>Confirmar la auditoría para la factura "+this.factura.consecutivo+"</strong>?",this.dialogA.visible=!0},guardar:function(){var t=this;this.loading=!0,this.axios.post("facturas/"+this.factura.id,{id:this.factura.id,estado:this.cuentaGlosas?"glosar":"avalar"}).then(function(a){t.$store.commit("reloadTable","tableFacturasRadicadas"),t.$store.commit("SNACK_SHOW",{msg:"La factura "+t.factura.consecutivo+" se auditó correctamente.",color:"success"}),t.$store.dispatch("NAV_RESPONSE_CONTENT_ITEM",{contexto:t,itemId:t.parametros.tabOrigin})}).catch(function(a){t.dialogA.loading=!1,t.loading=!1,t.$store.commit("SNACK_ERROR_LIST",{expression:" al marcar la factura como auditada. ",error:a})})},cancelaConfirmacionB:function(){var t=this;this.dialogB.visible=!1,this.dialogB.loading=!1,setTimeout(function(){t.dialogB.content="",t.dialogB.props=null},300)},aceptaConfirmacionB:function(){this.dialogB.loading=!0,this.borrarGlosaFactura(this.dialogB.props)},confirmaBorrado:function(t){this.dialogB.content="<strong>¿Está seguro de borrar la glosa de factura "+(t.index+1)+" de código "+t.item.glosa.glosa+" por "+this.currency(t.item.valor_glosa)+"?</strong>",this.dialogB.props=t,this.dialogB.visible=!0},borrarGlosaFactura:function(t){var a=this;this.loading=!0,this.axios.delete("facservicios/glosas/"+t.item.id).then(function(t){a.loading=!1,a.$store.commit("SNACK_SHOW",{msg:"La glosa de factura fue borrada correctamente.",color:"success"}),a.getRegistro(a.factura.id),a.cancelaConfirmacionB()}).catch(function(t){a.loading=!1,a.$store.commit("SNACK_ERROR_LIST",{expression:"al borrar la glosa de factura",error:t})})},getRegistro:function(t){var a=this;this.loading=!0,this.axios.get("cm_facturas/"+t).then(function(t){console.log("responseresponse",t),t.data.data.servicios.forEach(function(t,a){t.estado=null!==t.avalado?t.avalado?"Avalado":"Glosado":"Sin revisar",t.flag="registro",t.indexItem=a+1,t.valor_total=t.cantidad*t.valor_unitario-(t.copago||0),t.valor_glosado=0,t.altos_costos=t.altos_costos.length?t.altos_costos.map(function(t){return t.alto_costo}):[]}),a.facturaOriginal=r()({},t.data.data),a.factura=r()({},t.data.data),a.loading=!1}).catch(function(t){a.loading=!1,a.$store.commit("SNACK_ERROR_LIST",{expression:" al traer la data de la factura. ",error:t})})},getGlosas:function(){var t=this;this.axios.get("manglosas").then(function(a){t.glosas_registro=a.data.data.glosas.filter(function(t){return t.glosa<900}),t.glosas_factura=a.data.data.glosas.filter(function(t){return t.glosa>=800&&t.glosa<900})}).catch(function(a){t.$store.commit("SNACK_ERROR_LIST",{expression:" al traer las opciones de glosas. ",error:a})})}}}},1276:function(t,a,e){"use strict";var s=e(58),i=e(59);a.a={name:"SelectAltoCosto",props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:[]},disabled:{type:Boolean,default:!1}},components:{Loading:s.default},data:function(){return{seleccionados:[],dialog:!1,loading:!1}},computed:{unicoR:function(){return this.items&&1===this.items.length},complementos:function(){return i.b.getters.complementosFacturaAuditoria}},watch:{dialog:function(t){this.seleccionados=t&&this.unicoR?this.items[0].altos_costos:[]}},methods:{guardar:function(){var t=this;this.$validator.validateAll().then(function(a){a&&(t.loading=!0,t.axios.post("facservicios/altoscostos",{facservicios:t.items,altos_costos:t.seleccionados.map(function(t){return t.id})}).then(function(){t.items.forEach(function(a){a.altos_costos=t.seleccionados}),t.$emit("asignados"),t.loading=!1,t.dialog=!1,t.$store.commit("SNACK_SHOW",{msg:"Los tipos de alto costo se han asignado correctamente.",color:"success"})}).catch(function(a){t.loading=!1,t.$store.commit("SNACK_ERROR_LIST",{expression:"al asignar los tipos de alto costo ",error:a})}))})}}}},1277:function(t,a,e){"use strict";var s=e(58);a.a={name:"SelectCapita",props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:[]},disabled:{type:Boolean,default:!1}},components:{Loading:s.default},data:function(){return{loading:!1}},computed:{unicoR:function(){return this.items&&1===this.items.length}},methods:{capitar:function(){var t=this;this.loading=!0,this.axios.post("facservicios/masivos",{facservicios:this.items.map(function(t){return t.id}),item:"capita"}).then(function(){if(t.unicoR)t.items[0].capita=0===t.items[0].capita?1:0;else{var a=t.items.find(function(t){return 0===t.capita})?1:0;t.items.forEach(function(t){t.capita=a})}t.$emit("asignados"),t.loading=!1,t.$store.commit("SNACK_SHOW",{msg:"La capita se asignó correctamente.",color:"success"})}).catch(function(a){t.loading=!1,t.$store.commit("SNACK_ERROR_LIST",{expression:"al asignar capita ",error:a})})}}}},1278:function(t,a,e){"use strict";var s=e(58),i=e(59);a.a={name:"SelectAltoCosto",props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:[]},disabled:{type:Boolean,default:!1}},components:{Loading:s.default},data:function(){return{seleccionado:null,dialog:!1,loading:!1}},computed:{unicoR:function(){return this.items&&1===this.items.length},complementos:function(){return i.b.getters.complementosFacturaAuditoria}},watch:{dialog:function(t){this.seleccionado=t&&this.unicoR?this.items[0].recobro:null}},methods:{guardar:function(){var t=this;this.$validator.validateAll().then(function(a){a&&(t.loading=!0,t.axios.post("facservicios/masivos",{facservicios:t.items.map(function(t){return t.id}),seleccionado:t.seleccionado,item:"recobro"}).then(function(){t.items.forEach(function(a){a.recobro=t.seleccionado}),t.$emit("asignados"),t.loading=!1,t.dialog=!1,t.$store.commit("SNACK_SHOW",{msg:"El tipo de recobro se asignó correctamente.",color:"success"})}).catch(function(a){t.loading=!1,t.$store.commit("SNACK_ERROR_LIST",{expression:"al asignar el tipo de recobro ",error:a})}))})}}}},1279:function(t,a,e){"use strict";a.a={name:"SelectAvala",props:{value:{type:Array,default:function(){return[]}},items:{type:Array,default:[]},disabled:{type:Boolean,default:!1}},data:function(){return{loading:!1}},computed:{unicoR:function(){return this.items&&1===this.items.length}},methods:{avalar:function(){var t=this;this.items.filter(function(t){return!t.glosas.length}).length?(this.loading=!0,this.axios.post("facservicios/masivos",{facservicios:this.items.filter(function(t){return!t.glosas.length}).map(function(t){return t.id}),item:"avalado"}).then(function(){if(t.unicoR)t.items[0].avalado=t.items[0].avalado?null:1;else{var a=t.items.filter(function(t){return!t.glosas.length}).find(function(t){return!t.avalado})?1:null;t.items.filter(function(t){return!t.glosas.length}).forEach(function(t){t.avalado=a})}t.$emit("asignados"),t.loading=!1,t.$store.commit("SNACK_SHOW",{msg:"El aval se asignó correctamente.",color:"success"})}).catch(function(a){t.loading=!1,t.$store.commit("SNACK_ERROR_LIST",{expression:"al asignar aval ",error:a})})):this.$store.commit("SNACK_SHOW",{msg:this.items.length>1?"Los items seleccionados tienen glosas y no se pueden avalar.":"El item seleccionado tiene glosas y no se puede avalar.",color:"error"})}}}},1280:function(t,a,e){"use strict";var s=e(1281),i=e(58);a.a={name:"RegistroGlosaMasivo",props:{glosas:{type:Array,default:[]},items:{type:Array,default:[]},disabled:{type:Boolean,default:!1},capitado:{type:Boolean,default:!1},facturaid:{type:[String,Number],default:null}},components:{Loading:i.default,DetalleItemsFacturados:s.a,RegistroGlosa:function(){return e.e(303).then(e.bind(null,1283))}},data:function(){return{itemsFacturados:[],dialog:!1,loading:!1}},computed:{unicoR:function(){return this.items&&1===this.items.length}},watch:{items:{handler:function(t){t&&(this.itemsFacturados=t)},immediate:!0}},methods:{cancelar:function(){this.dialog=!1,this.$emit("cancelar")},registraGlosas:function(){this.$emit("refreshFactura"),this.cancelar()}}}},1281:function(t,a,e){"use strict";function s(t){e(2417)}var i=e(1282),o=e(2419),r=e(1),n=s,l=r(i.a,o.a,!1,n,"data-v-0e72985b",null);a.a=l.exports},1282:function(t,a,e){"use strict";a.a={name:"DetalleItemsFacturados",props:{items:{type:Array,default:[]},capitado:{type:Boolean,default:!1}},data:function(){return{itemsServicios:[]}}}},2396:function(t,a,e){var s=e(2397);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(456)("37b336fd",s,!0,{})},2397:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DetalleFactura.vue",sourceRoot:""}])},2398:function(t,a,e){"use strict";function s(t){e(2399)}var i=e(1276),o=e(2401),r=e(1),n=s,l=r(i.a,o.a,!1,n,null,null);a.a=l.exports},2399:function(t,a,e){var s=e(2400);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(456)("13c4e4ed",s,!0,{})},2400:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,".badge-options-facservicios>span.v-badge__badge{margin-top:4px!important;height:16px!important;width:16px!important;font-size:11px!important;right:-12px!important}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/administrativo/auditoriaCuentas/radicadosAsignados/detalleFactura/SelectAltoCosto.vue"],names:[],mappings:"AACA,gDACE,yBAA2B,AAC3B,sBAAwB,AACxB,qBAAuB,AACvB,yBAA2B,AAC3B,qBAAwB,CACzB",file:"SelectAltoCosto.vue",sourcesContent:["\n.badge-options-facservicios>span.v-badge__badge {\n  margin-top: 4px !important;\n  height: 16px !important;\n  width: 16px !important;\n  font-size: 11px !important;\n  right: -12px !important;\n}\n"],sourceRoot:""}])},2401:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{width:"0px !important"}},[e("v-btn",{attrs:{flat:"",dark:""},on:{click:function(a){a.stopPropagation(),t.dialog=!0}}},[e("span",{staticClass:"subheading"},[t._v("ALTO COSTO")])]),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("loading",{model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}}),t._v(" "),e("v-toolbar",{staticClass:"elevation-1 white",attrs:{dense:""}},[e("v-avatar",{staticClass:"white--text",attrs:{size:"36",color:"primary"}},[t._v("\n          AC\n        ")]),t._v(" "),e("v-list-tile",[e("v-list-tile-content",[e("v-list-tile-title",{staticClass:"subheading"},[t._v("Asignación de alto costo")])],1)],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-tooltip",{attrs:{left:""}},[e("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){t.dialog=!1}},slot:"activator"},[e("v-icon",[t._v("\n              close\n            ")])],1),t._v(" "),e("span",[t._v("Cerrar")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:t.unicoR&&this.items[0].altos_costos.length||!t.unicoR?"":"required",expression:"(unicoR && this.items[0].altos_costos.length) || !unicoR ? '' : 'required'"}],attrs:{label:"Tipos de alto costo",items:t.complementos.tiposAltoCosto,"item-text":"nombre","item-value":"id",multiple:"","return-object":"",chips:"","deletable-chips":"","hide-selected":"",name:"tipos de alto costo","error-messages":t.errors.collect("tipos de alto costo")},model:{value:t.seleccionados,callback:function(a){t.seleccionados=a},expression:"seleccionados"}})],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{flat:""},on:{click:function(a){t.dialog=!1}}},[t._v("Cancelar")]),t._v(" "),e("v-spacer"),t._v(" "),t.items.length?e("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.guardar}},[t._v("Guardar")]):e("v-chip",{attrs:{label:"",color:"orange","text-color":"white"}},[t._v("\n          No se han seleccionado items de factura\n        ")])],1)],1)],1)],1)},i=[],o={render:s,staticRenderFns:i};a.a=o},2402:function(t,a,e){"use strict";function s(t){e(2403)}var i=e(1277),o=e(2405),r=e(1),n=s,l=r(i.a,o.a,!1,n,null,null);a.a=l.exports},2403:function(t,a,e){var s=e(2404);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(456)("35ed3462",s,!0,{})},2404:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"SelectCapita.vue",sourceRoot:""}])},2405:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-btn",{attrs:{flat:"",dark:""},on:{click:function(a){return a.stopPropagation(),t.capitar()}}},[e("span",{staticClass:"subheading"},[t._v("MARCAR CAPITA")])])},i=[],o={render:s,staticRenderFns:i};a.a=o},2406:function(t,a,e){"use strict";function s(t){e(2407)}var i=e(1278),o=e(2409),r=e(1),n=s,l=r(i.a,o.a,!1,n,null,null);a.a=l.exports},2407:function(t,a,e){var s=e(2408);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(456)("38d833fa",s,!0,{})},2408:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"SelectRecobro.vue",sourceRoot:""}])},2409:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{width:"0px !important"}},[e("v-btn",{attrs:{flat:"",dark:""},on:{click:function(a){a.stopPropagation(),t.dialog=!0}}},[e("span",{staticClass:"subheading"},[t._v("RECOBRO")])]),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("loading",{model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}}),t._v(" "),e("v-toolbar",{staticClass:"elevation-1 white",attrs:{dense:""}},[e("v-avatar",{staticClass:"white--text",attrs:{size:"36",color:"primary"}},[t._v("\n            R\n          ")]),t._v(" "),e("v-list-tile",[e("v-list-tile-content",[e("v-list-tile-title",{staticClass:"subheading"},[t._v("Asignación de recobro")])],1)],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-tooltip",{attrs:{left:""}},[e("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){t.dialog=!1}},slot:"activator"},[e("v-icon",[t._v("\n                close\n              ")])],1),t._v(" "),e("span",[t._v("Cerrar")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:t.unicoR&&this.items[0].recobro||!t.unicoR?"":"required",expression:"(unicoR && this.items[0].recobro) || !unicoR ? '' : 'required'"}],attrs:{label:"Tipo de recobro",items:t.complementos.tiposRecobro,name:"tipo de recobro",clearable:"","error-messages":t.errors.collect("tipo de recobro")},model:{value:t.seleccionado,callback:function(a){t.seleccionado=a},expression:"seleccionado"}})],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{flat:""},on:{click:function(a){t.dialog=!1}}},[t._v("Cancelar")]),t._v(" "),e("v-spacer"),t._v(" "),t.items.length?e("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.guardar}},[t._v("Guardar")]):e("v-chip",{attrs:{label:"",color:"orange","text-color":"white"}},[t._v("\n            No se han seleccionado items de factura\n          ")])],1)],1)],1)],1)},i=[],o={render:s,staticRenderFns:i};a.a=o},2410:function(t,a,e){"use strict";function s(t){e(2411)}var i=e(1279),o=e(2413),r=e(1),n=s,l=r(i.a,o.a,!1,n,null,null);a.a=l.exports},2411:function(t,a,e){var s=e(2412);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(456)("09e2f193",s,!0,{})},2412:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"SelectAvala.vue",sourceRoot:""}])},2413:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-btn",{attrs:{flat:"",dark:""},on:{click:function(a){return a.stopPropagation(),t.avalar()}}},[e("span",{staticClass:"subheading"},[t._v("MARCAR AVALADO")])])},i=[],o={render:s,staticRenderFns:i};a.a=o},2414:function(t,a,e){"use strict";function s(t){e(2415)}var i=e(1280),o=e(2423),r=e(1),n=s,l=r(i.a,o.a,!1,n,null,null);a.a=l.exports},2415:function(t,a,e){var s=e(2416);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(456)("27c2aae2",s,!0,{})},2416:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroGlosaMasivo.vue",sourceRoot:""}])},2417:function(t,a,e){var s=e(2418);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(456)("7f696f79",s,!0,{})},2418:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DetalleItemsFacturados.vue",sourceRoot:""}])},2419:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",[e("v-card-title",{staticClass:"grey lighten-3 py-2"},[e("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s(1===t.items.length?"Item seleccionado":"Items seleccionados"))])]),t._v(" "),e("v-divider"),t._v(" "),e("v-data-table",{attrs:{items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"headers",fn:function(a){return[e("th",{staticClass:"text-xs-center",staticStyle:{height:"0px !important"}},[t._v("item")]),t._v(" "),e("th",{staticClass:"text-xs-center",staticStyle:{height:"0px !important"}},[t._v("Tipo")]),t._v(" "),e("th",{staticClass:"text-xs-left",staticStyle:{height:"0px !important"}},[t._v("Código")]),t._v(" "),e("th",{staticClass:"text-xs-left",staticStyle:{height:"0px !important"}},[t._v("Nombre")]),t._v(" "),e("th",{staticClass:"text-xs-center",staticStyle:{height:"0px !important"}},[t._v("Cant.")]),t._v(" "),e("th",{staticClass:"text-xs-right",staticStyle:{height:"0px !important"}},[t._v("Vl. Unit.")]),t._v(" "),e("th",{staticClass:"text-xs-right",staticStyle:{height:"0px !important"}},[t._v("Vl. Total")]),t._v(" "),e("th",{staticClass:"text-xs-right",staticStyle:{height:"0px !important"}},[t._v("Vl. Glosado Actual")]),t._v(" "),t.items.length>1?e("th",{staticClass:"text-xs-center",staticStyle:{height:"0px !important"}}):t._e()]}},{key:"items",fn:function(a){return[e("td",{staticClass:"px-3",staticStyle:{height:"0px !important"}},[e("v-avatar",{attrs:{color:"teal",size:32}},[e("span",{staticClass:"white--text",class:t.items.length>9?"caption":"headline"},[t._v(t._s(a.index+1))])])],1),t._v(" "),e("td",{staticClass:"px-3",staticStyle:{height:"0px !important"}},[t._v("\n        "+t._s(a.item.tipo)+"\n      ")]),t._v(" "),e("td",{staticClass:"px-3",staticStyle:{height:"0px !important"}},[t._v("\n        "+t._s(a.item.codigo)+"\n      ")]),t._v(" "),e("td",{staticClass:"px-3",staticStyle:{height:"0px !important"}},[t._v("\n        "+t._s(a.item.nombre)+"\n      ")]),t._v(" "),e("td",{staticClass:"px-3 text-xs-center",staticStyle:{height:"0px !important"}},[t._v("\n        "+t._s(a.item.cantidad)+"\n      ")]),t._v(" "),e("td",{staticClass:"px-3 text-xs-right",staticStyle:{height:"0px !important"}},[t._v("\n        "+t._s(t.currency(a.item.valor_unitario))+"\n      ")]),t._v(" "),e("td",{staticClass:"px-3 text-xs-right",staticStyle:{height:"0px !important"}},[t._v("\n        "+t._s(t.currency(a.item.valor_total))+"\n      ")]),t._v(" "),e("td",{staticClass:"px-3 text-xs-right",staticStyle:{height:"0px !important"}},[t._v("\n        "+t._s(t.currency(t.lodash.sumBy(a.item.glosas,"valor_glosa")))+"\n      ")]),t._v(" "),t.items.length>1?e("td",{staticClass:"text-xs-center"},[e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",small:"",icon:""},on:{click:function(e){return t.items.splice(a.index,1)}},slot:"activator"},[e("v-icon",{staticClass:"text--darken-2",attrs:{color:"red"}},[t._v("delete")])],1),t._v(" "),e("span",[t._v("Quitar registro")])],1)],1):t._e()]}}])})],1)},i=[],o={render:s,staticRenderFns:i};a.a=o},2423:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{attrs:{persistent:"","max-width":"1200px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e("v-btn",t._g({attrs:{flat:"",dark:""}},s),[e("span",{staticClass:"subheading"},[t._v("GLOSAR")])]),t._v(" "),e("v-divider",{attrs:{vertical:""}})]}}]),model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[t._v(" "),e("v-card",[e("loading",{model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}}),t._v(" "),e("v-toolbar",{staticClass:"elevation-1 white",attrs:{dense:""}},[e("v-avatar",{staticClass:"white--text",attrs:{size:"36",color:"primary"}},[e("v-icon",{attrs:{color:"white"}},[t._v("security")])],1),t._v(" "),e("v-list-tile",[e("v-list-tile-content",[e("v-list-tile-title",{staticClass:"subheading"},[t._v("Asignación de glosa")])],1)],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-tooltip",{attrs:{left:""}},[e("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.cancelar},slot:"activator"},[e("v-icon",[t._v("\n              close\n            ")])],1),t._v(" "),e("span",[t._v("Cerrar")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("detalle-items-facturados",{attrs:{items:t.itemsFacturados,capitado:t.capitado}}),t._v(" "),e("registro-glosa",{attrs:{facturaid:t.facturaid,capitado:t.capitado,servicios:t.itemsFacturados,glosas:t.glosas},on:{cancelar:t.cancelar,success:t.registraGlosas}})],1)],1)},i=[],o={render:s,staticRenderFns:i};a.a=o},2440:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{class:t.factura?"pa-0 ma-0":"",attrs:{fluid:"","grid-list-md":""}},[e("loading",{model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}}),t._v(" "),e("v-scroll-y-transition",{attrs:{group:""}},[t.factura&&t.factura.id&&t.items?[e("v-card",{key:"cardtop",staticClass:"elevation-1"},[e("v-container",{staticClass:"pa-2",attrs:{fluid:"","grid-list-sm":""}},[e("v-layout",{attrs:{"align-center":"","justify-space-between":"",row:"",wrap:"","fill-height":""}},[e("v-flex",{attrs:{md4:"",sm6:"",xs12:"","order-xs2":"","order-sm2":"","order-md1":""}},[e("v-toolbar",{staticClass:"toolbar-pa0 elevation-0",staticStyle:{background:"transparent !important"}},[e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",icon:"",large:""},on:{click:function(a){return t.getRegistro(t.factura.id)}},slot:"activator"},[e("v-icon",{attrs:{color:"primary",large:""}},[t._v("\n                        cached\n                      ")])],1),t._v(" "),e("span",[t._v("Recargar factura")])],1),t._v(" "),e("v-divider",{attrs:{vertical:""}}),t._v(" "),e("span",{staticClass:"pt-1 pl-2 text-xs-left"},[e("span",{staticClass:"title text-capitalize"},[t._v("\n                      Factura\n                      "),e("v-chip",{attrs:{label:"",color:"white","text-color":"red",dark:"",absolute:"",right:"",top:""}},[e("span",{staticClass:"subheading"},[t._v("N°")]),t._v(" \n                        "),e("span",{staticClass:"subheading",domProps:{textContent:t._s(t.factura.consecutivo)}})])],1),t._v(" "),e("p",{staticClass:"mb-0"},[t._v("Estado: "+t._s(t.factura.estado))]),t._v(" "),e("p",{staticClass:"mb-0"},[t._v("Modalidad: "+t._s(t.factura.modalidad))])])],1)],1),t._v(" "),t.factura.radicado?e("v-flex",{staticClass:"text-xs-center",attrs:{md4:"",sm12:"",xs12:"","order-xs1":"","order-sm1":"","order-md2":""}},[e("span",[t._v(t._s(t.factura.radicado.entidad.nombre))]),e("br"),t._v(" "),e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.factura.radicado.entidad.tercero?t.factura.radicado.entidad.tercero.identificacion_completa:""))]),t._v(" "),e("br"),t._v(" "),t.factura.radicado.contrato?e("span",{staticClass:"font-weight-bold"},[t._v("Plan Cobertura: "+t._s(t.factura.radicado.contrato.nombre))]):t._e()]):t._e(),t._v(" "),e("v-flex",{staticClass:"text-xs-right",attrs:{md4:"",sm6:"",xs12:"","order-xs3":"","order-sm3":"","order-md3":""}},[e("v-toolbar",{staticClass:"toolbar-pa0 elevation-0 py-1",staticStyle:{background:"transparent !important"}},[e("v-toolbar-title",{staticClass:"body-1 text-xs-right pr-2",staticStyle:{width:"100% !important"}},[e("span",[t._v("Compartido: "+t._s(t.currency(t.factura.valor_compartido)))]),e("br"),t._v(" "),e("span",[t._v("Comisión: "+t._s(t.currency(t.factura.valor_comision)))]),e("br"),t._v(" "),e("span",[t._v("Descuento: "+t._s(t.currency(t.factura.valor_descuentos)))]),e("br"),t._v(" "),e("span",[t._v("Neto: "+t._s(t.currency(t.factura.valor_neto)))])]),t._v(" "),e("v-spacer"),t._v(" "),e("v-divider",{attrs:{vertical:""}}),t._v(" "),e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",icon:"",large:""},on:{click:function(a){t.verBasica=!t.verBasica}},slot:"activator"},[e("v-icon",{attrs:{color:"primary",large:""}},[t._v("\n                        info\n                      ")])],1),t._v(" "),e("span",[t._v("Datos factura")])],1)],1)],1)],1)],1)],1),t._v(" "),e("v-layout",{key:"layout",attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-expand-transition",[t.factura?e("detalle-informacion-basica",{directives:[{name:"show",rawName:"v-show",value:t.verBasica,expression:"verBasica"}],model:{value:t.factura,callback:function(a){t.factura=a},expression:"factura"}}):t._e()],1),t._v(" "),e("v-card",[e("v-toolbar",{staticClass:"elevation-1 white",attrs:{dense:""}},[e("v-avatar",{attrs:{size:"36",color:"primary"}},[e("v-icon",{attrs:{dark:""}},[t._v("storage")])],1),t._v(" "),e("v-btn-toggle",{staticClass:"ml-1",model:{value:t.window,callback:function(a){t.window=a},expression:"window"}},[e("v-btn",{attrs:{flat:"",value:0}},[t._v("\n                    "+t._s(t.esCapita?"Servicios Contratados":"Items Facturados")+"\n                  ")]),t._v(" "),e("v-btn",{attrs:{flat:"",value:1}},[t._v("\n                    Detalle Glosas\n                  ")]),t._v(" "),t.esCapita?e("v-btn",{attrs:{flat:"",value:2}},[t._v("\n                    Items Facturados\n                  ")]):t._e()],1),t._v(" "),e("v-divider",{staticClass:"mr-2",attrs:{vertical:""}}),t._v(" "),1===t.window?[e("v-spacer")]:[e("v-spacer"),t._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"offset-md3",attrs:{sm4:""}},[e("v-select",{attrs:{label:"Estado",items:[{text:"Sin revisar",value:null},{text:"Glosado",value:0},{text:"Avalado",value:1}],multiple:""},model:{value:t.filterItemsEstado,callback:function(a){t.filterItemsEstado=a},expression:"filterItemsEstado"}})],1),t._v(" "),e("v-flex",{attrs:{sm5:""}},[e("v-text-field",{attrs:{label:"Buscar",clearable:"","hide-details":"","prepend-icon":"search"},model:{value:t.searchItemsFacturas,callback:function(a){t.searchItemsFacturas=a},expression:"searchItemsFacturas"}})],1)],1)]],2),t._v(" "),e("v-window",{staticClass:"mt-1",model:{value:t.window,callback:function(a){t.window=a},expression:"window"}},[e("v-window-item",[t.esCapita?e("v-data-table",{ref:"tablaServiciosContratados",attrs:{"select-all":!!t.auditando&&"accent","item-key":"id",headers:t.headersServiciosContratados,items:t.itemsFactura.filter(function(t){return"Capita"===t.tipo&&"subheader"!==t.flag}),pagination:t.pagination,"rows-per-page-items":[50,100,500,1e3,2e3,{text:"Todos",value:-1}]},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{attrs:{active:a.selected}},[t.auditando?e("td",{staticClass:"text-xs-center"},[e("v-checkbox",{attrs:{"input-value":a.selected,primary:"","hide-details":""},on:{change:function(t){a.selected=!a.selected}}})],1):t._e(),t._v(" "),e("td",{staticClass:"text-xs-center"},[t._v("\n                          "+t._s(a.index+1)+"\n                        ")]),t._v(" "),e("td",{staticClass:"px-1 pt-2 pb-0 text-xs-center",staticStyle:{height:"36px !important"}},[[a.item.recobro?e("detalle-opcion-registro-factura",{attrs:{data:!!a.item.recobro,"content-tooltip":"Recobro"+(a.item.recobro?":"+a.item.recobro:""),"content-avatar":"R"}}):t._e(),t._v(" "),a.item.altos_costos.length?e("detalle-opcion-registro-factura",{staticClass:"mr-1",attrs:{data:!!a.item.altos_costos.length,"content-tooltip":"Alto Costo"+(a.item.altos_costos.length?":"+a.item.altos_costos.map(function(t){return t.nombre}).join(", "):""),"content-avatar":"AC","content-badge":a.item.altos_costos.length}}):t._e(),t._v(" "),a.item.avalado?e("detalle-opcion-registro-factura",{attrs:{data:!!a.item.avalado,"content-tooltip":a.item.avalado?"Avalado":"Sin Avalar","content-avatar":"done_all","type-content-avatar":"icon","color-avatar":a.item.avalado&&"success darken-1"}}):t._e(),t._v(" "),a.item.glosas.length?e("detalle-opcion-registro-factura",{attrs:{data:!!a.item.glosas.length,"content-tooltip":"Glosas","content-avatar":"security","type-content-avatar":"icon","color-avatar":a.item.glosas.length&&"error darken-1"},on:{click:function(e){return t.revisarRegistro("Glosar",a.item)}}}):t._e()]],2),t._v(" "),e("td",{staticClass:"px-2 text-xs-center",staticStyle:{height:"0px !important"}},[e("v-badge",{attrs:{color:"red darken-3",overlap:""}},[null!==a.item.avalado&&!a.item.avalado||a.item.glosas.length?e("template",{slot:"badge"},[e("span",[t._v(t._s(a.item.glosas.length))])]):t._e(),t._v(" "),e("v-chip",{staticClass:"ma-0",attrs:{label:"",color:null!==a.item.avalado&&!a.item.avalado||a.item.glosas.length?"red":null===a.item.avalado?"orange":"success","text-color":"white",small:""}},[t._v("\n                              "+t._s(null!==a.item.avalado&&!a.item.avalado||a.item.glosas.length?"Glosado":null===a.item.avalado?"Sin revisar":"Avalado")+"\n                            ")])],2)],1),t._v(" "),e("td",{staticClass:"px-2",staticStyle:{height:"36px !important"}},[e("p",[e("strong",[t._v("Código: "+t._s(a.item.codigo)+" -- ")]),t._v(t._s(a.item.nombre))])]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"}},[t._v("\n                          "+t._s(t.currency(a.item.copago))+"\n                        ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"}},[t._v("\n                          "+t._s(t.currency(a.item.valor_total))+"\n                        ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"}},[t._v("\n                          "+t._s(t.currency(a.item.valor_glosado))+"\n                        ")])])]}}],null,!1,2613882331),model:{value:t.selecteds,callback:function(a){t.selecteds=a},expression:"selecteds"}},[t._v("\n                    disable-initial-sort\n                    >\n                    ")]):e("v-data-table",{ref:"tablaItemsFactura",attrs:{"select-all":!!t.auditando&&"accent",headers:t.headers,items:t.itemsFactura.filter(function(t){return"Capita"!==t.tipo}),pagination:t.pagination,"rows-per-page-items":[50,100,500,1e3,2e3,{text:"Todos",value:-1}]},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{attrs:{active:a.selected}},["subheader"===a.item.flag?[e("td",{staticClass:"font-weight-bold",staticStyle:{height:"30px !important"},attrs:{colspan:t.auditando?"8":"7"}},[t._v("\n                            "+t._s(a.item.nombre)+"\n                          ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right",staticStyle:{height:"30px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_total))+"\n                          ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right",staticStyle:{height:"30px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_glosado))+"\n                          ")])]:[t.auditando?e("td",{staticClass:"text-xs-center"},[e("v-checkbox",{attrs:{"input-value":a.selected,primary:"","hide-details":""},on:{change:function(t){a.selected=!a.selected}}})],1):t._e(),t._v(" "),e("td",{staticClass:"text-xs-center"},[t._v("\n                            "+t._s(a.item.indexItem)+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-1 pt-2 pb-0 text-xs-center",staticStyle:{height:"36px !important"}},[[a.item.recobro?e("detalle-opcion-registro-factura",{attrs:{data:!!a.item.recobro,"content-tooltip":"Recobro"+(a.item.recobro?":"+a.item.recobro:""),"content-avatar":"R"}}):t._e(),t._v(" "),a.item.altos_costos.length?e("detalle-opcion-registro-factura",{staticClass:"mr-1",attrs:{data:!!a.item.altos_costos.length,"content-tooltip":"Alto Costo"+(a.item.altos_costos.length?":"+a.item.altos_costos.map(function(t){return t.nombre}).join(", "):""),"content-avatar":"AC","content-badge":a.item.altos_costos.length}}):t._e(),t._v(" "),a.item.capita?e("detalle-opcion-registro-factura",{attrs:{data:!!a.item.capita,"content-tooltip":a.item.capita?"Capitado":"No Capitado","content-avatar":"C"}}):t._e(),t._v(" "),a.item.avalado?e("detalle-opcion-registro-factura",{attrs:{data:!!a.item.avalado,"content-tooltip":a.item.avalado?"Avalado":"Sin Avalar","content-avatar":"done_all","type-content-avatar":"icon","color-avatar":a.item.avalado&&"success darken-1"}}):t._e(),t._v(" "),a.item.glosas.length?e("detalle-opcion-registro-factura",{attrs:{data:!!a.item.glosas.length,"content-tooltip":"Glosas","content-avatar":"security","type-content-avatar":"icon","color-avatar":a.item.glosas.length&&"error darken-1"},on:{click:function(e){return t.revisarRegistro("Glosar",a.item)}}}):t._e()]],2),t._v(" "),e("td",{staticClass:"px-2 text-xs-center",staticStyle:{height:"0px !important"}},[e("v-badge",{attrs:{color:"red darken-3",overlap:""}},[null!==a.item.avalado&&!a.item.avalado||a.item.glosas.length?e("template",{slot:"badge"},[e("span",[t._v(t._s(a.item.glosas.length))])]):t._e(),t._v(" "),e("v-chip",{staticClass:"ma-0",attrs:{label:"",color:null!==a.item.avalado&&!a.item.avalado||a.item.glosas.length?"red":null===a.item.avalado?"orange":"success","text-color":"white",small:""}},[t._v("\n                                "+t._s(null!==a.item.avalado&&!a.item.avalado||a.item.glosas.length?"Glosado":null===a.item.avalado?"Sin revisar":"Avalado")+"\n                              ")])],2)],1),t._v(" "),e("td",{staticClass:"px-2",staticStyle:{height:"36px !important"}}),t._v(" "),e("td",{staticClass:"px-2",staticStyle:{height:"36px !important"}},[e("p",[e("strong",[t._v("Código: "+t._s(a.item.codigo)+" -- ")]),t._v(t._s(a.item.nombre)+" - "),e("strong",[t._v("Fecha: "+t._s(a.item.fecha_servicio))])])]),t._v(" "),e("td",{staticClass:"px-2 text-xs-center",staticStyle:{height:"36px !important"}},[t._v("\n                            "+t._s(a.item.cantidad)+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.copago))+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_total))+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_glosado))+"\n                          ")])]],2)]}},{key:"pageText",fn:function(a){return[e("span",[t._v(t._s(a.pageStart)+" - "+t._s(a.pageStop)+" de "+t._s(a.itemsLength))]),e("br"),t._v(" "),e("span",[t._v("Items de factura "+t._s(t.$refs&&t.$refs.tablaItemsFactura?t.$refs.tablaItemsFactura.filteredItems.filter(function(t){return"subheader"!==t.flag}).length:"0"))])]}}],null,!1,1008981837),model:{value:t.selecteds,callback:function(a){t.selecteds=a},expression:"selecteds"}},[t._v("\n                    disable-initial-sort\n                    >\n                    "),t._v(" "),e("template",{slot:"footer"},[e("tr",{staticStyle:{height:"10px !important"}},[e("td",{staticClass:"font-weight-bold text-xs-right py-0",staticStyle:{height:"30px !important"},attrs:{colspan:t.auditando?"9":"8"}},[t._v("\n                          Valor radicado:\n                        ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right py-0",staticStyle:{height:"30px !important"}},[t._v("\n                          "+t._s(t.currency(t.factura.valor_neto))+"\n                        ")])]),t._v(" "),e("tr",{staticStyle:{height:"10px !important"}},[e("td",{staticClass:"font-weight-bold text-xs-right py-0",staticStyle:{height:"30px !important"},attrs:{colspan:t.auditando?"9":"8"}},[t._v("\n                          Valor glosado:\n                        ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right py-0",staticStyle:{height:"30px !important"}},[t._v("\n                          "+t._s(t.currency(t.valorGlosado))+"\n                        ")])]),t._v(" "),e("tr",{staticStyle:{height:"10px !important"}},[e("td",{staticClass:"font-weight-bold text-xs-right py-0",staticStyle:{height:"30px !important"},attrs:{colspan:t.auditando?"9":"8"}},[t._v("\n                          Valor avalar:\n                        ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right py-0",staticStyle:{height:"30px !important"}},[t._v("\n                          "+t._s(t.currency(t.factura.valor_neto-t.valorGlosado))+"\n                        ")])])])],2)],1),t._v(" "),e("v-window-item",[e("v-data-table",{attrs:{"select-all":!!t.auditando&&"accent",headers:t.headersDetalleGlosas,items:t.itemsGlosas,pagination:t.paginationGlosas,"rows-per-page-text":"Registros por página","rows-per-page-items":[50,100,500,1e3,2e3,{text:"Todos",value:-1}]},on:{"update:pagination":function(a){t.paginationGlosas=a}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{attrs:{active:a.selected}},["subheader"===a.item.flag||"totales"===a.item.flag?[e("td",{staticClass:"font-weight-bold",class:"totales"===a.item.flag?"text-xs-right":"",staticStyle:{height:"30px !important"},attrs:{colspan:t.auditando?"3":"2"}},[t._v("\n                            "+t._s(a.item.codigo)+" - "+t._s(a.item.nombre)+" (Cantidad: "+t._s(a.item.cantidad)+") - Fecha: "+t._s(a.item.fecha_servicio)+"\n                          ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right",staticStyle:{height:"30px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_total))+"\n                          ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right",staticStyle:{height:"30px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_glosado))+"\n                          ")])]:[t.auditando?e("td",{staticClass:"text-xs-left"},[a.item.of_facservicio?e("span",{staticClass:"red--text"},[t._v("Glosa de factura")]):t.auditando?e("v-checkbox",{attrs:{"input-value":a.selected,primary:"","hide-details":""},on:{change:function(t){a.selected=!a.selected}}}):t._e()],1):t._e(),t._v(" "),e("td",{staticClass:"px-2",staticStyle:{height:"36px !important"}},[e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",icon:"",flat:"",color:"info"},slot:"activator"},[e("v-icon",[t._v("info")])],1),t._v(" "),e("span",[t._v(t._s(a.item.glosa.ayuda))])],1),t._v("\n                            "+t._s(a.item.glosa.glosa)+" - "+t._s(a.item.glosa.descripcion)+"\n                          ")],1),t._v(" "),e("td",{staticClass:"px-2 text-xs-center",staticStyle:{height:"36px !important"}},[t._v("\n                            "+t._s(a.item.tipo)+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"},attrs:{colspan:"2"}},[t._v("\n                            "+t._s((a.item.tipo,""))+" "+t._s(t.currency("Porcentaje"===a.item.tipo?a.item.valor_glosa&&a.item.valor_servicio?a.item.valor_glosa:0:a.item.valor_glosa))+"\n                            "),a.item.of_facservicio?t._e():e("v-icon",{attrs:{color:"success"}},[t._v("add")])],1)]],2)]}},{key:"pageText",fn:function(a){return[t._v("\n                      "+t._s(a.pageStart)+" - "+t._s(a.pageStop)+" de "+t._s(a.itemsLength)+"\n                    ")]}}],null,!1,3720192972),model:{value:t.selectedsDetalleGlosas,callback:function(a){t.selectedsDetalleGlosas=a},expression:"selectedsDetalleGlosas"}},[t._v("\n                    disable-initial-sort\n                    >\n                    ")])],1),t._v(" "),t.esCapita?e("v-window-item",[e("v-data-table",{ref:"tablaItemsServiciosDetalle",attrs:{headers:t.headersServiciosDetalle,items:t.itemsFactura.filter(function(t){return"Capita"!==t.tipo}),pagination:t.pagination,"rows-per-page-items":[50,100,500,1e3,2e3,{text:"Todos",value:-1}]},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{attrs:{active:a.selected}},["subheader"===a.item.flag?[e("td",{staticClass:"font-weight-bold",staticStyle:{height:"30px !important"},attrs:{colspan:"3"}},[t._v("\n                            "+t._s(a.item.nombre)+"\n                          ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-center",staticStyle:{height:"30px !important"}},[t._v("\n                            "+t._s(a.item.cantidad)+"\n                          ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-center",staticStyle:{height:"30px !important"}}),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right",staticStyle:{height:"30px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_total))+"\n                          ")])]:[e("td",{staticClass:"text-xs-center"},[t._v("\n                            "+t._s(a.item.indexItem)+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-2",staticStyle:{height:"36px !important"}}),t._v(" "),e("td",{staticClass:"px-2",staticStyle:{height:"36px !important"}},[e("p",[e("strong",[t._v("Código: "+t._s(a.item.codigo)+" -- ")]),t._v(t._s(a.item.nombre))])]),t._v(" "),e("td",{staticClass:"px-2 text-xs-center",staticStyle:{height:"36px !important"}},[t._v("\n                            "+t._s(a.item.cantidad)+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.copago))+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"36px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_total))+"\n                          ")])]],2)]}},{key:"pageText",fn:function(a){return[e("span",[t._v(t._s(a.pageStart)+" - "+t._s(a.pageStop)+" de "+t._s(a.itemsLength))]),e("br"),t._v(" "),e("span",[t._v("Items de factura "+t._s(t.$refs&&t.$refs.tablaItemsFactura?t.$refs.tablaItemsFactura.filteredItems.filter(function(t){return"subheader"!==t.flag}).length:"0"))])]}}],null,!1,3819043256)},[t._v("\n                    disable-initial-sort\n                    >\n                    ")])],1):t._e()],1),t._v(" "),t.esCapita?t._e():e("v-card",{staticClass:"mt-2"},[e("v-toolbar",{staticClass:"elevation-1 white",attrs:{dense:""}},[e("v-avatar",{attrs:{size:"36",color:"primary"}},[e("v-icon",{attrs:{dark:""}},[t._v("security")])],1),t._v(" "),e("v-list-tile",[e("v-list-tile-content",[e("v-list-tile-title",{staticClass:"subheading"},[t._v("Glosas de factura")])],1)],1),t._v(" "),e("v-spacer"),t._v(" "),t.auditando?e("v-tooltip",{attrs:{left:""}},[e("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.openGlosaFactura},slot:"activator"},[e("v-icon",{attrs:{color:"primary"}},[t._v("\n                        add\n                      ")])],1),t._v(" "),e("span",[t._v("agregar glosa de factura")])],1):t._e()],1),t._v(" "),e("v-container",{staticClass:"pa-2",attrs:{fluid:"","grid-list-md":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[t.factura&&t.factura.glosas&&!t.factura.glosas.length?e("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[e("div",{staticClass:"title grey--text text--lighten-1 font-weight-light pt-2"},[t._v("\n                        No se "+t._s(t.auditando?"han registrado":"registran")+" glosas de factua.\n                      ")])]):e("v-flex",{attrs:{xs12:""}},[e("v-data-table",{attrs:{headers:t.headersGlosasFactura,items:t.factura.glosas,"no-data-text":"No hay glosas registradas","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",{staticClass:"px-2 text-xs-center",staticStyle:{height:"0px !important"}},[e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",small:"",icon:"",disabled:!t.auditando},on:{click:function(e){!!t.auditando&&t.confirmaBorrado(a)}},slot:"activator"},[e("v-icon",{staticClass:"text--darken-2",attrs:{color:"red"}},[t._v("delete_forever")])],1),t._v(" "),e("span",[t._v("Borrar glosa")])],1)],1),t._v(" "),e("td",{staticClass:"px-2",staticStyle:{height:"0px !important"}},[e("span",{staticClass:"ma-0 body-1"},[t._v(t._s(a.item.glosa.glosa)+": "+t._s(a.item.glosa.descripcion))]),e("br"),t._v(" "),e("span",{staticClass:"ma-0 caption font-weight-bold"},[t._v("Tipo: "+t._s(a.item.glosa.tipo))])]),t._v(" "),e("td",{staticClass:"px-2 text-xs-right",staticStyle:{height:"0px !important"}},[t._v("\n                            "+t._s(t.currency(a.item.valor_glosa))+"\n                          ")]),t._v(" "),e("td",{staticClass:"px-2 text-xs-justify",staticStyle:{height:"0px !important"}},[t._v("\n                            "+t._s(a.item.observacion)+"\n                          ")])]}}],null,!1,2200269358)},[t._v(" "),e("template",{slot:"footer"},[e("td",{staticClass:"font-weight-bold text-xs-right",attrs:{colspan:"3"}},[t._v("\n                            Total Glosado\n                          ")]),t._v(" "),e("td",{staticClass:"font-weight-bold text-xs-right"},[t._v("\n                            "+t._s(t.currency(t.totalGlosadoFactura))+"\n                          ")])])],2)],1)],1)],1)],1),t._v(" "),t.auditando?e("v-card-actions",[e("v-spacer"),t._v(" "),t.itemsSinRevisar?e("v-chip",{attrs:{label:"",color:"orange","text-color":"white"}},[t._v("\n                  Hay registros por revisar\n                ")]):e("v-btn",{attrs:{color:"indigo"},on:{click:function(a){return a.stopPropagation(),t.confirmaAuditoria(a)}}},[e("span",{staticClass:"white--text"},[t._v("Confirmar Auditoría")])])],1):t._e()],1)],1)],1)]:t._e()],2),t._v(" "),e("confirmar",{attrs:{loading:t.dialogA.loading,value:t.dialogA.visible,content:t.dialogA.content,"requiere-motivo":!1},on:{cancelar:t.cancelaConfirmacion,aceptar:t.aceptaConfirmacion}}),t._v(" "),e("confirmar",{attrs:{loading:t.dialogB.loading,value:t.dialogB.visible,content:t.dialogB.content,"requiere-motivo":!1},on:{cancelar:t.cancelaConfirmacionB,aceptar:t.aceptaConfirmacionB}}),t._v(" "),e("glosas",{ref:"glosas",attrs:{auditando:t.auditando,facturaid:t.factura&&t.factura.id,capitado:t.esCapita,glosas:t.glosas_registro},model:{value:t.itemSeleccionado,callback:function(a){t.itemSeleccionado=a},expression:"itemSeleccionado"}}),t._v(" "),t.factura&&t.auditando&&!t.esCapita?e("registro-glosa-factura",{ref:"glosasFactura",attrs:{glosas:t.glosas_registro},on:{refreshFactura:function(a){return t.getRegistro(t.factura.id)}},model:{value:t.factura,callback:function(a){t.factura=a},expression:"factura"}}):t._e(),t._v(" "),t.auditando?e("v-bottom-nav",{attrs:{fixed:"",dark:"",mandatory:"",value:t.selecteds.length,color:"info"}},[e("v-list-tile",{staticClass:"white--text title"},[t._v("\n        Servicios Seleccionados: "),e("strong",[t._v(" "+t._s(t.selecteds.length))])]),t._v(" "),[e("v-divider",{attrs:{vertical:""}}),t._v(" "),e("select-recobro",{key:"crecobro",attrs:{items:t.selecteds.filter(function(t){return t.id})},on:{asignados:function(a){t.selecteds=[]}}}),t._v(" "),e("v-divider",{attrs:{vertical:""}}),t._v(" "),e("select-alto-costo",{key:"caltocostom",attrs:{items:t.selecteds.filter(function(t){return t.id})},on:{asignados:function(a){t.selecteds=[]}}}),t._v(" "),t.esCapita?t._e():[e("v-divider",{attrs:{vertical:""}}),t._v(" "),e("select-capita",{key:"ccapita",attrs:{items:t.selecteds.filter(function(t){return t.id})},on:{asignados:function(a){t.selecteds=[]}}})],t._v(" "),e("v-divider",{attrs:{vertical:""}}),t._v(" "),e("select-avala",{key:"cavala",attrs:{items:t.selecteds.filter(function(t){return t.id})},on:{asignados:function(a){t.selecteds=[]}}}),t._v(" "),e("v-divider",{attrs:{vertical:""}}),t._v(" "),e("registro-glosa-masivo",{key:"cglosas",attrs:{items:t.selecteds.filter(function(t){return t.id}),glosas:t.glosas_registro,capitado:t.esCapita,facturaid:t.factura&&t.factura.id},on:{cancelar:function(a){t.selecteds=[]},refreshFactura:function(a){return t.getRegistro(t.factura.id)}}})]],2):t._e()],1)},i=[],o={render:s,staticRenderFns:i};a.a=o},691:function(t,a,e){"use strict";function s(t){e(2396)}Object.defineProperty(a,"__esModule",{value:!0});var i=e(1275),o=e(2440),r=e(1),n=s,l=r(i.a,o.a,!1,n,"data-v-75ab4ffe",null);a.default=l.exports},857:function(t,a,e){t.exports={default:e(858),__esModule:!0}},858:function(t,a,e){e(859),t.exports=e(2).Object.entries},859:function(t,a,e){var s=e(9),i=e(256)(!0);s(s.S,"Object",{entries:function(t){return i(t)}})}});
//# sourceMappingURL=18.4de173bc1ac73b4a5404.js.map