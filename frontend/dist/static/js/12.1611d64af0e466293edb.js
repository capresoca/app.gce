webpackJsonp([12],{1151:function(t,e,o){"use strict";var a=o(13),r=o.n(a),s=o(14),i=o.n(s),n=o(7),l=o.n(n),c=o(58),u=o(12);e.a={name:"SubgruposInventario",components:{ToolbarList:function(){return new Promise(function(t){t()}).then(o.bind(null,247))},Loading:c.default},data:function(){return{subgrupos:[],subgrupo:{},dialog:!1,loading:!1,tableLoading:!1,loadingSubmit:!1,headers:[{text:"Codigo",align:"left",sortable:!1,value:"codigo"},{text:"Nombre",align:"left",sortable:!1,value:"nombre"},{text:"Opciones",align:"left",sortable:!1,actions:!0,classData:"justify-center layout px-0"}]}},mounted:function(){this.getData(),this.formReset()},computed:{modalTitulo:function(){return this.subgrupo.id?"Edición":"Nuevo subgrupo"},infoComponent:function(){return this.$store.getters.getInfoComponent("subgruposinventarios")}},methods:{getData:function(){var t=this;this.loading=!0,this.tableLoading=!0,this.axios.get("in_subgrupos").then(function(e){""!==e.data&&(t.subgrupos=e.data.data,t.loading=!1,t.tableLoading=!1)}).catch(function(e){t.loading=!1,t.tableLoading=!1,t.$store.commit(u.b,{msg:"Error al traer los datos."+e,color:"danger"}),console.log("error",e)})},formReset:function(){this.subgrupo={id:""}},edit:function(t){this.dialog=!0,this.subgrupo=JSON.parse(l()(t))},close:function(){this.dialog=!1,this.loadingSubmit=!1,this.formReset()},validador:function(t){return this.$validator.validateAll(t).then(function(t){return t})},save:function(){var t=this;return i()(r.a.mark(function e(){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.validador("form");case 2:if(!e.sent){e.next=8;break}t.loadingSubmit=!0,o=t.subgrupo.id?t.axios.put("in_subgrupos/"+t.subgrupo.id,t.subgrupo):t.axios.post("in_subgrupos",t.subgrupo),o.then(function(e){t.subgrupo.id?(t.$store.commit(u.b,{msg:"La contestación se actualizó correctamente",color:"success"}),t.subgrupos.splice(t.subgrupos.findIndex(function(t){return t.id===e.data.data.id}),1,e.data.data)):(t.$store.commit(u.b,{msg:"La contestación se creó correctamente",color:"success"}),t.subgrupos.splice(0,0,e.data.data)),t.close()}).catch(function(e){t.$store.commit(u.a,{msg:"Hay un error al guardar el registro. "+e,color:"danger"}),t.close()}),e.next=9;break;case 8:t.$store.commit(u.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 9:case"end":return e.stop()}},e,t)}))()}}}},2065:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-dialog",{attrs:{width:"720px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-form",{attrs:{"data-vv-scope":"form"}},[o("v-card",[o("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[o("span",{staticClass:"title"},[t._v(t._s(t.modalTitulo))])]),t._v(" "),o("v-container",{attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"codigo",attrs:{label:"Codigo",name:"Codigo","error-messages":t.errors.collect("codigo"),required:""},model:{value:t.subgrupo.codigo,callback:function(e){t.$set(t.subgrupo,"codigo",e)},expression:"subgrupo.codigo"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"nombre",attrs:{label:"Nombre",name:"Nombre","error-messages":t.errors.collect("nombre"),required:""},model:{value:t.subgrupo.nombre,callback:function(e){t.$set(t.subgrupo,"nombre",e)},expression:"subgrupo.nombre"}})],1)],1)],1),t._v(" "),o("v-card-actions",{staticClass:"grey lighten-4"},[o("v-spacer"),t._v(" "),o("v-btn",{on:{click:t.close}},[t._v("Cancelar")]),t._v(" "),o("v-btn",{attrs:{color:"primary",loading:t.loadingSubmit,disabled:t.errors.any()},on:{click:t.save}},[t._v("Guardar")])],1)],1)],1)],1),t._v(" "),o("v-card",[o("toolbar-list",{attrs:{info:t.infoComponent,title:"Subgrupos de inventarios",subtitle:"Registro y gestión",btnplus:"",btnplustitle:"Crear subgrupo",btnplustruncate:""},on:{click:function(e){t.dialog=!0}}}),t._v(" "),o("loading",{model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),t._v(" "),o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.subgrupos,loading:t.tableLoading,"rows-per-page-text":"Registros por página"},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.codigo))]),t._v(" "),o("td",[t._v(t._s(e.item.nombre))]),t._v(" "),o("td",[o("v-speed-dial",{attrs:{direction:"left","open-on-hover":"",transition:"slide-x-transition"},model:{value:e.item.show,callback:function(o){t.$set(e.item,"show",o)},expression:"props.item.show"}},[o("v-btn",{attrs:{slot:"activator",color:"blue darken-2",dark:"",fab:"",small:""},slot:"activator",model:{value:e.item.show,callback:function(o){t.$set(e.item,"show",o)},expression:"props.item.show"}},[o("v-icon",[t._v("chevron_left")]),t._v(" "),o("v-icon",[t._v("close")])],1),t._v(" "),o("v-tooltip",{attrs:{top:""}},[o("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(o){return t.edit(e.item)}},slot:"activator"},[o("v-icon",{attrs:{color:"accent"}},[t._v("mode_edit")])],1),t._v(" "),o("span",[t._v("Editar")])],1)],1)],1)]}}])},[t._v(" "),o("template",{slot:"no-data"},[t.tableLoading?o("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[t._v("\n          Estamos cargando los registros. "),o("v-icon",[t._v("sentiment_satisfied_alt")])],1):o("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          Lo sentimos, no tenemos registros para mostrar. "),o("v-icon",[t._v("sentiment_very_dissatisfied")])],1)],1)],2)],1)],1)},r=[],s={render:a,staticRenderFns:r};e.a=s},472:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(1151),r=o(2065),s=o(1),i=s(a.a,r.a,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=12.1611d64af0e466293edb.js.map