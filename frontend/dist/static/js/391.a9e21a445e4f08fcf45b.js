webpackJsonp([391],{1336:function(e,a,t){"use strict";a.a={name:"TbDependencia",data:function(){return{dialog:!1,dependencia:null,areas:[],dataTable:{nameItemState:"tableDependenciaTh",route:"talentohumano/dependencias",makeHeaders:[{text:"# Dependencia",align:"center",sortable:!1,value:"dependencia",classData:"text-xs-center"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Area",align:"left",sortable:!1,value:"area",component:{template:'\n              <span v-text="value.tbarea ? value.tbarea.descripcion : null"></span>\n            ',props:["value"]}},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]}}},watch:{dialog:function(e){!1===e?this.close():this.getComplementos()}},created:function(){this.formReset()},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("configbasicTHumano")},modalTitle:function(){return(null===this.dependencia.dependencia?"Nuevo ":"Edición de la ")+"Dependencia "+(null===this.dependencia.dependencia?"":this.dependencia.dependencia)}},methods:{getComplementos:function(){var e=this;this.axios.get("talentohumano/complementos").then(function(a){e.areas=a.data.data.areas}).catch(function(a){e.$store.commit("SNACK_ERROR_LIST",{expression:" al cargar los complementos.",error:a})})},formReset:function(){this.dependencia={dependencia:null,descripcion:null,area:null}},resetOptions:function(e){return e.options=[],e.options.push({event:"editar",color:"accent",icon:"fas fa-edit",tooltip:"Edición del registro"}),e.options.push({event:"eliminar",color:"red",icon:"fas fa-trash",tooltip:"Eliminar registro"}),e},editarItem:function(e){this.dependencia=this.clone(e),this.dialog=!this.dialog},close:function(){this.formReset(),this.$validator.reset(),this.dialog=!1},saveArea:function(){var e=this;this.$validator.validateAll().then(function(a){if(a){(e.dependencia.dependencia?e.axios.put("talentohumano/dependencias/"+e.dependencia.dependencia,e.dependencia):e.axios.post("talentohumano/dependencias",e.dependencia)).then(function(a){e.$store.commit("reloadTable","tableDependenciaTh"),e.$store.commit("SNACK_SHOW",{msg:"La dependencia "+a.data.msg,color:"success"}),e.close()}).catch(function(a){e.$store.commit("SNACK_ERROR_LIST",{expression:" al registrar la dependencia. ",error:a}),e.close()})}})},eliminarItem:function(e){var a=this;this.axios.delete("talentohumano/dependencias/"+e.area).then(function(e){a.$store.commit("reloadTable","tableDependenciaTh"),a.$store.commit("SNACK_SHOW",{msg:"La dependencia "+e.data.msg,color:"success"}),a.close()}).catch(function(e){a.$store.commit("SNACK_ERROR_LIST",{expression:" al eliminar la dependencia. ",error:e})})}}}},2592:function(e,a,t){"use strict";function n(e){t(2593)}Object.defineProperty(a,"__esModule",{value:!0});var i=t(1336),o=t(2595),r=t(1),s=n,c=r(i.a,o.a,!1,s,"data-v-6d6848cc",null);a.default=c.exports},2593:function(e,a,t){var n=t(2594);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t(456)("323445cc",n,!0,{})},2594:function(e,a,t){a=e.exports=t(455)(!0),a.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"TbDependencia.vue",sourceRoot:""}])},2595:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-card",[t("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("form",{ref:"form"},[t("v-card",[t("v-card-title",{staticClass:"grey lighten-3"},[t("span",{staticClass:"headline"},[e._v(e._s(e.modalTitle))])]),e._v(" "),t("v-divider"),e._v(" "),t("v-card-text",[t("v-container",{attrs:{"grid-list-md":""}},[t("v-layout",{attrs:{wrap:""}},[t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200",expression:"'required|max:200'"}],key:"descripción",attrs:{label:"Descripción",name:"descripción",required:"","error-messages":e.errors.collect("descripción")},model:{value:e.dependencia.descripcion,callback:function(a){e.$set(e.dependencia,"descripcion",a)},expression:"dependencia.descripcion"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.areas,"item-value":"area","item-text":"descripcion",name:"area",label:"Area","error-messages":e.errors.collect("area")},model:{value:e.dependencia.area,callback:function(a){e.$set(e.dependencia,"area",a)},expression:"dependencia.area"}})],1)],1)],1)],1),e._v(" "),t("v-divider"),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{flat:""},on:{click:e.close}},[e._v("Cancelar")]),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",flat:""},domProps:{textContent:e._s(e.dependencia.dependencia?"Actualizar":"Guardar")},on:{click:function(a){return a.preventDefault(),e.saveArea()}}})],1)],1)],1)]),e._v(" "),t("toolbar-list",{attrs:{info:e.infoComponent,title:"Dependencias",subtitle:"Mantenimiento",btnplus:"",btnplustitle:"Crear Dependencia",btnplustruncate:""},on:{click:function(a){e.dialog=!0}}}),e._v(" "),t("data-table-v2",{on:{resetOption:function(a){return e.resetOptions(a)},editar:function(a){return e.editarItem(a)},eliminar:function(a){return e.eliminarItem(a)}},model:{value:e.dataTable,callback:function(a){e.dataTable=a},expression:"dataTable"}})],1)},i=[],o={render:n,staticRenderFns:i};a.a=o}});
//# sourceMappingURL=391.a9e21a445e4f08fcf45b.js.map