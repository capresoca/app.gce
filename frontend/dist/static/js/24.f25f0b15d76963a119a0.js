webpackJsonp([24],{1467:function(e,r,t){var i=t(1468);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(456)("e0fac5ac",i,!0,{})},1468:function(e,r,t){r=e.exports=t(455)(!0),r.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroTercero.vue",sourceRoot:""}])},1469:function(e,r,t){"use strict";function i(e){t(1470)}var o=t(956),a=t(1472),n=t(1),s=i,c=n(o.a,a.a,!1,s,"data-v-4df608ae",null);r.a=c.exports},1470:function(e,r,t){var i=t(1471);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(456)("410ab6a7",i,!0,{})},1471:function(e,r,t){r=e.exports=t(455)(!0),r.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"FormTercero.vue",sourceRoot:""}])},1472:function(e,r,t){"use strict";var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-stepper",{model:{value:e.stepActual,callback:function(r){e.stepActual=r},expression:"stepActual"}},[t("v-stepper-header",[t("v-stepper-step",{attrs:{complete:e.stepActual>1,step:"1",editable:"",rules:[function(){return e.validStepBasicos}]}},[e._v("Datos Básicos "),e.validStepBasicos?e._e():t("small",[e._v("Hay datos por diligenciar.")])]),e._v(" "),t("v-divider"),e._v(" "),t("v-stepper-step",{attrs:{complete:e.stepActual>2,step:"2",editable:"",rules:[function(){return e.validStepComplementarios}]}},[e._v("Datos Complementarios "),e.validStepComplementarios?e._e():t("small",[e._v("Hay datos por diligenciar.")])]),e._v(" "),t("v-divider"),e._v(" "),t("v-stepper-step",{attrs:{step:"3",rules:[function(){return e.validStepFiscal}],editable:""}},[e._v("Información Fiscal "),e.validStepFiscal?e._e():t("small",[e._v("Hay datos por diligenciar.")])])],1),e._v(" "),t("v-stepper-items",[t("v-stepper-content",{attrs:{step:"1"}},[t("v-card",{staticClass:"mb-1"},[t("v-container",{attrs:{fluid:"","grid-list-lg":""}},[t("form-basicos",{ref:"fBasicos",attrs:{verified:e.estadoTercero},on:{errors:function(r){return e.validStepBasicos=r},verified:function(r){return e.estadoTercero=r},update:function(r){return e.complementar(r)}}})],1)],1)],1),e._v(" "),t("v-stepper-content",{attrs:{step:"2"}},[t("v-card",{staticClass:"mb-1"},[t("v-container",{attrs:{fluid:"","grid-list-lg":""}},[t("form-complementarios",{ref:"fComplementarios",attrs:{verified:e.estadoTercero},on:{errors:function(r){return e.validStepComplementarios=r}}})],1)],1)],1),e._v(" "),t("v-stepper-content",{attrs:{step:"3"}},[t("v-card",{staticClass:"mb-1"},[t("v-container",{attrs:{fluid:"","grid-list-lg":""}},[t("form-fiscal",{ref:"fFiscal",attrs:{verified:e.estadoTercero},on:{errors:function(r){return e.validStepFiscal=r}}})],1)],1)],1),e._v(" "),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"text-xs-center text-sm-left",attrs:{xs12:"",sm4:""}},[e.stepActual>1?t("v-tooltip",{attrs:{top:""}},[t("v-btn",{attrs:{slot:"activator",fab:"",small:"",color:"primary"},nativeOn:{click:function(r){e.stepActual--}},slot:"activator"},[t("v-icon",[e._v("arrow_back_ios")])],1),e._v(" "),t("span",[e._v("Anterior")])],1):e._e(),e._v(" "),e.stepActual<3?t("v-tooltip",{attrs:{top:""}},[t("v-btn",{attrs:{slot:"activator",fab:"",small:"",color:"primary"},nativeOn:{click:function(r){e.stepActual++}},slot:"activator"},[t("v-icon",[e._v("arrow_forward_ios")])],1),e._v(" "),t("span",[e._v("Siguiente")])],1):e._e()],1)],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};r.a=a},1473:function(e,r,t){"use strict";var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("v-toolbar",[t("v-icon",[e._v(e._s(e.tercero.id?"person":"person_add"))]),e._v(" "),t("v-toolbar-title",[e._v(e._s(e.tercero.id?"Edición de tercero":"Nuevo tercero"))])],1),e._v(" "),t("tercero",{ref:"cTercero",on:{update:function(r){return e.tercero=r}}}),e._v(" "),t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"text-xs-left",attrs:{xs6:""}},[t("v-btn",{attrs:{loading:e.loadingSubmit},on:{click:function(r){return e.refresh(null)}}},[e._v("Limpiar")])],1),e._v(" "),t("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[t("v-btn",{attrs:{color:"primary",loading:e.loadingSubmit},on:{click:e.submit}},[e._v("Guardar")])],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};r.a=a},481:function(e,r,t){"use strict";function i(e){t(1467)}Object.defineProperty(r,"__esModule",{value:!0});var o=t(955),a=t(1473),n=t(1),s=i,c=n(o.a,a.a,!1,s,"data-v-6c6236bc",null);r.default=c.exports},756:function(e,r,t){"use strict";var i=t(13),o=t.n(i),a=t(14),n=t.n(a),s=t(7),c=t.n(s),l=t(59),d=t(253);r.a={name:"FormBasicos",props:["manager","verified","edicionTotal"],inject:["$validator"],components:{InputDate:d.default,InputDetailFlex:function(){return new Promise(function(e){e()}).then(t.bind(null,250))}},data:function(){return{menuDatex:!1,tercero:{},maxDateI:this.moment().format("YYYY-MM-DD"),maxDate:this.moment().format("DD/MM/YYYY"),minDate:"01/01/1900",filterMunicipiosExpedicion:function(e,r){var t=function(e){return null!=e?e:""},i=t(e.nombre+" "+e.nombre_departamento),o=t(r);return i.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1},filterTiposIdentidad:function(e,r){var t=function(e){return null!=e?e:""},i=t(e.abreviatura+" "+e.nombre),o=t(r);return i.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1}}},watch:{verified:function(e){e||this.$validator.reset()},"tercero.id":function(e){e&&this.$emit("verified",!0)},"tercero.gn_tipdocidentidad_id":function(e){e&&(12===e?(this.tercero.nombre1="",this.tercero.nombre2="",this.tercero.apellido1="",this.tercero.apellido2=""):this.tercero.razon_social="")},"errors.items":function(e){this.$emit("errors",!(e.filter(function(e){return"formBasicos"===e.scope}).length>0))}},computed:{requiereNovedad:function(){return!1},complementos:function(){var e=JSON.parse(c()(l.b.getters.complementosTercerosFormBasicos));return"Afiliado"===this.manager&&e.tipdocidentidades&&(e.tipdocidentidades=e.tipdocidentidades.filter(function(e){return 12!==e.id})),e},tipo_identidad:function(){return!this.tercero||1!==this.tercero.gn_tipdocidentidad_id&&12!==this.tercero.gn_tipdocidentidad_id?"text":"number"},esEmpresa:function(){return 12===this.tercero.gn_tipdocidentidad_id},longitudDocumento:function(){var e=this;if(this.complementos.tipdocidentidades&&this.complementos.tipdocidentidades.length&&this.tercero.gn_tipdocidentidad_id)return this.complementos.tipdocidentidades.find(function(r){return r.id===e.tercero.gn_tipdocidentidad_id}).longitud}},methods:{verificaId:function(){var e=this;return n()(o.a.mark(function r(){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.tercero.identificacion){r.next=9;break}if(e.$validator.errors.items.find(function(e){return"Identificación"===e.field})){r.next=9;break}if("Afiliado"!==e.manager){r.next=7;break}return r.next=5,e.axios.get("afiliados?id="+e.tercero.id+"&identificacion="+e.tercero.identificacion).then(function(r){200===r.status&&r.data&&r.data.data&&r.data.data.length&&(e.tercero=r.data.data[0]),e.$emit("update",e.tercero),e.$emit("verified",!0)}).catch(function(r){var t=e.$validator.fields.items.find(function(e){return"Identificación"===e.name});e.$validator.errors.items.push({id:t.id,field:t.name,msg:"Error al intentar verificar la identificación: "+r,rule:"required",scope:t.scope})});case 5:r.next=9;break;case 7:return r.next=9,e.axios.post("exists-tercero",{id:e.tercero.id,identificacion:e.tercero.identificacion}).then(function(r){var t=!0;e.tercero.digito_verificacion=r.data.dv,r.data.exists&&(t=!0,e.tercero=r.data.tercero),t&&(e.$emit("update",e.tercero),e.$emit("verified",!0))}).catch(function(r){var t=e.$validator.fields.items.find(function(e){return"Identificación"===e.name});e.$validator.errors.items.push({id:t.id,field:t.name,msg:"Error al intentar verificar la identificación: "+r,rule:"required",scope:t.scope})});case 9:case"end":return r.stop()}},r,e)}))()},validate:function(){return this.$validator.validateAll("formBasicos").then(function(e){return e})},assign:function(e){this.tercero=e,this.$emit("verified",null!==this.tercero.id),this.$emit("update",this.tercero)}}}},757:function(e,r,t){"use strict";var i=t(59);r.a={name:"FormComplementarios",props:["manager","verified","edicionTotal"],data:function(){return{tercero:{},filterMunicipios:function(e,r){var t=function(e){return null!=e?e:""},i=t(e.nombre+" "+e.nombre_departamento),o=t(r);return i.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1},ciudadanias:["Nacional","Extranjero"]}},watch:{verified:function(e){e||this.$validator.reset()},"errors.items":function(e){this.$emit("errors",!(e.filter(function(e){return"formComplementarios"===e.scope}).length>0))}},computed:{requiereNovedad:function(){return this.tercero&&this.tercero.id&&"Afiliado"===this.manager&&11!==this.tercero.estado&&!this.edicionTotal},complementos2:function(){return i.b.getters.complementosFormAfiliados},complementosnomenclaturas:function(){return i.b.getters.complementosNomenclaturas},complementos:function(){return i.b.getters.complementosTercerosFormComplementarios}},methods:{validate:function(){return this.$validator.validateAll("formComplementarios").then(function(e){return e})},assign:function(e){this.tercero=e}},mounted:function(){this.$validator.extend("verify_direccion",{getMessage:function(e){return"El campo dirección no debe contener carácteres especiales."},validate:function(e){return new RegExp("^[a-zA-Z0-9_ ]*$").test(e)}})}}},775:function(e,r,t){"use strict";var i=t(7),o=t.n(i),a=t(59);r.a={name:"FormFiscal",props:["manager","verified"],data:function(){return{tercero:{},filterCiius:function(e,r){var t=function(e){return null!=e?e:""},i=t(e.codigo+" "+e.nombre),o=t(r);return i.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1}}},watch:{verified:function(e){e||this.$validator.reset()},"tercero.tipo_retencion":function(e){e&&"Autorretenedor"!==e&&(this.tercero.autorretenedor=[])},"tercero.ica":function(e){e||(this.tercero.porcentaje_ica=null,this.$validator.errors.items.splice(this.$validator.errors.items.indexOf(this.$validator.errors.items.find(function(e){return"Porcentaje ICA"===e.field})),1))},"tercero.tipo_contribuyente":function(e){if(e){var r=!1;"Régimen Simplificado"===e&&"Autorretenedor"===this.tercero.tipo_retencion&&(this.tercero.tipo_retencion="",this.tercero.autorretenedor=[],r=!0),this.complementos.tipos_retencion&&this.complementos.tipos_retencion.length>0&&(this.complementos.tipos_retencion.find(function(e){return"Autorretenedor"===e.value}).disabled=r)}},"errors.items":function(e){this.$emit("errors",!(e.filter(function(e){return"formFiscal"===e.scope}).length>0))}},computed:{complementos:function(){return JSON.parse(o()(a.b.getters.complementosTercerosFormFiscal))}},methods:{validate:function(){return this.$validator.validateAll("formFiscal").then(function(e){return e})},assign:function(e){this.tercero=e}}}},782:function(e,r,t){"use strict";function i(e){t(783)}var o=t(756),a=t(785),n=t(1),s=i,c=n(o.a,a.a,!1,s,"data-v-3bd0c2d7",null);r.a=c.exports},783:function(e,r,t){var i=t(784);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(456)("7eec8188",i,!0,{})},784:function(e,r,t){r=e.exports=t(455)(!0),r.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"FormBasicos.vue",sourceRoot:""}])},785:function(e,r,t){"use strict";var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-form",{attrs:{"data-vv-scope":"formBasicos"}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Tipo identificación",items:e.complementos.tipdocidentidades,"item-value":"id","item-text":"nombre",name:"gn_tipocidentidad_id","data-vv-as":"Tipo identificación",required:"","error-messages":e.errors.collect("gn_tipocidentidad_id"),disabled:e.verified&&(e.requiereNovedad||!e.tercero.id),filter:e.filterTiposIdentidad,"prepend-icon":"person_pin"},scopedSlots:e._u([{key:"item",fn:function(r){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:e._s(r.item.abreviatura)}}),e._v(" "),t("v-list-tile-sub-title",{domProps:{innerHTML:e._s(r.item.nombre)}})],1)]]}}]),model:{value:e.tercero.gn_tipdocidentidad_id,callback:function(r){e.$set(e.tercero,"gn_tipdocidentidad_id",r)},expression:"tercero.gn_tipdocidentidad_id"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[t("v-layout",{staticClass:"pt-2 px-2",attrs:{"align-center":""}},[t("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"tercero.identificacion",expression:"'tercero.identificacion'"},{name:"validate",rawName:"v-validate",value:"max:"+e.longitudDocumento+("text"===e.tipo_identidad?"|alpha_num":"|numeric")+"|required",expression:"'max:' + longitudDocumento + (tipo_identidad === 'text' ? '|alpha_num' : '|numeric') + '|required'"}],attrs:{label:"Identificación",name:"Identificación",required:"",type:e.tipo_identidad,"error-messages":e.errors.collect("Identificación"),disabled:(!e.tercero.gn_tipdocidentidad_id||e.verified)&&(e.requiereNovedad||!e.tercero.id),maxlength:e.longitudDocumento,counter:e.longitudDocumento,suffix:!e.tercero.digito_verificacion||null===e.tercero.digito_verificacion||12!==e.tercero.gn_tipdocidentidad_id&&1!==e.tercero.gn_tipdocidentidad_id?"":"DV","prepend-icon":"subtitles"},on:{keyup:function(r){if(!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter"))return null;e.tercero.gn_tipdocidentidad_id&&!e.verified&&e.verificaId()}},model:{value:e.tercero.identificacion,callback:function(r){e.$set(e.tercero,"identificacion",r)},expression:"tercero.identificacion"}},["Afiliado"===e.manager||null===e.tercero.digito_verificacion||12!==e.tercero.gn_tipdocidentidad_id&&1!==e.tercero.gn_tipdocidentidad_id?e._e():t("v-avatar",{attrs:{slot:"append",color:"primary",size:"26"},slot:"append"},[t("span",{staticClass:"white--text subheading"},[e._v(e._s(e.tercero.digito_verificacion))])])],1),e._v(" "),e.tercero.gn_tipdocidentidad_id?t("v-tooltip",{attrs:{top:""}},[t("v-btn",{attrs:{slot:"activator",disabled:e.verified||!e.tercero.identificacion,flat:"",icon:"",color:"accent"},on:{click:e.verificaId},slot:"activator"},[t("v-icon",[e._v(e._s(e.verified?"done_all":"done"))])],1),e._v(" "),t("span",[e._v(e._s(e.verified?"Identificación verificada":"Verificar identificación"))])],1):e._e()],1)],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},["Afiliado"!==e.manager?t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Municipio expedición",items:e.complementos.municipios,"item-value":"id","item-text":"nombre",name:"Municipio expedición",required:"","error-messages":e.errors.collect("Municipio expedición"),disabled:!e.verified,filter:e.filterMunicipiosExpedicion,"prepend-icon":"location_city"},scopedSlots:e._u([{key:"item",fn:function(r){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:e._s(r.item.nombre)}}),e._v(" "),t("v-list-tile-sub-title",{domProps:{innerHTML:e._s(r.item.nombre_departamento)}})],1)]]}}],null,!1,817490016),model:{value:e.tercero.gn_munexpedicion_id,callback:function(r){e.$set(e.tercero,"gn_munexpedicion_id",r)},expression:"tercero.gn_munexpedicion_id"}}):e._e(),e._v(" "),"Afiliado"===e.manager?[t("input-date",{directives:[{name:"validate",rawName:"v-validate",value:"required|fechaValida:DD/MM/YYYY|date_format:DD/MM/YYYY"+(e.verified?"|date_between:"+e.minDate+","+e.maxDate+",true":""),expression:"'required|fechaValida:DD/MM/YYYY|date_format:DD/MM/YYYY' + (!verified ? '' : '|date_between:' + minDate + ',' + maxDate + ',true')"}],attrs:{label:"Fecha expedicion (Día/Mes/Año)",format:"DD/MM/YYYY",name:"Fecha expedición",max:e.maxDateI,"error-messages":e.errors.collect("Fecha expedición"),disabled:!e.verified},model:{value:e.tercero.fecha_expedicion,callback:function(r){e.$set(e.tercero,"fecha_expedicion",r)},expression:"tercero.fecha_expedicion"}})]:e._e()],2)],1),e._v(" "),t("v-layout",{attrs:{row:"",wrap:""}},[e.esEmpresa?t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"tercero.razon_social",expression:"'tercero.razon_social'"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"Razón social",attrs:{label:"Razón social",name:"Razón social",required:"","error-messages":e.errors.collect("Razón social"),disabled:!e.verified||e.requiereNovedad,"prepend-icon":"assignment"},model:{value:e.tercero.razon_social,callback:function(r){e.$set(e.tercero,"razon_social",r)},expression:"tercero.razon_social"}})],1):[t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"tercero.apellido1",expression:"'tercero.apellido1'"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Primer apellido",name:"Primer apellido",required:"","error-messages":e.errors.collect("Primer apellido"),disabled:!e.verified||e.requiereNovedad,"prepend-icon":"person"},model:{value:e.tercero.apellido1,callback:function(r){e.$set(e.tercero,"apellido1",r)},expression:"tercero.apellido1"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"tercero.apellido2",expression:"'tercero.apellido2'"}],attrs:{label:"Segundo apellido",disabled:!e.verified||e.requiereNovedad,"prepend-icon":"person"},model:{value:e.tercero.apellido2,callback:function(r){e.$set(e.tercero,"apellido2",r)},expression:"tercero.apellido2"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"tercero.nombre1",expression:"'tercero.nombre1'"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Primer nombre",name:"Primer nombre",required:"","error-messages":e.errors.collect("Primer nombre"),disabled:!e.verified||e.requiereNovedad,"prepend-icon":"person"},model:{value:e.tercero.nombre1,callback:function(r){e.$set(e.tercero,"nombre1",r)},expression:"tercero.nombre1"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"tercero.nombre2",expression:"'tercero.nombre2'"}],attrs:{label:"Segundo nombre",disabled:!e.verified||e.requiereNovedad,"prepend-icon":"person"},model:{value:e.tercero.nombre2,callback:function(r){e.$set(e.tercero,"nombre2",r)},expression:"tercero.nombre2"}})],1)]],2)],1)},o=[],a={render:i,staticRenderFns:o};r.a=a},786:function(e,r,t){"use strict";function i(e){t(787)}var o=t(757),a=t(789),n=t(1),s=i,c=n(o.a,a.a,!1,s,"data-v-f4efcafe",null);r.a=c.exports},787:function(e,r,t){var i=t(788);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(456)("dcc7709a",i,!0,{})},788:function(e,r,t){r=e.exports=t(455)(!0),r.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"FormComplementarios.vue",sourceRoot:""}])},789:function(e,r,t){"use strict";var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-form",{attrs:{"data-vv-scope":"formComplementarios"}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"tercero.telefono_fijo",expression:"'tercero.telefono_fijo'"},{name:"number",rawName:"v-number",value:"tercero.telefono_fijo",expression:"'tercero.telefono_fijo'"},{name:"validate",rawName:"v-validate",value:"numeric|max:10",expression:"'numeric|max:10'"}],attrs:{label:"Teléfono fijo",name:"Telefono fijo","data-vv-validate-on":"input|change|custom|focus|blur","error-messages":e.errors.collect("Telefono fijo"),disabled:!e.verified,"prepend-icon":"local_phone"},model:{value:e.tercero.telefono_fijo,callback:function(r){e.$set(e.tercero,"telefono_fijo",r)},expression:"tercero.telefono_fijo"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"number",rawName:"v-number",value:"tercero.celular",expression:"'tercero.celular'"},{name:"validate",rawName:"v-validate",value:"numeric|max:10|required",expression:"'numeric|max:10|required'"}],attrs:{label:"Celular",name:"Celular","data-vv-validate-on":"input|change|custom|focus|blur","error-messages":e.errors.collect("Celular"),disabled:!e.verified,"prepend-icon":"phone_android"},model:{value:e.tercero.celular,callback:function(r){e.$set(e.tercero,"celular",r)},expression:"tercero.celular"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",md6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],attrs:{label:"Correo electrónico",name:"Correo electrónico","data-vv-validate-on":"input|change|custom|blur","error-messages":e.errors.collect("Correo electrónico"),disabled:!e.verified,"prepend-icon":"email"},model:{value:e.tercero.correo_electronico,callback:function(r){e.$set(e.tercero,"correo_electronico",r)},expression:"tercero.correo_electronico"}})],1),e._v(" "),"Afiliado"!==e.manager?t("v-flex",{attrs:{xs12:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Ciudadanía",items:e.ciudadanias,name:"ciudadanía",required:"","error-messages":e.errors.collect("ciudadanía"),disabled:!e.verified||e.requiereNovedad,"prepend-icon":"assignment_ind"},model:{value:e.tercero.ciudadania,callback:function(r){e.$set(e.tercero,"ciudadania",r)},expression:"tercero.ciudadania"}})],1):e._e(),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Municipio residencia",items:e.complementos.municipios,"item-value":"id","item-text":"nombre",name:"Municipio residencia",required:"","error-messages":e.errors.collect("Municipio residencia"),disabled:!e.verified||e.requiereNovedad,filter:e.filterMunicipios,"prepend-icon":"location_city"},scopedSlots:e._u([{key:"item",fn:function(r){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:e._s(r.item.nombre)}}),e._v(" "),t("v-list-tile-sub-title",{domProps:{innerHTML:e._s(r.item.nombre_departamento)}})],1)]]}}]),model:{value:e.tercero.gn_municipio_id,callback:function(r){e.$set(e.tercero,"gn_municipio_id",r)},expression:"tercero.gn_municipio_id"}})],1),e._v(" "),"Afiliado"===e.manager?t("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[t("v-select",{attrs:{label:"Zona",items:e.complementos2.zonas,"item-value":"id","item-text":"nombre",name:"Zona","error-messages":e.errors.collect("Zona"),disabled:!e.verified||!e.tercero.gn_municipio_id||e.requiereNovedad},model:{value:e.tercero.gn_zona_id,callback:function(r){e.$set(e.tercero,"gn_zona_id",r)},expression:"tercero.gn_zona_id"}})],1):e._e(),e._v(" "),"Afiliado"===e.manager?t("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[t("v-select",{attrs:{label:"Nomenclaturas",items:1==e.tercero.gn_zona_id?e.complementos.nomenclaturasUrbano:e.complementos.nomenclaturasRural,"item-value":"nomenclatura","item-text":"abreviatura",name:"nomenclatura","error-messages":e.errors.collect("nomenclatura"),disabled:!e.verified||!e.tercero.gn_zona_id||e.requiereNovedad},model:{value:e.tercero.nomenclatura,callback:function(r){e.$set(e.tercero,"nomenclatura",r)},expression:"tercero.nomenclatura"}})],1):e._e(),e._v(" "),t("v-flex",{attrs:{xs12:"",md4:""}},[t("v-text-field",{directives:[{name:"upper",rawName:"v-upper",value:"tercero.direccion",expression:"'tercero.direccion'"},{name:"validate",rawName:"v-validate",value:"required|verify_direccion",expression:"'required|verify_direccion'"}],attrs:{label:"Dirección",name:"Dirección",required:"","error-messages":e.errors.collect("Dirección"),disabled:!e.verified,"prepend-icon":"home"},model:{value:e.tercero.direccion,callback:function(r){e.$set(e.tercero,"direccion",r)},expression:"tercero.direccion"}})],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};r.a=a},825:function(e,r,t){"use strict";function i(e){t(826)}var o=t(775),a=t(828),n=t(1),s=i,c=n(o.a,a.a,!1,s,"data-v-96c2624e",null);r.a=c.exports},826:function(e,r,t){var i=t(827);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(456)("e2c397a8",i,!0,{})},827:function(e,r,t){r=e.exports=t(455)(!0),r.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"FormFiscal.vue",sourceRoot:""}])},828:function(e,r,t){"use strict";var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-form",{attrs:{"data-vv-scope":"formFiscal"}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Tipo persona",items:e.complementos.tipos_persona,name:"Tipo persona",required:"","error-messages":e.errors.collect("Tipo persona"),disabled:!e.verified,"prepend-icon":"people"},model:{value:e.tercero.tipo_persona,callback:function(r){e.$set(e.tercero,"tipo_persona",r)},expression:"tercero.tipo_persona"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Tipo contribuyente",items:e.complementos.tipos_contribuyente,name:"Tipo contribuyente",required:"","error-messages":e.errors.collect("Tipo contribuyente"),disabled:!e.verified,"prepend-icon":"transfer_within_a_station"},model:{value:e.tercero.tipo_contribuyente,callback:function(r){e.$set(e.tercero,"tipo_contribuyente",r)},expression:"tercero.tipo_contribuyente"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Tipo retención",items:e.complementos.tipos_retencion,"item-value":"value","item-text":"value",name:"Tipo retención",required:"","error-messages":e.errors.collect("Tipo retención"),disabled:!e.verified,"prepend-icon":"assignment"},model:{value:e.tercero.tipo_retencion,callback:function(r){e.$set(e.tercero,"tipo_retencion",r)},expression:"tercero.tipo_retencion"}})],1),e._v(" "),"Autorretenedor"===e.tercero.tipo_retencion?t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Autorretenedor",items:e.complementos.autorretenedores,name:"Autorretenedor",required:"","error-messages":e.errors.collect("Autorretenedor"),disabled:!e.verified,multiple:""},model:{value:e.tercero.autorretenedor,callback:function(r){e.$set(e.tercero,"autorretenedor",r)},expression:"tercero.autorretenedor"}})],1):e._e(),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Actividad económica",items:e.complementos.ciius,"item-value":"id","item-text":"nombre",name:"Actividad económica",required:"","error-messages":e.errors.collect("Actividad económica"),disabled:!e.verified,filter:e.filterCiius,"prepend-icon":"monetization_on"},scopedSlots:e._u([{key:"item",fn:function(r){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:e._s(r.item.codigo)}}),e._v(" "),t("v-list-tile-sub-title",{domProps:{innerHTML:e._s(r.item.nombre)}})],1)]]}}]),model:{value:e.tercero.nf_ciiu_id,callback:function(r){e.$set(e.tercero,"nf_ciiu_id",r)},expression:"tercero.nf_ciiu_id"}})],1),e._v(" "),e.manager?e._e():t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"v-chips",attrs:{color:"accent",items:e.complementos.tiposterceros,"item-text":"nombre","item-value":"id",label:"Tipo Tercero",chips:"",multiple:"","deletable-chips":"","small-chips":"",name:"Tipo Tercero","error-messages":e.errors.collect("Tipo Tercero"),disabled:!e.verified,"prepend-icon":"group_add"},model:{value:e.tercero.tipo_tercero,callback:function(r){e.$set(e.tercero,"tipo_tercero",r)},expression:"tercero.tipo_tercero"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[t("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs1:""}},[t("v-tooltip",{attrs:{top:""}},[t("v-checkbox",{attrs:{slot:"activator",color:"primary","hide-details":"",disabled:!e.verified},slot:"activator",model:{value:e.tercero.ica,callback:function(r){e.$set(e.tercero,"ica",r)},expression:"tercero.ica"}}),e._v(" "),t("span",{domProps:{textContent:e._s(e.tercero.ica?"Desmarcar":"¿Presentá ICA?")}})],1)],1),e._v(" "),t("v-flex",{attrs:{xs11:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:4|max_value:100|min_value:0",expression:"'required|decimal:4|max_value:100|min_value:0'"}],attrs:{label:"% ICA",name:"Porcentaje ICA","error-messages":e.errors.collect("Porcentaje ICA"),disabled:!e.tercero.ica||!e.verified},model:{value:e.tercero.porcentaje_ica,callback:function(r){e.$set(e.tercero,"porcentaje_ica",r)},expression:"tercero.porcentaje_ica"}})],1)],1)],1)],1),e._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-checkbox",{attrs:{label:"Agente declarante",disabled:!e.verified,color:"primary"},model:{value:e.tercero.agente_declarante,callback:function(r){e.$set(e.tercero,"agente_declarante",r)},expression:"tercero.agente_declarante"}})],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};r.a=a},955:function(e,r,t){"use strict";var i=t(13),o=t.n(i),a=t(14),n=t.n(a),s=t(1469),c=t(12),l=t(40),d=t(248);r.a={name:"RegistroTercero",props:["parametros"],inject:{$validator:"$validator"},components:{Tercero:s.a},data:function(){return{tercero:{},loadingSubmit:!1}},mounted:function(){this.refresh(),null!==this.parametros.entidad&&this.getRegistro(this.parametros.entidad.id)},methods:{refresh:function(){this.$refs.cTercero.stepActual=1,this.$refs.cTercero.assign(this.$store.getters.newTercero),this.$validator.reset()},getRegistro:function(e){var r=this;this.axios.get("terceros/"+e).then(function(e){""!==e.data&&r.$refs.cTercero.assign(e.data.data)}).catch(function(e){r.$store.commit(c.a,{expression:" al traer el tercero. ",error:e})})},submit:function(){var e=this;return n()(o.a.mark(function r(){var t;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$refs.cTercero.validate();case 2:if(!r.sent){r.next=6;break}e.loadingSubmit=!0,t=e.tercero.id?"editar":"crear",e.axios.post("terceros",e.tercero).then(function(r){e.$store.commit(c.b,{msg:r.data.message,color:"success"}),e.$store.commit(d._21,{item:r.data.tercero,estado:t,key:e.parametros.key}),e.$store.dispatch(l.c,{contexto:e,itemId:e.parametros.tabOrigin})}).catch(function(r){e.loadingSubmit=!1,e.$store.commit(c.a,{expression:" al guardar el registro. ",error:r})});case 6:case"end":return r.stop()}},r,e)}))()}}}},956:function(e,r,t){"use strict";var i=t(7),o=t.n(i),a=t(13),n=t.n(a),s=t(14),c=t.n(s),l=t(782),d=t(786),u=t(825);r.a={name:"FormTercero",inject:{$validator:"$validator"},components:{formBasicos:l.a,formComplementarios:d.a,formFiscal:u.a},data:function(){return{validStepBasicos:!0,validStepComplementarios:!0,validStepFiscal:!0,tercero:{},estadoTercero:!1,stepActual:1}},methods:{complementar:function(e){this.tercero=e,this.$refs.fComplementarios.assign(this.tercero),this.$refs.fFiscal.assign(this.tercero),this.$emit("update",this.tercero)},validate:function(){var e=this;return c()(n.a.mark(function r(){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$refs.fBasicos.validate();case 2:if(!r.sent){r.next=20;break}return r.next=5,e.$refs.fComplementarios.validate();case 5:if(!r.sent){r.next=16;break}return r.next=8,e.$refs.fFiscal.validate();case 8:if(!r.sent){r.next=12;break}return r.abrupt("return",!0);case 12:return e.stepActual=3,r.abrupt("return",!1);case 14:r.next=18;break;case 16:return e.stepActual=2,r.abrupt("return",!1);case 18:r.next=22;break;case 20:return e.stepActual=1,r.abrupt("return",!1);case 22:case"end":return r.stop()}},r,e)}))()},assign:function(e){this.$refs.fBasicos.assign(JSON.parse(o()(e)))}}}}});
//# sourceMappingURL=24.f25f0b15d76963a119a0.js.map