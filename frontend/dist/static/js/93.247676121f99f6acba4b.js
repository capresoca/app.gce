webpackJsonp([93],{1228:function(t,e,n){"use strict";var o=n(13),i=n.n(o),a=n(14),r=n.n(a),l=n(7),s=n.n(l),c=n(12);e.a={name:"PlanesCobertura",components:{DataTable:function(){return new Promise(function(t){t()}).then(n.bind(null,60))},ToolbarList:function(){return new Promise(function(t){t()}).then(n.bind(null,247))},Confirmar:function(){return n.e(289).then(n.bind(null,749))}},data:function(){return{dialogA:{loading:!1,visible:!1,content:null,registro:null},dataTable:{nameItemState:"itemPlanCobertura",route:"contratos",makeHeaders:[{text:"Entidad",align:"left",sortable:!1,value:"value.contrato.entidad.nombre",component:{component:{template:'\n                    <v-list-tile>\n                      <v-list-tile-content>\n                        <v-list-tile-title>{{value.contrato.entidad.nombre}}</v-list-tile-title>\n                        <v-list-tile-title class="caption grey--text">Contrato: {{value.contrato.numero_contrato}}</v-list-tile-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  ',props:["value"]}}},{text:"Nombre Plan",align:"left",sortable:!1,value:"nombre"},{text:"Régimen atendido",align:"left",sortable:!1,classData:"text-xs-left",component:{component:{template:"\n                    <v-list-tile>\n                      <v-list-tile-content>\n                        <v-list-tile-title>{{value.regimen_atendido === 1 ? 'Contributivo' : 'Subsidiado' }}</v-list-tile-title>\n                        <v-list-tile-title class=\"caption grey--text\">Portabilidad: {{value.portabilidad ? 'SI' : 'NO'}}</v-list-tile-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  ",props:["value"]}}},{text:"Estado",align:"center",sortable:!0,value:"estado",classData:"text-xs-center"},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]}}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("planesCobertura")}},methods:{eliminar:function(t){this.dialogA.registro=JSON.parse(s()(t)),this.dialogA.content="<strong>El contrato "+this.dialogA.registro.numero_contrato+" con la entidad "+this.dialogA.registro.entidad+" será eliminado.</strong><br/> ¿Está seguro de eliminar el contrato?",this.dialogA.visible=!0},cancelaConfirmacion:function(){this.dialogA.loading=!1,this.dialogA.visible=!1,this.dialogA.content=null,this.dialogA.registro=null},aceptaConfirmacion:function(){var t=this;return r()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dialogA.loading=!0,t.axios.delete("contratos/"+t.dialogA.registro.id).then(function(){t.cancelaConfirmacion(),t.$store.commit(c.b,{msg:"El contrato se ha eliminado correctamente.",color:"success"}),t.$refs.tablaPPlanesCobertura.reloadPage()}).catch(function(e){t.dialogA.loading=!1,t.$store.commit(c.a,{expression:" al realizar la eliminación del contrato. ",error:e})});case 2:case"end":return e.stop()}},e,t)}))()},resetOptions:function(t){return t.options=[],this.infoComponent&&this.infoComponent.permisos.agregar&&t.options.push({event:"editar",icon:"build",tooltip:"Gestionar",color:"primary"}),this.infoComponent&&this.infoComponent.permisos.anular&&"Registrado"===t.estado&&t.options.push({event:"eliminar",icon:"delete_forever",tooltip:"Eliminar",color:"error"}),t}}}},2233:function(t,e,n){var o=n(2234);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(456)("2952923d",o,!0,{})},2234:function(t,e,n){e=t.exports=n(455)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"PlanesCobertura.vue",sourceRoot:""}])},2235:function(t,e,n){"use strict";var o=function(){var t=this,e=this,n=e.$createElement,o=e._self._c||n;return o("v-card",[o("toolbar-list",{attrs:{info:e.infoComponent,title:"Planes de Cobertura",subtitle:"Registro y gestión",btnplus:"",btnplustitle:"Crear plan de cobertura"}}),e._v(" "),o("data-table",{ref:"tablaPPlanesCobertura",on:{resetOption:function(t){return e.resetOptions(t)},eliminar:function(t){return e.eliminar(t)},editar:function(n){return e.$store.commit("NAV_ADD_ITEM",{ruta:t.infoComponent.ruta_registro,titulo:t.infoComponent.titulo_registro,parametros:{entidad:n,tabOrigin:e.$store.state.nav.currentItem.split("tab-")[1]}})}},model:{value:e.dataTable,callback:function(t){e.dataTable=t},expression:"dataTable"}}),e._v(" "),o("confirmar",{attrs:{loading:e.dialogA.loading,value:e.dialogA.visible,content:e.dialogA.content,"requiere-motivo":!1},on:{cancelar:e.cancelaConfirmacion,aceptar:e.aceptaConfirmacion}})],1)},i=[],a={render:o,staticRenderFns:i};e.a=a},673:function(t,e,n){"use strict";function o(t){n(2233)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1228),a=n(2235),r=n(1),l=o,s=r(i.a,a.a,!1,l,"data-v-3c9939fa",null);e.default=s.exports}});
//# sourceMappingURL=93.247676121f99f6acba4b.js.map