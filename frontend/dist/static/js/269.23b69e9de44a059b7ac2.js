webpackJsonp([269],{1100:function(o,e,a){"use strict";var t=a(13),r=a.n(t),i=a(14),n=a.n(i),d=a(40),s=a(248),c=a(12);e.a={name:"RegistroAbogado",props:["parametros"],data:function(){return{dialogSave:!1,dialogCodigo:!1,buscandoCodigo:!1,ordenEdit:!1,param:{},abogado:{id:null,tercero:{nombre_completo:"",identificacion_completa:""}}}},components:{Postulador:function(){return a.e(287).then(a.bind(null,747))}},watch:{},methods:{validador:function(o){return this.$validator.validateAll(o).then(function(o){return o})},abogadoByCod:function(){var o=this;return n()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.abogado.codigo&&(o.buscandoCodigo=!0,o.axios.get("ce_abogado/codigo/"+o.abogado.codigo).then(function(e){e.data.exists&&(o.abogado=e.data.abogado,o.dialogCodigo=!0),o.buscandoCodigo=!1}).catch(function(e){o.$store.commit(c.a,{expression:" Al intentar consultar codigo. ",error:e})}));case 1:case"end":return e.stop()}},e,o)}))()},submit:function(){var o=this;return n()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.validador("formAbogado");case 2:if(!e.sent){e.next=6;break}o.abogado.id?o.axios.put("ce_abogado/"+o.abogado.id,o.abogado).then(function(e){o.$store.commit(c.b,{msg:e.data.message,color:"success"}),o.$store.dispatch(d.c,{contexto:o,itemId:o.parametros.tabOrigin}),o.$store.commit(s.a,{item:e.data.data,estado:"editar",key:o.parametros.key})}).catch(function(e){o.$store.commit(c.b,{msg:"Hay un error al guardar el registro. "+e.response,color:"danger"})}):o.axios.post("ce_abogado",o.abogado).then(function(e){o.$store.commit(c.b,{msg:"El Abogado se creo correctamente",color:"success"}),o.$store.dispatch(d.c,{contexto:o,itemId:o.parametros.tabOrigin}),o.$store.commit(s.a,{item:e.data.data,estado:"crear",key:o.parametros.key})}).catch(function(e){o.$store.commit(c.b,{msg:"Hay un error al guardar el registro. "+e.response,color:"danger"})}),e.next=7;break;case 6:o.$store.commit(c.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 7:case"end":return e.stop()}},e,o)}))()},getRegistro:function(o){var e=this;this.axios.get("ce_abogado/"+o).then(function(o){o.data.exists&&e.edit(o.data.data)}).catch(function(o){e.$store.commit(c.a,{expression:" al traer el Abogado. ",error:o})})},edit:function(o){this.ordenEdit=!0,this.abogado=o},editarByCodigo:function(){this.dialogCodigo=!1,this.ordenEdit=!0},cerrarByCodigo:function(){this.formReset(),this.dialogCodigo=!1,this.ordenEdit=!1},formReset:function(){this.dialogCodigo=!1,this.ordenEdit=!1,this.abogado={}},terceroSeleccionado:function(o){null==this.abogado.id&&null!=o&&(this.abogado.tercero=o,this.abogado.gn_tercero_id=o.id,this.abogado.nombre=o.razon_social)}},mounted:function(){null!==this.parametros.entidad&&this.getRegistro(this.parametros.entidad.id),this.$validator.localize("es")}}},1908:function(o,e,a){"use strict";var t=function(){var o=this,e=o.$createElement,a=o._self._c||e;return a("div",[a("v-card",[o.ordenEdit?a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[o._v("\n      Editar Abogado\n    ")]):a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[o._v("\n      Registrar Abogado\n    ")]),o._v(" "),a("v-card-text",[a("v-form",{attrs:{"data-vv-scope":"formAbogado"}},[a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md2:"",lg2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:16",expression:"'required|max:16'"}],key:"codigo",attrs:{label:"Codigo",name:"codigo","error-messages":o.errors.collect("codigo"),disabled:o.ordenEdit,hint:o.buscandoCodigo?"Estamos buscando el codigo":"","persistent-hint":"",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&o._k(e.keyCode,"enter",13,e.key,"Enter")?null:o.abogadoByCod(e)},blur:o.abogadoByCod},model:{value:o.abogado.codigo,callback:function(e){o.$set(o.abogado,"codigo",e)},expression:"abogado.codigo"}})],1),o._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md10:"",lg10:""}},[a("postulador",{ref:"postuladorTercero",attrs:{nodata:"Busqueda por identificacion o nombre",required:"",hint:"nombre_completo",itemtext:"identificacion_completa",datatitle:"identificacion_completa",datasubtitle:"nombre_completo",filter:"identificacion_completa,nombre_completo",label:"Tercero",scope:"formAbogado",entidad:"terceros",preicon:"person",value:o.abogado.tercero,clearable:""},on:{change:function(e){return o.abogado.gn_tercero_id=e},objectReturn:function(e){return o.terceroSeleccionado(e)}}})],1),o._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],key:"nombre",attrs:{label:"Nombre",name:"nombre",required:"","error-messages":o.errors.collect("nombre")},model:{value:o.abogado.nombre,callback:function(e){o.$set(o.abogado,"nombre",e)},expression:"abogado.nombre"}})],1)],1)],1)],1)],1),o._v(" "),a("v-divider"),o._v(" "),a("v-card-actions",[a("v-spacer"),o._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:o.submit}},[o._v("\n        Guardar\n      ")])],1)],1),o._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:o.dialogCodigo,callback:function(e){o.dialogCodigo=e},expression:"dialogCodigo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[o._v("Codigo del Abogado")]),o._v(" "),a("v-card-text",[o._v("El codigo del Abogado ya esta siendo utilizado, desea cargar los datos para su actualizacion o utilizar otro codigo")]),o._v(" "),a("v-card-actions",[a("v-spacer"),o._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:o.editarByCodigo}},[o._v("Cargar datos")]),o._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:o.cerrarByCodigo}},[o._v("Cerrar")])],1)],1)],1)],1)},r=[],i={render:t,staticRenderFns:r};e.a=i},576:function(o,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=a(1100),r=a(1908),i=a(1),n=i(t.a,r.a,!1,null,null,null);e.default=n.exports}});
//# sourceMappingURL=269.23b69e9de44a059b7ac2.js.map