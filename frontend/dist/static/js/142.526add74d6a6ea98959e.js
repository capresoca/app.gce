webpackJsonp([142],{1314:function(e,t,a){"use strict";var o=a(7),n=a.n(o),i=a(59),s=a(12),l=a(60);t.a={name:"TutelasMIPRES",components:{DataTable:l.default,ToolbarList:function(){return new Promise(function(e){e()}).then(a.bind(null,247))},Descargas:function(){return a.e(296).then(a.bind(null,926))}},data:function(){var e=this;return{descargas:{visible:!1,tipo:3},dialog:!1,comDiario:null,dataTable:{nameItemState:"itemMipresTutelas",route:"mptutelas",optionsPerPage:[{text:50,value:50},{text:100,value:100},{text:200,value:200}],makeHeaders:[{text:"Número",align:"left",sortable:!0,value:"NoTutela",classData:""},{text:"Fecha",align:"left",sortable:!0,value:"FTutela",classData:""},{text:"Paciente",align:"left",sortable:!1,value:"identificacion",classData:"",component:{component:{template:"<mini-card-detail :data=\"value.mini_afiliado\n                     ? value.mini_afiliado : {identificacion_completa: value.identificacion, nombre_completo: value.paciente, id: null, emoticon: '⚠️'}\"/>",props:["value"]}}},{text:"Registros",align:"center",sortable:!1,value:"id",classData:"text-xs-center",width:"150px",component:{component:{template:'<div>\n                      <v-tooltip top class="mr-2" v-if="value.medicamentos">\n                        <v-badge overlap color="blue" slot="activator" class="cursor-pointer">\n                        <span slot="badge" class="caption">{{value.medicamentos}}</span>\n                          <v-avatar color="indigo" size="30">\n                            <span class="white--text subheading">M</span>\n                          </v-avatar>\n                        </v-badge>\n                        <span>Medicamentos</span>\n                      </v-tooltip>\n                      <v-tooltip top class="mr-2" v-if="value.procedimientos">\n                        <v-badge overlap color="blue" slot="activator" class="cursor-pointer">\n                        <span slot="badge" class="caption">{{value.procedimientos}}</span>\n                          <v-avatar color="green" size="30">\n                            <span class="white--text subheading">P</span>\n                          </v-avatar>\n                        </v-badge>\n                        <span>Procedimientos</span>\n                      </v-tooltip>\n                      <v-tooltip top class="mr-2" v-if="value.dispositivos">\n                        <v-badge overlap color="blue" slot="activator" class="cursor-pointer">\n                        <span slot="badge" class="caption">{{value.dispositivos}}</span>\n                          <v-avatar color="brown" size="30">\n                            <span class="white--text subheading">D</span>\n                          </v-avatar>\n                        </v-badge>\n                        <span>Dispositivos</span>\n                      </v-tooltip>\n                      <v-tooltip top class="mr-2" v-if="value.productosnutricionales">\n                        <v-badge overlap color="blue" slot="activator" class="cursor-pointer">\n                        <span slot="badge" class="caption">{{value.productosnutricionales}}</span>\n                          <v-avatar color="purple" size="30">\n                            <span class="white--text subheading">N</span>\n                          </v-avatar>\n                        </v-badge>\n                        <span>Productos Nutricionales</span>\n                      </v-tooltip>\n                      <v-tooltip top class="mr-2" v-if="value.serviciosComplementarios">\n                        <v-badge overlap color="blue" slot="activator" class="cursor-pointer">\n                        <span slot="badge" class="caption">{{value.serviciosComplementarios}}</span>\n                          <v-avatar color="teal" size="30">\n                            <span class="white--text subheading">C</span>\n                          </v-avatar>\n                        </v-badge>\n                        <span>Servicios Complementarios</span>\n                      </v-tooltip>\n                  </div>',props:["value"]}}},{text:"Direccionamiento",align:"center",sortable:!1,value:"direccionado",classData:"text-xs-center",width:"100px",component:{component:{template:'<div>\n                      <v-tooltip top>\n                        <v-progress-linear class="cursor-pointer" slot="activator" :value="value.direccionado * 100"></v-progress-linear>\n                        <span>{{Number((value.direccionado * 100).toFixed(2))}}%</span>\n                      </v-tooltip>\n                  </div>',props:["value"]}}},{text:"Opciones",align:"center",sortable:!1,actions:!0,classData:"text-xs-center",width:"120px"}],filters:[{label:"Estado",type:"v-autocomplete",items:function(){return e.complementos.estados},vModel:[],multiple:!0,itemText:"text",itemValue:"value",value:"estado",clearable:!0},{label:"Fecha Prescripción",type:"v-range",items:{menuDate:!1,type:"date",range:!0,itemMin:{label:"Inicial",vModel:null,clearable:!0,value:"FPrescripcion"},itemMax:{menuDate:!1,label:"Final",vModel:null,clearable:!0,value:"FPrescripcion"}}}]}}},computed:{complementos:function(){return i.b.getters.complementosTablaTutelas},infoComponent:function(){return this.$store.getters.getInfoComponent("tutelasMipres")}},methods:{downloadSuccess:function(){this.$refs.tablaTutelas.reloadPage()},resetOptions:function(e){return e.options=[],this.infoComponent&&this.infoComponent.permisos.ver&&e.options.push({event:"detalle",icon:"find_in_page",tooltip:"Ver detalle",color:"primary"}),this.infoComponent&&this.infoComponent.permisos.ver&&e.options.push({event:"eliminar",icon:"remove_circle",tooltip:"Eliminar",color:"orange"}),e},eliminarRegistro:function(e){this.dialog=!0,this.comDiario=JSON.parse(n()(e))},eliminarTutela:function(e){var t=this;this.dialog=!1,console.log(e.id),console.log("tutelamipres/eliminar/"+e.id),this.axios.delete("tutelamipres/eliminar/"+e.id).then(function(e){t.$store.commit(s.b,{msg:"Se eliminó el registro correctamente",color:"success"}),t.$refs.tablaTutelas.reloadPage()}).catch(function(e){t.dialog=!1,t.$store.commit(s.b,{msg:e.response.data.message,color:"danger"})})}}}},2523:function(e,t,a){var o=a(2524);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(456)("5579d8f8",o,!0,{})},2524:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Tutelas.vue",sourceRoot:""}])},2525:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-text",{staticClass:"subheading font-weight-light"},[e._v("¿Realmente desea eliminar la tutela?")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{flat:""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("No")]),e._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){return e.eliminarTutela(e.comDiario)}}},[e._v("Si")])],1)],1)],1),e._v(" "),a("v-card",[a("toolbar-list",{attrs:{info:e.infoComponent,title:"Tutelas MIPRES",subtitle:""}},[a("template",{slot:"actions"},[a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){t.stopPropagation(),e.descargas.visible=!0}}},[a("v-icon",{staticClass:"mr-1"},[e._v("cloud_download")]),e._v(" descargar tutelas\n\t        ")],1)],1)],2),e._v(" "),a("data-table",{ref:"tablaTutelas",on:{resetOption:function(t){return e.resetOptions(t)},detalle:function(t){return e.$store.commit("NAV_ADD_ITEM",{ruta:"detalleTutelaMipres",titulo:"Detalle Tutela MIPRES",parametros:{entidad:t,tabOrigin:e.$store.state.nav.currentItem.split("tab-")[1]}})},imprimir:function(t){return e.imprimir(t)},eliminar:function(t){return e.eliminarRegistro(t)}},model:{value:e.dataTable,callback:function(t){e.dataTable=t},expression:"dataTable"}}),e._v(" "),a("descargas",{attrs:{tipo:e.descargas.tipo},on:{success:e.downloadSuccess},model:{value:e.descargas.visible,callback:function(t){e.$set(e.descargas,"visible",t)},expression:"descargas.visible"}})],1)],1)},n=[],i={render:o,staticRenderFns:n};t.a=i},703:function(e,t,a){"use strict";function o(e){a(2523)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1314),i=a(2525),s=a(1),l=o,r=s(n.a,i.a,!1,l,null,null);t.default=r.exports}});
//# sourceMappingURL=142.526add74d6a6ea98959e.js.map