webpackJsonp([317],{1330:function(e,t,a){"use strict";var o=a(249),i=a.n(o),n=a(252),c=a.n(n),r=a(13),s=a.n(r),l=a(14),d=a.n(l),u=a(12),v=a(743);t.a={name:"estudio",props:["empleado"],components:{Confirmar:v.a},data:function(){return{dialogA:{visible:!1,content:null,registroID:null},dialog:!1,tableLoading:!1,headersEducacion:[{text:"Establecimiento educativo",align:"left",sortable:!1,value:"establecimiento educativo"},{text:"Título obtenido",align:"left",sortable:!1,value:"titulo obtenido"},{text:"Fecha",align:"left",sortable:!1,value:"fecha"},{text:"Opciones",align:"left",sortable:!1,value:"id"}],tabs:null,menuDateFechaEducacion:!1,dataEducacion:{estudio:[]},mostrarEducacionM:!0,educacionH:{}}},mounted:function(){},created:function(){this.reloadPage()},watch:{},filers:{},computed:{computedDateFormattedFechaEducacion:function(){return this.formDate(this.educacionH.fecha)}},methods:{reloadPage:function(){var e=this;this.tableLoading=!0,this.localLoading=!0,this.axios.get("empleadosestudio?id="+this.empleado).then(function(t){e.dataEducacion.estudio=t.data,e.tableLoading=!1,e.localLoading=!1}).catch(function(t){return e.tableLoading=!1,e.localLoading=!1,!1})},mostrarCardEd:function(e,t){1===e&&"educacion"===t?this.mostrarEducacionM=!0:2===e&&"educacion"===t&&(this.mostrarEducacionM=!1)},validador:function(e){return this.$validator.validateAll(e).then(function(e){return e})},saveEducacionCH:function(){var e=this;return d()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validador("formPago");case 2:if(!t.sent){t.next=10;break}e.educacionH.empleado=e.empleado,console.log(e.educacionH),e.localLoading=!0,a=e.educacionH.empleado_estudio?e.axios.put("empleadosestudio/actualizar/"+e.educacionH.empleado_estudio,e.educacionH):e.axios.post("empleadosestudio/crear",e.educacionH),a.then(function(t){e.localLoading=!1,e.educacionH.empleado_estudio?e.$store.commit(u.b,{msg:"El estudio se actualizó correctamente",color:"success"}):(e.$store.commit(u.b,{msg:"Estudio agregado exitosamente",color:"success"}),e.reloadPage()),e.dialog=!1}).catch(function(t){e.localLoading=!1,e.$store.commit(u.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}),t.next=11;break;case 10:e.$store.commit(u.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 11:e.formTableReset();case 12:case"end":return t.stop()}},t,e)}))()},eliminarEducacion:function(e){this.dialogA.content="¿Está seguro de eliminar?",this.dialogA.registroID=e.empleado_estudio,this.dialogA.visible=!0},cancelaAnulacion:function(){this.dialogA.visible=!1,this.dialogA.content=null,this.dialogA.registroID=null},confirmaAnulacion:function(e){var t=this;this.localLoading=!0,this.axios.delete("empleadosestudio/eliminar/"+this.dialogA.registroID).then(function(e){t.$store.commit(u.b,{msg:"El estudio se eliminó correctamente",color:"success"}),t.reloadPage(),t.cancelaAnulacion()}).catch(function(e){t.localLoading=!1,t.$store.commit(u.b,{msg:"Hay un error al eliminar el registro. "+e.response,color:"danger"})})},editarEducacion:function(e,t){this.dialog=!0,this.educacionH=c()({},e),this.i=t},closeTable:function(){this.formTableReset()},formTableReset:function(){this.i=null,this.educacionH={establecimiento:null,titulo:null,fecha:null,empleado:null},this.dialog=!1},formDate:function(e){if(!e)return null;var t=e.split("-"),a=i()(t,3);return a[0]+"/"+a[1]+"/"+a[2]}}}},2569:function(e,t,a){"use strict";function o(e){a(2570)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1330),n=a(2572),c=a(1),r=o,s=c(i.a,n.a,!1,r,"data-v-3fe3fc34",null);t.default=s.exports},2570:function(e,t,a){var o=a(2571);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(456)("7ab37f6f",o,!0,{})},2571:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,".tipo[data-v-3fe3fc34]{height:10px;padding:0}.no-padding[data-v-3fe3fc34]{padding:0}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/administrativo/TalentoHumano/Empleado/EmpleadoEstudio.vue"],names:[],mappings:"AACA,uBACE,YAAa,AACb,SAAW,CACZ,AACD,6BACE,SAAW,CACZ",file:"EmpleadoEstudio.vue",sourcesContent:["\n.tipo[data-v-3fe3fc34] {\n  height: 10px;\n  padding: 0;\n}\n.no-padding[data-v-3fe3fc34] {\n  padding: 0;\n}\n"],sourceRoot:""}])},2572:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-form",{attrs:{"data-vv-scope":"formPago"}},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[a("span",{staticClass:"title"},[e._v("Agregar estudios dsdf")])]),e._v(" "),a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"establecimiento educativo",attrs:{label:"Establecimiento educativo",name:"establecimiento educativo",required:"","error-messages":e.errors.collect("establecimiento educativo")},model:{value:e.educacionH.establecimiento,callback:function(t){e.$set(e.educacionH,"establecimiento",t)},expression:"educacionH.establecimiento"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"título obtenido",attrs:{label:"Título obtenido",name:"título obtenido",required:"","error-messages":e.errors.collect("título obtenido")},model:{value:e.educacionH.titulo,callback:function(t){e.$set(e.educacionH,"titulo",t)},expression:"educacionH.titulo"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menuDateFechaEducacion",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:e.menuDateFechaEducacion,callback:function(t){e.menuDateFechaEducacion=t},expression:"menuDateFechaEducacion"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],ref:"prueba",attrs:{slot:"activator",label:"Fecha","prepend-icon":"event",readonly:"",name:"fecha","error-messages":e.errors.collect("fecha")},slot:"activator",model:{value:e.computedDateFormattedFechaEducacion,callback:function(t){e.computedDateFormattedFechaEducacion=t},expression:"computedDateFormattedFechaEducacion"}}),e._v(" "),a("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(t){e.menuDateFechaEducacion=!1},change:function(){var t=e.$validator.errors.items.findIndex(function(e){return"fecha"===e.field});e.$validator.errors.items.splice(-1!==t?t:0,-1!==t?1:0)}},model:{value:e.educacionH.fecha,callback:function(t){e.$set(e.educacionH,"fecha",t)},expression:"educacionH.fecha"}})],1)],1)],1)],1),e._v(" "),a("v-card-actions",{staticClass:"grey lighten-4"},[a("v-spacer"),e._v(" "),a("v-btn",{on:{click:e.closeTable}},[e._v("Cancelar")]),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.saveEducacionCH}},[e._v("Guardar")])],1)],1)],1)],1),e._v(" "),a("v-toolbar",{directives:[{name:"show",rawName:"v-show",value:!e.mostrarEducacionM,expression:"!mostrarEducacionM"}],attrs:{dense:"",short:"",flat:""}},[a("v-app-bar-nav-icon"),e._v(" "),a("v-title",[e._v("Estudios")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.mostrarCardEd(1,"educacion")}}},[a("v-icon",{attrs:{title:"mostrar"}},[e._v("remove_red_eye")])],1)],1),e._v(" "),a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.mostrarEducacionM,expression:"mostrarEducacionM"}],attrs:{flat:""}},[a("v-card-text",[a("v-toolbar",{attrs:{dense:"",short:"",flat:""}},[a("v-app-bar-nav-icon"),e._v(" "),a("v-title",[e._v("Estudios")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",{on:{click:function(t){e.dialog=!0}}},[e._v("add")])],1),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.mostrarCardEd(2,"educacion")}}},[a("v-icon",{attrs:{color:"green",title:"ocultar"}},[e._v("remove_red_eye")])],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersEducacion,items:e.dataEducacion.estudio,loading:e.tableLoading,"total-items":e.dataEducacion.length,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.establecimiento))]),e._v(" "),a("td",[e._v(e._s(t.item.titulo))]),e._v(" "),a("td",[e._v(e._s(t.item.fecha))]),e._v(" "),a("td",[a("v-speed-dial",{attrs:{direction:"left","open-on-hover":"",transition:"slide-x-transition"},model:{value:t.item.show,callback:function(a){e.$set(t.item,"show",a)},expression:"props.item.show"}},[a("v-btn",{attrs:{slot:"activator",color:"blue darken-2",dark:"",fab:"",small:""},slot:"activator",model:{value:t.item.show,callback:function(a){e.$set(t.item,"show",a)},expression:"props.item.show"}},[a("v-icon",[e._v("chevron_left")]),e._v(" "),a("v-icon",[e._v("close")])],1),e._v(" "),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(a){return e.eliminarEducacion(t.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"accent"}},[e._v("delete")])],1),e._v(" "),a("span",[e._v("Eliminar")])],1),e._v(" "),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(a){return e.editarEducacion(t.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"accent"}},[e._v("mode_edit")])],1),e._v(" "),a("span",[e._v("Editar")])],1)],1)],1)]}}])},[e._v(" "),a("template",{slot:"no-data"},[e.tableLoading?a("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[e._v("\n            Estamos cargando los registros. "),a("v-icon",[e._v("sentiment_satisfied_alt")])],1):a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n            No tenemos registros para mostrar. "),a("v-icon",[e._v("sentiment_very_dissatisfied")])],1)],1)],2)],1)],1),e._v(" "),a("confirmar",{attrs:{value:e.dialogA.visible,content:e.dialogA.content},on:{cancelar:e.cancelaAnulacion,aceptar:function(t){return e.confirmaAnulacion(t)}}})],1)},i=[],n={render:o,staticRenderFns:i};t.a=n},742:function(e,t,a){"use strict";var o=a(13),i=a.n(o),n=a(14),c=a.n(n),r=a(58);t.a={name:"Confirmar",props:{value:{type:Boolean,default:!1},content:{type:String},requiereMotivo:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},components:{Loading:r.default},data:function(){return{loadingSubmit:!1,motivo:null}},watch:{value:function(e){e||(this.motivo=null,this.$validator.reset())}},methods:{submit:function(){var e=this;return c()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(!t.sent){t.next=5;break}e.loadingSubmit=!0,e.$emit("aceptar",e.motivo);case 5:case"end":return t.stop()}},t,e)}))()},pararCarga:function(){this.loadingSubmit=!1}}}},743:function(e,t,a){"use strict";function o(e){a(744)}var i=a(742),n=a(746),c=a(1),r=o,s=c(i.a,n.a,!1,r,"data-v-3773d9ac",null);t.a=s.exports},744:function(e,t,a){var o=a(745);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(456)("0e7a280b",o,!0,{})},745:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Confirmar2.vue",sourceRoot:""}])},746:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{key:"dialogConfirm",attrs:{persistent:"","max-width":"400"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("loading",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),e._v(" "),a("v-card",[a("v-card-text",{staticClass:"title font-weight-light text-xs-center",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-btn",{attrs:{flat:""},on:{click:function(t){return t.stopPropagation(),e.$emit("cancelar")}}},[e._v("Cancelar")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary",loading:e.loadingSubmit},on:{click:function(t){return t.stopPropagation(),e.submit(t)}}},[e._v("Aceptar")])],1)],1)],1)],1)},i=[],n={render:o,staticRenderFns:i};t.a=n}});
//# sourceMappingURL=317.f2357cd8ad2c7e19c9c1.js.map