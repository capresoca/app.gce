webpackJsonp([131],{1480:function(t,e,i){var a=i(1481);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(456)("7374036c",a,!0,{})},1481:function(t,e,i){e=t.exports=i(455)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Portabilidad.vue",sourceRoot:""}])},1482:function(t,e,i){"use strict";var a=function(){var t=this,e=this,i=e.$createElement,a=e._self._c||i;return a("v-card",[a("cancelar-portabilidad",{ref:"cancelarPortabilidad",on:{cancelar:function(t){return e.aceptarCancelacion(t)}}}),e._v(" "),a("toolbar-list",{attrs:{info:e.infoComponent,title:"Portabilidad",subtitle:"Registro y gestión",btnplus:"",btnplustitle:"Crear portabilidad"}}),e._v(" "),a("data-table-v2",{on:{resetOption:function(t){return e.resetOptions(t)},cancel:function(t){return e.cancelar(t)},editar:function(i){return e.$store.commit("NAV_ADD_ITEM",{ruta:t.infoComponent.ruta_registro,titulo:"Edición portabilidad No. "+i.consecutivo,parametros:{entidad:i,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})},verformato:function(t){return e.impresion(t)}},model:{value:e.dataTable,callback:function(t){e.dataTable=t},expression:"dataTable"}})],1)},n=[],o={render:a,staticRenderFns:n};e.a=o},484:function(t,e,i){"use strict";function a(t){i(1480)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(959),o=i(1482),l=i(1),r=a,s=l(n.a,o.a,!1,r,"data-v-70606770",null);e.default=s.exports},959:function(t,e,i){"use strict";var a=i(7),n=i.n(a);e.a={name:"Portabilidad",components:{CancelarPortabilidad:function(){return i.e(338).then(i.bind(null,866))}},data:function(){return{dataTable:{nameItemState:"tablePortabilidad",route:"portabilidades",makeHeaders:[{text:"No.",align:"left",sortable:!1,value:"consecutivo"},{text:"Afiliado",align:"left",sortable:!1,value:"afiliado",component:{template:'<mini-card-detail :data="value.afiliado.mini_afiliado"></mini-card-detail>',props:["value"]}},{text:"Origen",align:"left",sortable:!1,value:"municipio_origen"},{text:"Destino",align:"left",sortable:!1,value:"municipio_destino"},{text:"Fechas",align:"left",sortable:!1,value:"fecha_inicio",component:{template:'<v-list-tile class="content-v-list-tile-p0">\n                      <v-list-tile-content>\n                        <v-list-tile-title class="caption black--text">{{\'Fecha Inicio: \' + value.fecha_inicio}}</v-list-tile-title>\n                        <v-list-tile-title class="caption black--text">{{\'Fecha Fin: \' + value.fecha_fin}}</v-list-tile-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  ',props:["value"]}},{text:"Usuario",align:"left",sortable:!1,value:"name",component:{template:'<v-list-tile class="content-v-list-tile-p0">\n                    <v-list-tile-content>\n                      <v-list-tile-title class="body-2">{{value.name}}</v-list-tile-title>\n                      <v-list-tile-title class="caption grey--text">{{value.email}}</v-list-tile-title>\n                    </v-list-tile-content>\n                  </v-list-tile>\n                ',props:["value"]}},{text:"Estado",align:"center",sortable:!1,value:"estado"},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!1,classData:"text-xs-center"}]}}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("portabilidad")}},methods:{resetOptions:function(t){t.options=[];var e=JSON.parse(n()(t.estado));return this.infoComponent&&this.infoComponent.permisos.agregar&&"Registrado"===e&&t.options.push({event:"editar",icon:"edit",tooltip:"Editar"}),t.options.push({event:"verformato",icon:"far fa-file-pdf",color:"red",tooltip:"Formato portabilidad"}),"Aceptado"!==e&&"Registrado"!==e||t.options.push({event:"cancel",icon:"fas fa-times-circle",color:"red",tooltip:"Cancelar"}),t},impresion:function(t){this.filePrint("solicitud-portabilidad-pdf&id="+t.id)},cancelar:function(t){this.$refs.cancelarPortabilidad.assign(JSON.parse(n()(t)))},aceptarCancelacion:function(t){var e=this;this.axios.post("cancelar_portabilidad/"+t.rs_portabilidade_id,t).then(function(t){e.$store.commit("SNACK_SHOW",{msg:"Se cancela la portabilidad #"+t.data.data.consecutivo,color:"success"}),e.$store.commit("reloadTable","tablePortabilidad")}).catch(function(t){e.$store.commit("SNACK_ERROR_LIST",{expression:" al cancelar la portabilidad. ",error:t})})}}}}});
//# sourceMappingURL=131.21df130f8ddbcd566ac1.js.map