webpackJsonp([138],{1014:function(t,e,a){"use strict";var o=a(13),i=a.n(o),n=a(14),r=a.n(n),s=a(59);e.a={name:"ProcesosBDUA",components:{CargaRespuesta:function(){return a.e(339).then(a.bind(null,1634))}},data:function(){return{dialog:!1,vigencia:"",listaCombo:[],botonTener:null,tiposProceso:{contributivos:[{loading:!1,type:"MC"},{loading:!1,type:"NC"},{loading:!1,type:"R1"},{loading:!1,type:"R4"}],subsidiados:[{loading:!1,type:"MS"},{loading:!1,type:"NS"},{loading:!1,type:"S1"},{loading:!1,type:"S4"}]},dataTable:{nameItemState:"tableRespuestasBDUA",route:"respuestasbdua",makeHeaders:[{text:"ID",align:"center",sortable:!0,value:"id",classData:"text-xs-center"},{text:"Archivo",align:"left",sortable:!0,value:"nombreArchivo"},{text:"Fecha Proceso",align:"left",sortable:!1,classData:"text-xs-left",component:{template:"<span>{{value.fechaProceso ? moment(value.fechaProceso).format('YYYY-MM-DD') : ''}}</span>",props:["value"]}},{text:"Usuario",align:"left",sortable:!0,value:"id",component:{template:'\n                    <v-list-tile class="content-v-list-tile-p0">\n                      <v-list-tile-content>\n                        <v-list-tile-title>{{value.usuario.email}}</v-list-tile-title>\n                        <v-list-tile-title class="caption grey--text">{{value.usuario.name}}</v-list-tile-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  ',props:["value"]}},{text:"Fecha Registro",align:"left",sortable:!1,classData:"text-xs-left",component:{template:"<span>{{value.created_at ? moment(value.created_at).format('YYYY-MM-DD HH:mm') : ''}}</span>",props:["value"]}}]}}},created:function(){},watch:{},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("procesosBDUA")},modalTitulo:function(){return"Seleccione el Periodo"},complementos:function(){return s.b.getters.complementosPeriodosEnvios}},methods:{download:function(){var t=this;return r()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.validador("formPago");case 2:if(!e.sent){e.next=11;break}return t.dialog=!1,t.botonTener.loading=!0,e.next=7,t.filePrint("bdua_file&tipo="+t.botonTener.type+"&periodo="+t.vigencia,!1);case 7:t.$store.commit("SNACK_SHOW",{msg:"Generando archivo.",color:"info"}),t.botonTener.loading=!1,t.dialog=!1,t.$validator.reset();case 11:case"end":return e.stop()}},e,t)}))()},validador:function(t){return this.$validator.validateAll(t).then(function(t){return t})},resetOptions:function(t){return t.options=[],t},save:function(){var t=this;return r()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dialog=!1,t.$validator.reset();case 2:case"end":return e.stop()}},e,t)}))()},close:function(){this.dialog=!1,this.$validator.reset()},abrirDialog:function(t){this.dialog=!0,this.botonTener=t,this.listaCombo="NS"===t.type||"NC"===t.type?this.complementos.periodosNovedades:this.complementos.periodosTraslados}}}},1632:function(t,e,a){var o=a(1633);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(456)("1b1aba53",o,!0,{})},1633:function(t,e,a){e=t.exports=a(455)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ProcesosBDUA.vue",sourceRoot:""}])},1638:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{width:"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",{attrs:{"data-vv-scope":"formPago"}},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[a("span",{staticClass:"title"},[t._v(t._s(t.modalTitulo))])]),t._v(" "),a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Periodos",items:t.listaCombo,"item-value":"consecutivo_vigencia","item-text":"descripcion",name:"vigencia",required:"","error-messages":t.errors.collect("vigencia")},model:{value:t.vigencia,callback:function(e){t.vigencia=e},expression:"vigencia"}})],1)],1)],1),t._v(" "),a("v-card-actions",{staticClass:"grey lighten-4"},[a("v-spacer"),t._v(" "),a("v-btn",{on:{click:t.close}},[t._v("Cancelar")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.download()}}},[t._v("Descargar")])],1)],1)],1)],1),t._v(" "),a("v-card",[a("toolbar-list",{staticClass:"elevation-1 grey lighten-4",attrs:{info:t.infoComponent,title:"Procesos BDUA"}}),t._v(" "),a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{staticClass:"title py-2"},[a("v-avatar",{staticClass:"mr-2",attrs:{size:"38",color:"primary"}},[a("v-icon",{staticClass:"white--text"},[t._v("fas fa-file-download")])],1),t._v("\n              Descarga de archivos\n            ")],1),t._v(" "),a("v-divider"),t._v(" "),a("v-container",{staticClass:"pt-2",attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[a("v-card",[a("v-subheader",[t._v("Régimen Contributivo")]),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[t._l(t.tiposProceso.contributivos,function(e,o){return[a("v-btn",{key:"btnC"+o,attrs:{loading:e.loading,outline:"",color:"primary"},on:{click:function(a){return t.abrirDialog(e)}}},[t._v(t._s(e.type))])]})],2)],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[a("v-card",[a("v-subheader",[t._v("Régimen  Subsidiado")]),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[t._l(t.tiposProceso.subsidiados,function(e,o){return[a("v-btn",{key:"btnS"+o,attrs:{loading:e.loading,outline:"",color:"primary"},on:{click:function(a){return a.stopPropagation(),t.abrirDialog(e)}}},[t._v(t._s(e.type))])]})],2)],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card",[a("v-card-title",{staticClass:"title py-2"},[t._v("\n          Respuestas\n          "),a("v-spacer"),t._v(" "),a("carga-respuesta")],1),t._v(" "),a("data-table-v2",{ref:"tableRespuestasBDUA",on:{resetOption:function(e){return t.resetOptions(e)}},model:{value:t.dataTable,callback:function(e){t.dataTable=e},expression:"dataTable"}})],1)],1)],1)],1)},i=[],n={render:o,staticRenderFns:i};e.a=n},520:function(t,e,a){"use strict";function o(t){a(1632)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(1014),n=a(1638),r=a(1),s=o,l=r(i.a,n.a,!1,s,"data-v-54e2d740",null);e.default=l.exports}});
//# sourceMappingURL=138.a0795edbd304a4085b3e.js.map