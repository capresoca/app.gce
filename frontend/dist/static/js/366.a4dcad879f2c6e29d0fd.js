webpackJsonp([366],{1010:function(t,e,a){"use strict";e.a={name:"CxpsList",props:{comprobante:{type:Object,default:null}},components:{InputNumber:function(){return new Promise(function(t){t()}).then(a.bind(null,254))}},data:function(){return{dialog:!1,loading:!1,selecteds:[],registros:[],headers:[{text:"",align:"center",sortable:!1},{text:"Núm.",align:"center",sortable:!1},{text:"Módulo",align:"center",sortable:!1},{text:"Factura",align:"center",sortable:!1},{text:"Valor",align:"right",sortable:!1},{text:"Saldo",align:"right",sortable:!1},{text:"Valor a pagar",align:"center",sortable:!1}]}},watch:{dialog:function(t){t&&this.getCXPS()}},methods:{asignar:function(){var t=this;this.$validator.validateAll().then(function(e){e&&(t.$emit("returnItems",t.selecteds),t.dialog=!1)})},getCXPS:function(){var t=this;this.registros=[],this.loading=!0,this.axios.get("pg_cxps?gn_tercero_id="+this.comprobante.tercero.id).then(function(e){console.log("las cxps",e),e.data.data.forEach(function(t){t.valor=null}),t.registros=e.data.data,t.loading=!1}).catch(function(e){t.loading=!1,t.$store.commit("SNACK_ERROR_LIST",{expression:" al traer las cxps. ",error:e})})}}}},1620:function(t,e,a){"use strict";function s(t){a(1621)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(1010),i=a(1623),n=a(1),o=s,l=n(r.a,i.a,!1,o,"data-v-0933e6c5",null);e.default=l.exports},1621:function(t,e,a){var s=a(1622);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(456)("f053db88",s,!0,{})},1622:function(t,e,a){e=t.exports=a(455)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"CxpsList.vue",sourceRoot:""}])},1623:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",width:"900"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{small:"",flat:""}},s),[t._v("\n      CxPs\n    ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-list-tile",{staticClass:"content-v-list-tile-p0"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Cuentas por pagar")]),t._v(" "),a("v-list-tile-sub-title",[t._v(t._s(t.comprobante.tercero.identificacion_completa)+" - "+t._s(t.comprobante.tercero.nombre_completo))])],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-tooltip",{attrs:{left:""}},[a("v-btn",{attrs:{slot:"activator",flat:"",icon:""},on:{click:function(e){t.dialog=!1}},slot:"activator"},[a("v-icon",[t._v("close")])],1),t._v(" "),a("span",[t._v("Cerrar")])],1)],1),t._v(" "),a("v-data-table",{attrs:{items:t.registros,headers:t.headers,"hide-actions":"",loading:t.loading,"no-data-text":"No registra cuentas por pagar."},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected}},[a("td",{staticClass:"text-xs-center"},[a("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}})],1),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.consecutivo))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.modulo))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.no_factura))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.currency(e.item.valor_sin_formato)))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.currency(e.item.saldo)))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:1|max_value:"+e.item.saldo,expression:"`required|min_value:1|max_value:${props.item.saldo}`"}],key:"inputvalor"+e.index,attrs:{disabled:!e.selected,name:"valorpagar"+e.index,"prepend-icon":"attach_money","data-vv-as":"Valor a pagar","error-messages":t.errors.collect("valorpagar"+e.index)},model:{value:e.item.valor,callback:function(a){t.$set(e.item,"valor",t._n(a))},expression:"props.item.valor"}})],1)])]}}]),model:{value:t.selecteds,callback:function(e){t.selecteds=e},expression:"selecteds"}}),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n        Cerrar\n      ")]),t._v(" "),a("v-spacer"),t._v(" "),t.selecteds.length?a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.asignar}},[t._v("\n        Asignar\n      ")]):t._e()],1)],1)],1)},r=[],i={render:s,staticRenderFns:r};e.a=i}});
//# sourceMappingURL=366.a4dcad879f2c6e29d0fd.js.map