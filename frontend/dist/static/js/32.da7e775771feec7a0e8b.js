webpackJsonp([32,288,302],{1242:function(e,t,a){"use strict";var i=a(13),r=a.n(i),n=a(14),o=a.n(n),s=a(59),l=a(754),c=a(748),d=a(40),u=a(248),m=a(12);t.a={name:"RegistroReferencia",components:{InputDetailFlex:function(){return new Promise(function(e){e()}).then(a.bind(null,250))},InputFile:c.default,PostuladorV2:function(){return new Promise(function(e){e()}).then(a.bind(null,61))},VDatetimePicker:l.default},props:["parametros"],data:function(){return{referencia:{},datetime:this.moment().format("YYYY-MM-DD HH:mm:ss"),datetime2:this.moment().format("YYYY-MM-DD HH:mm:ss"),datetime3:"2018-01-01 11:05:00",tiposRegimenEps:["Subsidiado","Contributivo"],regimenName:null,payData:null,loader:null,loadingButton:!1,saveLoadingButton:!1,msgTutela:"",filterModalidades:function(e,t){var a=function(e){return null!=e?e:""},i=a(e.codigo+" "+e.tipo+" "+e.modalidad),r=a(t);return i.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1}}},computed:{tapTitulo:function(){return this.referencia.id?"En Edición":"Nuevo Centro Regulador"},complementosReferencias:function(){return s.b.getters.complementosReferencias}},watch:{"referencia.afiliado":function(e){this.referencia.as_regimen_id=e?e.as_regimene_id:null,this.regimenName=e?e.regimen.nombre:null,this.getSiAfiliadoTutela(e)},"referencia.id":function(e){e&&(this.datetime=this.referencia.fecha_orden.toString(),this.datetime2=this.referencia.fecha_solicitud.toString())}},beforeMount:function(){this.formReset()},mounted:function(){null!==this.parametros.entidad&&this.getRegistro(this.parametros.entidad.id)},methods:{getSiAfiliadoTutela:function(e){var t=this;e&&this.axios.get("referencias/situtela/"+e.id).then(function(e){t.msgTutela=e.data.msg}).catch(function(){t.$store.commit(m.b,{msg:"Hay un error al buscar si tiene tutela.",color:"danger"})})},getRegistro:function(e){var t=this;this.axios.get("au_referencias/"+e).then(function(e){t.referencia=e.data.data}).catch(function(){t.$store.commit(m.b,{msg:"Hay un error al traer el registro.",color:"danger"})})},updateDatetime:function(e){this.datetime=e,this.referencia.fecha_orden=e},updateDatetime2:function(e){this.datetime2=e,this.referencia.fecha_solicitud=e},updateDatetime3:function(e){this.datetime3=e,this.referencia.fecha_egreso=this.datetime3},formReset:function(){this.referencia={id:null,consecutivo:null,fecha_orden:this.moment().format("YYYY-MM-DD HH:mm:ss"),fecha_solicitud:this.moment().format("YYYY-MM-DD HH:mm:ss"),as_afiliado_id:null,entidad_origen_id:null,as_regimen_id:null,tipo_origen:"Hospitalario",cie10_ingreso_id:null,au_modservicio_id:null,rs_servicio_id:null,oj_tutela_id:null,rs_cup_id:null,alto_costo:"No",orden_medica_id:null,observaciones:null,historia_clinica_id:null,estado:"Iniciada",cie10_egreso_id:null,entidad_egreso_id:null,estado_egreso:null,fecha_egreso:null,afiliado:null,entidad_uno:null,entidad_two:null,regimen:null,cie10_uno:null,cie10_two:null,servicio:null,tutela:null,archivo_uno:null,archivo_two:null,cups:null}},refresh:function(){this.$validator.reset(),this.formReset()},close:function(){this.refresh(),this.$store.dispatch(d.c,{contexto:this,itemId:this.parametros.tabOrigin})},addFormData:function(){var e=new FormData;e.append("id",this.referencia.id),e.append("consecutivo",this.referencia.consecutivo),e.append("fecha_orden",this.referencia.fecha_orden),e.append("fecha_solicitud",this.referencia.fecha_solicitud),e.append("as_afiliado_id",this.referencia.as_afiliado_id),e.append("entidad_origen_id",this.referencia.entidad_origen_id),e.append("as_regimen_id",this.referencia.as_regimen_id),e.append("tipo_origen",this.referencia.tipo_origen),e.append("cie10_ingreso_id",this.referencia.cie10_ingreso_id),e.append("au_modservicio_id",this.referencia.au_modservicio_id),e.append("rs_servicio_id",this.referencia.rs_servicio_id),this.referencia.oj_tutela_id&&e.append("oj_tutela_id",this.referencia.oj_tutela_id),e.append("alto_costo",this.referencia.alto_costo),this.referencia.archivo_two&&e.append("archivo_two",void 0===this.referencia.archivo_two?"":this.referencia.archivo_two),e.append("observaciones",this.referencia.observaciones),e.append("archivo_uno",void 0===this.referencia.archivo_uno?"":this.referencia.archivo_uno),e.append("estado",this.referencia.estado),e.append("rs_cup_id",this.referencia.rs_cup_id),this.referencia.historia_clinica_id&&e.append("historia_clinica_id",this.referencia.historia_clinica_id),this.payData=e},save:function(){var e=this;return o()(r.a.mark(function t(){var a,i,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validador("formReferencia");case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}t.t0=null!==e.referencia.archivo_uno;case 5:if(!t.t0){t.next=13;break}a=e.$loading.show({container:e.$refs.cargar}),e.addFormData(),i=e.referencia.id?"editar":"crear",n=e.referencia.id?e.axios.post("referencias/"+e.referencia.id,e.payData):e.axios.post("au_referencias",e.payData),n.then(function(t){a.hide(),e.$store.commit(m.b,{msg:"Se "+(e.referencia.id?"actualizaron los datos":"realizó el registro")+" correctamente de la referencia.",color:"success"}),e.$store.commit(u._13,{item:t.data.data,estado:i,key:e.parametros.key}),e.$store.dispatch(d.c,{contexto:e,itemId:e.parametros.tabOrigin})}).catch(function(){e.$store.commit(m.b,{msg:"Hay un error al guardar el registro. ",color:"danger"})}),t.next=23;break;case 13:return t.next=15,e.validador("formReferencia");case 15:if(t.t1=t.sent,!t.t1){t.next=18;break}t.t1=null===e.referencia.archivo_uno;case 18:if(!t.t1){t.next=22;break}e.$store.commit(m.b,{msg:"No se ha cargado el formato de remisión.",color:"danger"}),t.next=23;break;case 22:e.$store.commit(m.b,{msg:"No se puede registrar, existen campos vacíos. ",color:"danger"});case 23:case"end":return t.stop()}},t,e)}))()},validador:function(e){return this.$validator.validateAll(e).then(function(e){return e})}}}},2282:function(e,t,a){var i=a(2283);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(456)("9561340c",i,!0,{})},2283:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,".dividerTwo[data-v-565f5153]{padding:.1mm}.dividerTwo[data-v-565f5153],.refSpace .spacer[data-v-565f5153]{background-color:#f5f5f5!important;border-color:#f5f5f5!important}@media (max-width:601px){.head2[data-v-565f5153]{text-align:right!important}}@media (min-width:602px) and (max-width:959px){.head1[data-v-565f5153]{padding-top:4px!important}.head2[data-v-565f5153]{text-align:right}.head2 h2[data-v-565f5153]{font-size:20px!important;font-weight:500;line-height:1!important;letter-spacing:.02em!important;font-family:Roboto,sans-serif!important}}@media (max-width:959px){.dNone[data-v-565f5153],.refSpace .spacer[data-v-565f5153]{display:none!important}}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/misional/atencionUsuario/centro_regulador/RegistroReferencia.vue"],names:[],mappings:"AACA,6BACE,YAAe,CAGhB,AACD,gEAHE,mCAAqC,AACrC,8BAAiC,CAKlC,AACD,yBACA,wBACI,0BAA6B,CAChC,CACA,AACD,+CACA,wBACI,yBAA4B,CAC/B,AACD,wBACI,gBAAkB,CACrB,AACD,2BACI,yBAA2B,AAC3B,gBAAiB,AACjB,wBAA0B,AAC1B,+BAAkC,AAClC,uCAA6C,CAChD,CACA,AACD,yBAIA,2DACI,sBAAyB,CAC5B,CACA",file:"RegistroReferencia.vue",sourcesContent:["\n.dividerTwo[data-v-565f5153] {\n  padding: 0.1mm;\n  background-color: #f5f5f5 !important;\n  border-color: #f5f5f5 !important;\n}\n.refSpace .spacer[data-v-565f5153] {\n  background-color: #f5f5f5 !important;\n  border-color: #f5f5f5 !important;\n}\n@media (max-width: 601px) {\n.head2[data-v-565f5153] {\n    text-align: right !important;\n}\n}\n@media (min-width: 602px) and (max-width: 959px){\n.head1[data-v-565f5153] {\n    padding-top: 4px !important;\n}\n.head2[data-v-565f5153] {\n    text-align: right;\n}\n.head2 h2[data-v-565f5153] {\n    font-size: 20px !important;\n    font-weight: 500;\n    line-height: 1 !important;\n    letter-spacing: 0.02em !important;\n    font-family: 'Roboto', sans-serif !important;\n}\n}\n@media (max-width: 959px) {\n.dNone[data-v-565f5153] {\n    display: none !important;\n}\n.refSpace .spacer[data-v-565f5153] {\n    display: none !important;\n}\n}\n"],sourceRoot:""}])},2284:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"pa-0"},[a("v-form",{attrs:{"data-vv-scope":"formReferencia"}},[a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{staticClass:"refSpace",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"grey lighten-4",attrs:{xs12:"",sm12:"",md5:"",lg5:"",xl5:""}},[a("v-toolbar",{staticClass:"grey lighten-4 elevation-0 toolbar--dense"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-0 pt-2 head1",attrs:{xs12:"",sm6:"",md12:""}},[a("v-toolbar-title",[e._v(" "+e._s(e.tapTitulo)+" ")])],1),e._v(" "),a("v-flex",{staticClass:"pa-0 head2",attrs:{xs12:"",sm6:"",md12:""}},[null!==e.referencia.id?a("h2",{staticClass:"d-inline-block subheading"},[e._v("Referencia")]):e._e(),e._v(" "),null!==e.referencia.id?a("div",{staticClass:"d-inline-block"},[a("v-chip",{attrs:{label:"",color:"white","text-color":"red",dark:"",absolute:"",right:"",top:""}},[a("span",{staticClass:"subheading"},[e._v("N°")]),e._v(" \n                      "),a("span",{staticClass:"subheading",domProps:{textContent:e._s(null==e.referencia.consecutivo?"0000":e.referencia.consecutivo)}})])],1):e._e()])],1)],1)],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-divider",{staticClass:"dNone pl-1",attrs:{vertical:""}}),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:"",lg3:"",xl3:""}},[a("v-datetime-picker",{attrs:{label:"Fecha Orden de Remisión",datetime:e.referencia.fecha_orden,timeData:e.referencia.fecha_orden,max:e.moment().format("YYYY-MM-DD HH:mm:ss")},on:{input:e.updateDatetime}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:"",lg3:"",xl3:""}},[a("v-datetime-picker",{attrs:{label:"Fecha Solicitud de Remisión",datetime:e.referencia.fecha_solicitud,timeData:e.referencia.fecha_solicitud,max:e.moment().format("YYYY-MM-DD HH:mm:ss")},on:{input:e.updateDatetime2}})],1),e._v(" "),a("v-flex",{staticClass:"pa-1",attrs:{xs12:""}},[a("v-divider",{staticClass:"dividerTwo"})],1),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm12:"",md8:"",lg8:"",xl8:""}},[e.referencia.id&&"Iniciada"!==e.referencia.estado?a("input-detail-flex",{staticClass:"pt-0 pl-0",attrs:{"flex-class":"xs12",label:"Afiliado",text:""+(e.referencia.afiliado?e.referencia.afiliado.nombre_completo:""),hint:""+(e.referencia.afiliado?e.referencia.afiliado.identificacion_completa:"No Registra."),"prepend-icon":e.referencia.afiliado?e.referencia.afiliado.emoticon:"person","append-button":{tooltip:e.referencia.as_afiliado_id?"Ir al afiliado":"No es afilaido",icon:e.referencia.as_afiliado_id?"link":"warning",color:e.referencia.as_afiliado_id?"success":"error"}},on:{clickAppend:function(t){e.referencia.as_afiliado_id&&e.$store.commit("NAV_ADD_ITEM",{ruta:"detalleGeneralAfiliado",titulo:"Detalle afiliado",parametros:{entidad:{id:e.referencia.as_afiliado_id},tabOrigin:e.$store.state.nav.currentItem.split("tab-")[1]}})}}}):a("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por nombre o número de documento.",hint:"identificacion_completa","item-text":"nombre_completo","data-title":"identificacion_completa","data-subtitle":"nombre_completo",label:"Afiliado",entidad:"afiliados",preicon:"person",name:"afiliado",rules:"required","error-messages":e.errors.collect("afiliado"),clearable:"","slot-prepend":e.referencia.afiliado?{template:'<mini-card-detail :data="value.mini_afiliado" alone-icon/>',props:["value"]}:null},on:{changeid:function(t){return e.referencia.as_afiliado_id=t}},model:{value:e.referencia.afiliado,callback:function(t){e.$set(e.referencia,"afiliado",t)},expression:"referencia.afiliado"}})],1),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm6:"",md2:"",lg2:"",xl2:""}},[a("v-text-field",{attrs:{label:"Régimen Afiliado",value:e.regimenName,readonly:""}})],1),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm6:"",md2:"",lg2:"",xl2:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"estado",attrs:{items:e.complementosReferencias.estadosReferencias,disabled:"",label:"Estado",name:"estado","error-messages":e.errors.collect("estado")},model:{value:e.referencia.estado,callback:function(t){e.$set(e.referencia,"estado",t)},expression:"referencia.estado"}})],1),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm6:"",md6:"",lg6:"",xl6:""}},[a("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por razon social u código de habilitación.",hint:"tercero.identificacion_completa","item-text":"nombre","data-title":"tercero.identificacion_completa","data-subtitle":"nombre",label:"IPS Origen",entidad:"entidades",preicon:"location_city",name:"IPS Origen","route-params":"rs_tipentidade_id=1",rules:"required","error-messages":e.errors.collect("IPS Origen"),"no-btn-create":"","min-characters-search":3,clearable:""},on:{changeid:function(t){return e.referencia.entidad_origen_id=t}},model:{value:e.referencia.entidad_uno,callback:function(t){e.$set(e.referencia,"entidad_uno",t)},expression:"referencia.entidad_uno"}})],1),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm6:"",md6:"",lg6:"",xl6:""}},[a("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por código, descripcion y genero",hint:"codigo","item-text":"descripcion","data-title":"codigo","data-subtitle":"descripcion",label:"Diagnóstico",entidad:"rs_cie10s",preicon:"reorder",name:"diagnóstico",rules:"required","error-messages":e.errors.collect("diagnóstico"),"no-btn-create":"","min-characters-search":3,clearable:""},on:{changeid:function(t){return e.referencia.cie10_ingreso_id=t}},model:{value:e.referencia.cie10_uno,callback:function(t){e.$set(e.referencia,"cie10_uno",t)},expression:"referencia.cie10_uno"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md2:"",lg2:"",xl2:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"tipo origen",attrs:{items:e.complementosReferencias.tipoOrigenRefs,disabled:"",label:"Tipo Origen",name:"tipo origen","error-messages":e.errors.collect("tipo origen")},model:{value:e.referencia.tipo_origen,callback:function(t){e.$set(e.referencia,"tipo_origen",t)},expression:"referencia.tipo_origen"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Modalidad de Servicio",items:e.complementosReferencias.modalidadesServicio,"item-value":"id","item-text":"tipo",name:"modalidad de servicio","error-messages":e.errors.collect("modalidad de servicio"),filter:e.filterModalidades,clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){return[[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.codigo+" - "+t.item.tipo)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.item.modalidad)}})],1)]]}}]),model:{value:e.referencia.au_modservicio_id,callback:function(t){e.$set(e.referencia,"au_modservicio_id",t)},expression:"referencia.au_modservicio_id"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:"",xl6:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Servicio",items:e.complementosReferencias.rsServicios,hint:e.referencia.rs_servicio_id?"Código: "+e.referencia.servicio.codigo:"","item-value":"id","item-text":"nombre",name:"servicio","return-object":"","prepend-icon":"record_voice_over","error-messages":e.errors.collect("servicio"),clearable:""},on:{change:function(t){return e.referencia.rs_servicio_id=t?t.id:null}},scopedSlots:e._u([{key:"item",fn:function(t){return[[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.codigo+" - "+t.item.nombre)}})],1)]]}}]),model:{value:e.referencia.servicio,callback:function(t){e.$set(e.referencia,"servicio",t)},expression:"referencia.servicio"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"postuladorProcedimiento",attrs:{"no-data":"Busqueda por código o nombre.","item-text":"descripcion",label:"Procedimiento",entidad:"cups",hint:"codigo","persistent-hint":"","no-btn-create":"","no-btn-edit":"",name:"procedimiento","route-params":"cupscategoria:subgrupo:rs_cupsgrupo_id=109",rules:"required","error-messages":e.errors.collect("procedimiento"),"min-characters-search":4,"slot-data":{template:'\n                    <v-list-tile>\n                    <v-list-tile-action>\n                      <v-chip\n                      color="indigo lighten-2"\n                      label\n                      small\n                      >\n                      {{ value.codigo }}\n                      </v-chip>\n                      </v-list-tile-action>\n                      <v-list-tile-content>\n                        <v-list-tile-title>{{value.descripcion}}</v-list-tile-title>\n                        <v-list-tile-sub-title class=caption>{{ value.cobertura }}</v-list-tile-sub-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                    ',props:["value"]}},on:{changeid:function(t){return e.referencia.rs_cup_id=t}},model:{value:e.referencia.cups,callback:function(t){e.$set(e.referencia,"cups",t)},expression:"referencia.cups"}})],1),e._v(" "),e.referencia.oj_tutela_id?a("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg6:"",xl6:""}},[a("postulador-v2",{attrs:{"no-data":"Busqueda por N° tutela, nombre y estado",hint:"nombre","item-text":"no_tutela","data-title":"no_tutela","data-subtitle":"nombre",label:"Tutela",entidad:"oj_tutelas",preicon:"description","no-btn-create":"","min-characters-search":3,clearable:""},on:{changeid:function(t){return e.referencia.oj_tutela_id=t}},model:{value:e.referencia.tutela,callback:function(t){e.$set(e.referencia,"tutela",t)},expression:"referencia.tutela"}})],1):e._e(),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md5:"",lg5:"",xl5:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs10:""}},[a("input-file",{ref:"archivoAdjunto",staticClass:"mb-3",attrs:{label:"Formato de Remisión","file-name":e.referencia.archivo_uno?e.referencia.archivo_uno.nombre:null,accept:"application/pdf",hint:"Extenciones aceptadas: pdf","prepend-icon":"attach_file","error-messages":e.errors.collect("formato de remisión")},model:{value:e.referencia.archivo_uno,callback:function(t){e.$set(e.referencia,"archivo_uno",t)},expression:"referencia.archivo_uno"}})],1),e._v(" "),a("v-flex",{staticClass:"pt-4 pl-0",attrs:{xs2:""}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",loading:e.loadingButton,disabled:e.loadingButton,color:"accent",fab:"",small:"",href:e.referencia.archivo_uno?e.referencia.archivo_uno.url_signed:""},on:{click:function(t){e.loader="loadingButton"}},slot:"activator"},[a("v-icon",{domProps:{textContent:e._s("archive")}}),e._v(" "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[e._v("cached")])],1)],1),e._v(" "),a("span",{domProps:{textContent:e._s("Descargar Formato de Remisión")}})],1)],1)],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md5:"",lg5:"",xl5:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs10:""}},[a("input-file",{ref:"archivoAdjuntoTwo",staticClass:"mb-3",attrs:{label:"Evolución Médica","file-name":e.referencia.archivo_two?e.referencia.archivo_two.nombre:null,accept:"application/pdf",hint:"Extenciones aceptadas: pdf","prepend-icon":"attach_file"},model:{value:e.referencia.archivo_two,callback:function(t){e.$set(e.referencia,"archivo_two",t)},expression:"referencia.archivo_two"}})],1),e._v(" "),a("v-flex",{staticClass:"pt-4 pl-0",attrs:{xs2:""}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",loading:e.loadingButton,disabled:e.loadingButton,color:"accent",fab:"",small:"",href:e.referencia.archivo_two?e.referencia.archivo_two.url_signed:""},on:{click:function(t){e.loader="loadingButton"}},slot:"activator"},[a("v-icon",{domProps:{textContent:e._s("archive")}}),e._v(" "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[e._v("cached")])],1)],1),e._v(" "),a("span",{domProps:{textContent:e._s("Descargar Evolución Médica")}})],1)],1)],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md2:"",lg2:"",xl2:""}},[a("v-switch",{attrs:{color:"success",label:"Alto Costo","true-value":"Si","false-value":"No"},model:{value:e.referencia.alto_costo,callback:function(t){e.$set(e.referencia,"alto_costo",t)},expression:"referencia.alto_costo"}})],1),e._v(" "),e.msgTutela?a("v-flex",{attrs:{xs12:""}},[a("v-alert",{attrs:{value:!0,color:"orange darken-2",icon:"priority_high"}},[e._v("\n              "+e._s(e.msgTutela)+"\n            ")])],1):e._e(),e._v(" "),a("v-flex",{staticClass:"pt-0",attrs:{xs12:"",sm12:"",md12:"",xl12:""}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"observaciones",attrs:{color:"primary",name:"observaciones",required:"","error-messages":e.errors.collect("observaciones")},model:{value:e.referencia.observaciones,callback:function(t){e.$set(e.referencia,"observaciones",t)},expression:"referencia.observaciones"}},[a("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n                Observaciones\n              ")])])],1)],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",{staticClass:"grey lighten-4"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-left",attrs:{xs6:""}},[a("v-btn",{on:{click:function(t){return e.refresh(null)}}},[e._v("Limpiar")])],1),e._v(" "),a("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[a("v-btn",{on:{click:function(t){return e.close()}}},[e._v("Cancelar")]),e._v(" "),a("v-btn",{attrs:{loading:e.saveLoadingButton,disabled:e.saveLoadingButton,color:"primary"},on:{click:function(t){return t.preventDefault(),e.save(t)},input:function(t){e.loader="saveLoadingButton"}}},[e._v("\n            Guardar\n            "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[e._v("cached")])],1)])],1)],1)],1)],1)],1)},r=[],n={render:i,staticRenderFns:r};t.a=n},680:function(e,t,a){"use strict";function i(e){a(2282)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1242),n=a(2284),o=a(1),s=i,l=o(r.a,n.a,!1,s,"data-v-565f5153",null);t.default=l.exports},748:function(e,t,a){"use strict";function i(e){a(769)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(752),n=a(771),o=a(1),s=i,l=o(r.a,n.a,!1,s,"data-v-410eab20",null);t.default=l.exports},752:function(e,t,a){"use strict";t.a={name:"InputFile",props:{label:{type:String,default:null},prependIcon:{type:String,default:"attach_file"},accept:{type:String,default:null},multiple:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},hint:{type:String,default:""},fileName:{type:String,default:null},value:null},data:function(){return{namesArchivos:null,forceEmpty:!1}},watch:{fileName:function(e){void 0!==e&&(this.namesArchivos=e)},value:function(e){var t=this;"string"==typeof e&&(this.namesArchivos=e),e||(this.namesArchivos=null,this.forceEmpty=!0,setTimeout(function(){t.forceEmpty=!1},100))},namesArchivos:function(e){null===e&&this.$emit("input",null)}},computed:{rules:function(){var e=[],t=this.required?"required":"";t.length&&e.push(t);var a=this.accept?"mimes:"+this.accept:"";return a.length&&e.push(a),e.join("|")}},methods:{validate:function(e){return!!this.namesArchivos||this.$validator.validateAll(e)},reset:function(){this.$validator.reset()},onFilePicked:function(e){var t=e.target.files;if(t.length){for(var a=[],i=0;i<t.length;i++)a.push(t[i].name);this.namesArchivos=a.join(" || "),this.$emit("input",this.multiple?t:t[0])}}}}},753:function(e,t,a){"use strict";t.a={name:"VDatetimePicker",props:{readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},timeData:{type:String,default:""},datetime:{type:String,required:!0},label:{type:String,default:""},max:{type:String,default:""},min:{type:String,default:""},showCurrent:{type:String,default:""}},data:function(){return{dateModel:"",timeModel:"",menu:!1,selectedTab:"calendar"}},watch:{menu:function(e){e&&(this.selectedTab="calendar",this.$refs.timer&&(this.$refs.timer.selectingHour=!0))},timeData:function(e){if(e){var t=e.split(" ")[0];this.dateModel=t;var a=e.split(" ")[1];this.timeModel=a}}},computed:{actualDatetime:function(){return this.dateModel+" "+this.timeModel}},methods:{checkMinutes:function(e){!1===this.$refs.timer.selectingHour&&(this.timeModel=e,this.$refs.timer.selectingHour=!0,this.selectedTab="calendar",this.$emit("input",this.actualDatetime),this.menu=!1)},checkHours:function(e){this.dateModel=e,this.selectedTab="timer",this.$emit("input",this.actualDatetime),this.menu=!1}},created:function(){this.dateModel=this.datetime.split(" ")[0],this.timeModel=this.datetime.split(" ")[1],this.$emit("input",this.actualDatetime)}}},754:function(e,t,a){"use strict";function i(e){a(772)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(753),n=a(774),o=a(1),s=i,l=o(r.a,n.a,!1,s,"data-v-306a942a",null);t.default=l.exports},769:function(e,t,a){var i=a(770);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(456)("5a1f3f0e",i,!0,{})},770:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"InputFile.vue",sourceRoot:""}])},771:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.disabled||e.forceEmpty?e._e():a("input",{directives:[{name:"validate",rawName:"v-validate",value:e.rules,expression:"rules"}],ref:"inputAnexo",attrs:{accept:e.accept,type:"file",multiple:e.multiple,hidden:"",name:e.label+"archivo","data-vv-delay":"500","data-vv-as":e.label},on:{change:function(t){return e.onFilePicked(t)}}}),e._v(" "),a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:{required:e.required},expression:"{required: required}"}],attrs:{rows:"1","auto-grow":"",label:e.label,"prepend-icon":e.prependIcon,readonly:"","error-messages":e.errors.collect(e.label+"archivox").length?e.errors.collect(e.label+"archivox")+".. "+e.hint:e.errors.collect(e.label+"archivo").length?e.errors.collect(e.label+"archivo")+".. "+e.hint:"",hint:e.hint,"persistent-hint":"",clearable:e.clearable,disabled:e.disabled,name:e.label+"archivox","data-vv-as":e.label,required:""},nativeOn:{click:function(t){return e.$refs.inputAnexo.click()}},model:{value:e.namesArchivos,callback:function(t){e.namesArchivos=t},expression:"namesArchivos"}})],1)},r=[],n={render:i,staticRenderFns:r};t.a=n},772:function(e,t,a){var i=a(773);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(456)("46cd2d38",i,!0,{})},773:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,"div.d_flex1>div.v-card[data-v-306a942a]{height:290px;width:290px!important}@media (max-width:959px){.lWidth[data-v-306a942a]{width:290px}}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/general/VDatetimePicker.vue"],names:[],mappings:"AACA,wCACE,aAAc,AACd,qBAAwB,CACzB,AACD,yBACA,yBACI,WAAa,CAChB,CACA",file:"VDatetimePicker.vue",sourcesContent:["\ndiv.d_flex1 > div.v-card[data-v-306a942a] {\n  height: 290px;\n  width: 290px !important;\n}\n@media (max-width: 959px) {\n.lWidth[data-v-306a942a] {\n    width: 290px;\n}\n}\n\n"],sourceRoot:""}])},774:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","nudge-left":1,"full-width":"","max-width":"600px","min-width":"290px"},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:e.label,"prepend-icon":"today",disabled:e.disabled,readonly:e.readonly,value:e.timeData},slot:"activator",model:{value:e.actualDatetime,callback:function(t){e.actualDatetime=t},expression:"actualDatetime"}}),e._v(" "),[a("v-layout",{staticClass:"lWidth",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"d_flex1",attrs:{xs12:"",sm12:"",md6:""}},[a("v-date-picker",{ref:"date",attrs:{locale:"es","no-title":"",scrollable:"",actions:"",readonly:e.readonly,disabled:e.disabled,"show-current":e.showCurrent,max:e.max?e.max.split(" ")[0]:"",min:e.min?e.min.split(" ")[0]:""},on:{input:e.checkHours},model:{value:e.dateModel,callback:function(t){e.dateModel=t},expression:"dateModel"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[a("v-time-picker",{ref:"timer",attrs:{"no-title":"",scrollable:"",readonly:e.readonly,disabled:e.disabled,format:"24hr",min:e.min&&e.dateModel===e.min.split(" ")[0]?e.min.split(" ")[1]:"",max:e.max&&e.dateModel===e.max.split(" ")[0]?e.max.split(" ")[1]:"",actions:""},on:{input:e.checkMinutes},model:{value:e.timeModel,callback:function(t){e.timeModel=t},expression:"timeModel"}})],1)],1)]],2)},r=[],n={render:i,staticRenderFns:r};t.a=n}});
//# sourceMappingURL=32.da7e775771feec7a0e8b.js.map