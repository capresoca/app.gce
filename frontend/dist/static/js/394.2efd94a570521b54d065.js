webpackJsonp([394],{1335:function(e,t,a){"use strict";t.a={name:"TbArea",data:function(){return{dialog:!1,area:null,cencostos:[],dataTable:{nameItemState:"tableAreaTh",route:"talentohumano/areas",makeHeaders:[{text:"# Area",align:"center",sortable:!1,value:"area",classData:"text-xs-center"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"Cetro de costo",align:"left",sortable:!1,value:"centro_costo",component:{template:'\n              <span v-text="value.cencosto ? value.cencosto.descripcion : null"></span>\n            ',props:["value"]}},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]}}},watch:{dialog:function(e){!1===e?this.close():this.getComplementos()}},created:function(){this.formReset()},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("configbasicTHumano")},modalTitle:function(){return(null===this.area.area?"Nuevo ":"Edición de la ")+"Area "+(null===this.area.area?"":this.area.area)}},methods:{getComplementos:function(){var e=this;this.axios.get("talentohumano/complementos").then(function(t){e.cencostos=t.data.data.centroscostos}).catch(function(t){e.$store.commit("SNACK_ERROR_LIST",{expression:" al cargar los complementos.",error:t})})},formReset:function(){this.area={area:null,descripcion:null,centro_costo:null}},resetOptions:function(e){return e.options=[],e.options.push({event:"editar",color:"accent",icon:"fas fa-edit",tooltip:"Edición del registro"}),e.options.push({event:"eliminar",color:"red",icon:"fas fa-trash",tooltip:"Eliminar registro"}),e},editarItem:function(e){this.area=this.clone(e),this.dialog=!this.dialog},close:function(){this.formReset(),this.$validator.reset(),this.dialog=!1},saveArea:function(){var e=this;this.$validator.validateAll().then(function(t){if(t){(e.area.area?e.axios.put("talentohumano/areas/"+e.area.area,e.area):e.axios.post("talentohumano/areas",e.area)).then(function(t){e.$store.commit("reloadTable","tableAreaTh"),e.$store.commit("SNACK_SHOW",{msg:"El area "+t.data.msg,color:"success"}),e.close()}).catch(function(t){e.$store.commit("SNACK_ERROR_LIST",{expression:" al registrar el area. ",error:t}),e.close()})}})},eliminarItem:function(e){var t=this;this.axios.delete("talentohumano/areas/"+e.area).then(function(e){t.$store.commit("reloadTable","tableAreaTh"),t.$store.commit("SNACK_SHOW",{msg:"El area "+e.data.msg,color:"success"}),t.close()}).catch(function(e){t.$store.commit("SNACK_ERROR_LIST",{expression:" al eliminar el area. ",error:e})})}}}},2588:function(e,t,a){"use strict";function o(e){a(2589)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1335),n=a(2591),s=a(1),i=o,c=s(r.a,n.a,!1,i,"data-v-7add6414",null);t.default=c.exports},2589:function(e,t,a){var o=a(2590);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(456)("35f79907",o,!0,{})},2590:function(e,t,a){t=e.exports=a(455)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"TbArea.vue",sourceRoot:""}])},2591:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("form",{ref:"form"},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-3"},[a("span",{staticClass:"headline"},[e._v(e._s(e.modalTitle))])]),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200",expression:"'required|max:200'"}],key:"descripción",attrs:{label:"Descripción",name:"descripción",required:"","error-messages":e.errors.collect("descripción")},model:{value:e.area.descripcion,callback:function(t){e.$set(e.area,"descripcion",t)},expression:"area.descripcion"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.cencostos,"item-value":"centro_costo","item-text":"descripcion",name:"centro de costo",label:"Centro de costo","error-messages":e.errors.collect("centro de costo")},model:{value:e.area.centro_costo,callback:function(t){e.$set(e.area,"centro_costo",t)},expression:"area.centro_costo"}})],1)],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{flat:""},on:{click:e.close}},[e._v("Cancelar")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},domProps:{textContent:e._s(e.area.area?"Actualizar":"Guardar")},on:{click:function(t){return t.preventDefault(),e.saveArea()}}})],1)],1)],1)]),e._v(" "),a("toolbar-list",{attrs:{info:e.infoComponent,title:"Areas",subtitle:"Mantenimiento",btnplus:"",btnplustitle:"Crear Area",btnplustruncate:""},on:{click:function(t){e.dialog=!0}}}),e._v(" "),a("data-table-v2",{on:{resetOption:function(t){return e.resetOptions(t)},editar:function(t){return e.editarItem(t)},eliminar:function(t){return e.eliminarItem(t)}},model:{value:e.dataTable,callback:function(t){e.dataTable=t},expression:"dataTable"}})],1)},r=[],n={render:o,staticRenderFns:r};t.a=n}});
//# sourceMappingURL=394.2efd94a570521b54d065.js.map