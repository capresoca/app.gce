webpackJsonp([232],{1352:function(a,e,t){"use strict";var i=t(249),o=t.n(i),n=t(13),r=t.n(n),c=t(14),s=t.n(c),d=t(7),l=t.n(d),p=t(59),v=t(12),u=t(40),f=t(0),m=t.n(f);e.a={name:"RegistroIncapacidad",components:{InputFile:function(){return t.e(288).then(t.bind(null,748))}},props:["parametros"],data:function(){return{payload:null,alerta:{},checkbox:!1,veralerta:!1,veralertaarchivos:!1,fechasInicio:[],idAportantes:[],identificacionAportantes:[],dataSoporte:{soporte:[]},etapa1:!0,etapa2:!1,mostrarFormularios:!1,dialog:!1,tableLoading:!1,arrayTutela:[],dataDetalles:{detalle:[]},headers:[{text:"",align:"left",sortable:!1,value:""},{text:"Identificación Aportante",align:"left",sortable:!1,value:""},{text:"Aportante",align:"left",sortable:!1,value:""},{text:"Fecha Inicio",align:"left",sortable:!1,value:""},{text:"Fecha Fin",align:"left",sortable:!1,value:""}],headers2:[{text:"Identificación Aportante",align:"left",sortable:!1,value:""},{text:"Aportante",align:"left",sortable:!1,value:""}],headersTablaSoporte:[{text:"Tipo soporte",align:"left",sortable:!1,value:""},{text:"Obligatorio",align:"left",sortable:!1,value:""},{text:"Observación",align:"left",sortable:!1,value:""},{text:"Tipos de archivos",align:"left",sortable:!1,value:""}],tipoIncapacidad:[{value:"2",nombre:"Incapacidad enfermedad general"},{value:"4",nombre:"Incapacidad por accidente de trabajo"},{value:"5",nombre:"Incapacidad por accidente de tránsito"},{value:"7",nombre:"Licencia de maternidad"},{value:"8",nombre:"Licencia de paternidad"},{value:"17",nombre:"Licencia fallecimiento madre"}],tabs:null,menuDateFecha:!1,menuDateFechaParto:!1,menuDateFechaFinTranscripcion:!1,menuDateFechaExpedicionTranscripcion:!1,incapacidad:{},archivo:[],descripcionSoporte:[],mostrar:!0,mostrarDocs:!0,filterTutelas:function(a,e){var t=function(a){return null!=a?a:""},i=t(a.no_tutela),o=t(e);return i.toString().indexOf(o)>-1},buscandoCodigo:!1,stepActual:1,fechaActual:"2018-01-01",tabActive:null,ordenEdit:!1,loadingSubmit:!1,motivosRetiro:[],cargos:[],gradosProfesional:[],fondosDeSalud:[],fondosDeCesantia:[],filterPrestador:function(a,e){var t=function(a){return null!=a?a:""},i=t(a.nombre),o=t(e);return i.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1},filterRegistro:function(a,e){var t=function(a){return null!=a?a:""},i=t(a.codigo),o=t(e);return i.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1},filterDiagnostico:function(a,e){var t=function(a){return null!=a?a:""},i=t(a.descripcion),o=t(e);return i.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1}}},mounted:function(){null!==this.parametros.afiliado&&this.getRegistro(this.parametros.afiliado.id)},created:function(){this.reloadPage()},watch:{"incapacidad.fecha_fin":function(){var a=m()(this.incapacidad.fecha),e=m()(this.incapacidad.fecha_fin);this.incapacidad.dias=e.diff(a,"days")+1},"incapacidad.registro_profesional":function(){for(var a in p.b.getters.complementosIncapacidades.medicosolicitante)if(p.b.getters.complementosIncapacidades.medicosolicitante.hasOwnProperty(a)){var e=p.b.getters.complementosIncapacidades.medicosolicitante[a];e.id===this.incapacidad.registro_profesional&&(this.incapacidad.nombre_profesional=e.descripcion)}}},computed:{complementos:function(){return p.b.getters.complementosTercerosFormComplementarios},complementosIncapacidades:function(){return JSON.parse(l()(p.b.getters.complementosIncapacidades))},computedDateFormattedFecha:function(){return this.formDate(this.incapacidad.fecha)},computedDateFormattedFechaParto:function(){return this.formDate(this.incapacidad.fecha_parto)},computedDateFormattedFechaFinTranscrip:function(){return this.formDate(this.incapacidad.fecha_fin)},computedDateFormattedFechaExpedicion:function(){return this.formDate(this.incapacidad.fecha_expedicion)},complementosTutelas:function(){for(var a=/(\d+)/g,e=this.parametros.afiliado.identificacion.match(a),t=0;t<p.b.getters.complementosTutelasIncapacidad.tutelas.length;t++){var i=p.b.getters.complementosTutelasIncapacidad.tutelas[t];i.identificacion===e.toString()&&this.arrayTutela.push({id:i.id,no_tutela:i.no_tutela})}return this.arrayTutela}},methods:{reloadPage:function(){var a=this;this.tableLoading=!0,this.localLoading=!0,this.incapacidad.consecutivo_afiliado=this.parametros.afiliado.id,this.axios.get("incapacidadafiliadopagador?id="+this.parametros.afiliado.id).then(function(e){a.dataDetalles.detalle=e.data,a.tableLoading=!1,a.localLoading=!1}).catch(function(e){return a.tableLoading=!1,a.localLoading=!1,!1})},addFormData:function(){var a=new FormData;a.append("consecutivo_afiliado",this.incapacidad.consecutivo_afiliado),a.append("tipo",this.incapacidad.tipo),a.append("fecha",this.incapacidad.fecha),a.append("fechas_aportantes",this.incapacidad.fechas_aportantes);for(var e=0;e<this.incapacidad.ids_aportantes.length;e++)a.append("ids_aportantes[]",this.incapacidad.ids_aportantes[e]);for(var t=0;t<this.archivo.length;t++)a.append("archivos[]",this.archivo[t]);for(var i=0;i<this.archivo.length;i++)a.append("descripcionSoporte[]",this.descripcionSoporte[i]);a.append("identificaciones_aportantes",this.incapacidad.identificaciones_aportantes),a.append("nombre_profesional",this.incapacidad.nombre_profesional),a.append("tipoS",this.incapacidad.tipoS),a.append("fecha_incio_transcripcion",this.incapacidad.fecha_incio_transcripcion),a.append("prestador",this.incapacidad.prestador),a.append("registro_profesional",this.incapacidad.registro_profesional),a.append("diagnostico_principal",this.incapacidad.diagnostico_principal),a.append("fecha_fin",this.incapacidad.fecha_fin),a.append("dias",this.incapacidad.dias),a.append("fecha_expedicion",this.incapacidad.fecha_expedicion),a.append("tutela",this.incapacidad.tutela),this.payload=a},closeTable:function(){this.dialog=!1},getRegistro:function(a){},validador:function(a){return this.$validator.validateAll(a).then(function(a){return a})},editarDetalle:function(a,e,t){this.validar(t,a)},agregarFechasInicio:function(a){if(document.getElementById(a.id).checked)this.fechasInicio.push(a.fecha_vinculacion),this.idAportantes.push(a.id),this.identificacionAportantes.push(a.idaportante);else{var e=this.fechasInicio.indexOf(a.fecha_vinculacion),t=this.idAportantes.indexOf(a.id),i=this.identificacionAportantes.indexOf(a.idaportante);e>-1&&t>-1&&i>-1&&(this.fechasInicio.splice(e,1),this.idAportantes.splice(t,1),this.identificacionAportantes.splice(i,1))}},validar:function(a,e,t,i,o){var n=this;return s()(r.a.mark(function e(){var c,s,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.veralerta=!1,n.loadingSubmit=!0,n.incapacidad.fechas_aportantes=t,n.incapacidad.ids_aportantes=i,n.incapacidad.identificaciones_aportantes=o,e.next=7,n.validador("formTipo");case 7:if(!e.sent){e.next=32;break}if(a.fecha){e.next=13;break}n.loadingSubmit=!1,n.$store.commit(v.b,{msg:"Debe registrar información de la fecha de incio",color:"danger"}),e.next=30;break;case 13:if(0!==t.length){e.next=18;break}n.loadingSubmit=!1,n.$store.commit(v.b,{msg:"Debe seleccionar por lo menos una relación laboral",color:"danger"}),e.next=30;break;case 18:c=new Date(a.fecha),s=0;case 20:if(!(s<t.length)){e.next=29;break}if(d=new Date(t[s]),!(c<d)){e.next=26;break}return n.loadingSubmit=!1,n.$store.commit(v.b,{msg:"Fecha Inicio debe ser mayor o igual a las fecha inicio de relación laboral",color:"danger"}),e.abrupt("return");case 26:s++,e.next=20;break;case 29:n.axios.post("getcounter",n.incapacidad).then(function(a){if(n.loadingSubmit=!1,a.data.alertas.length>=1){n.$store.commit(v.b,{msg:"Ya existe una solicitud para esta incapacidad con las mismas fechas.",color:"danger"}),n.veralerta=!0;for(var e=0;e<a.data.alertas.length;e++){var t=a.data.alertas[e].alerta;n.alerta[e]=t}}else n.etapa1=!1,n.etapa2=!0,n.getSoportes(),n.tableLoading=!0,n.localLoading=!0}).catch(function(a){return!1});case 30:e.next=33;break;case 32:n.$store.commit(v.b,{msg:"Los campos requeridos no pueden estar vacios.",color:"danger"});case 33:case"end":return e.stop()}},e,n)}))()},radicar:function(){var a=this;return s()(r.a.mark(function e(){var t,i,o,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a.veralertaarchivos=!1,t=0,i=0;i<a.dataSoporte.soporte.length;i++)o=a.dataSoporte.soporte[i],1===o.sw_obligatorio&&(t=1);if(1!==t||0!==a.archivo.length){e.next=10;break}return a.veralertaarchivos=!0,document.getElementById("tderr").classList.add("tderror"),a.$store.commit(v.b,{msg:"Por favor verifique los archivos de los tipos de soporte.",color:"danger"}),e.abrupt("return");case 10:document.getElementById("tderr").classList.remove("tderror");case 11:return a.loadingSubmit=!0,e.next=14,a.$refs.archivoAdjunto.validate("formRadicar");case 14:return n=e.sent,a.incapacidad.tutela||(a.incapacidad.tutela=""),a.addFormData(),e.next=19,a.validador("formRadicar");case 19:if(e.t0=e.sent,!e.t0){e.next=22;break}e.t0=n;case 22:if(!e.t0){e.next=26;break}a.axios.post("radicar",a.payload).then(function(e){a.loadingSubmit=!1,a.formReset(),a.$store.commit(v.b,{msg:"Incapacidad radicada correctamente.",color:"success"}),a.close()}).catch(function(e){return a.loadingSubmit=!1,a.$store.commit(v.b,{msg:"Hay un error al guardar el registro. "+e.response,color:"danger"}),!1}),e.next=28;break;case 26:a.loadingSubmit=!1,a.$store.commit(v.b,{msg:"Los campos requeridos no pueden estar vacios.",color:"danger"});case 28:case"end":return e.stop()}},e,a)}))()},getSoportes:function(){var a=this;this.axios.get("getsoportes?idtipo="+this.incapacidad.tipo).then(function(e){for(var t=0;t<a.tipoIncapacidad.length;t++){var i=a.tipoIncapacidad[t];a.incapacidad.tipo===i.value&&(a.incapacidad.tipoS=i.nombre)}a.incapacidad.fecha_incio_transcripcion=m()(a.incapacidad.fecha).format("MM/DD/YYYY"),a.dataSoporte.soporte=e.data,console.log(a.dataSoporte),a.tableLoading=!1,a.localLoading=!1,a.mostrarFormularios=!0}).catch(function(e){return a.tableLoading=!1,a.localLoading=!1,!1})},formReset:function(){this.mostrarTablaEducacion=!1,this.empleadoID=null,this.incapacidad.tutela=null,this.incapacidad.tipo=null,this.incapacidad.tutela=null,this.incapacidad.fecha=null,this.incapacidad.fecha_parto=null,this.incapacidad.prestador=null,this.incapacidad.registro_profesional=null,this.incapacidad.nombre_profesional=null,this.incapacidad.cargo=null,this.incapacidad.diagnostico_principal=null,this.incapacidad.tipoS=null,this.incapacidad.fecha_incio_transcripcion=null,this.incapacidad.fecha_fin=null,this.incapacidad.fecha_expedicion=null,this.incapacidad.dias=null,this.incapacidad.fecha_inicio_liquida=null,this.incapacidad.fecha_fin_liquida=null,this.payload=null},close:function(){this.formReset(),this.$validator.reset(),this.$store.dispatch(u.c,{contexto:this,itemId:this.parametros.tabOrigin})},anterior:function(){this.mostrarFormularios=!1,this.dataSoporte={soporte:[]},this.archivo=[],this.etapa1=!0,this.etapa2=!1},formDate:function(a){if(!a)return null;var e=a.split("-"),t=o()(e,3);return t[0]+"/"+t[1]+"/"+t[2]},gestionarArchivos:function(a,e,t){this.archivo[e]=a,this.descripcionSoporte[e]=t,console.log(e),console.log("array archivos",this.archivo)}},filters:{dicotomia:function(a){return 1===a?"Si":"No"},tipoincapacidad:function(a,e){for(var t=0;t<e.length;t++){var i=e[t];if(a===i.value)return i.nombre}}}}},2648:function(a,e,t){var i=t(2649);"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);t(456)("f6e35064",i,!0,{})},2649:function(a,e,t){e=a.exports=t(455)(!0),e.push([a.i,".tipo[data-v-e1fb71b6]{height:10px;padding:0}.no-padding[data-v-e1fb71b6]{padding:0}.tderror[data-v-e1fb71b6]{background-color:#f88d76}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/administrativo/TalentoHumano/Empleado/GestionIncapacidad.vue"],names:[],mappings:"AACA,uBACE,YAAa,AACb,SAAW,CACZ,AACD,6BACE,SAAW,CACZ,AACD,0BACE,wBAA0B,CAC3B",file:"GestionIncapacidad.vue",sourcesContent:["\n.tipo[data-v-e1fb71b6] {\n  height: 10px;\n  padding: 0;\n}\n.no-padding[data-v-e1fb71b6] {\n  padding: 0;\n}\n.tderror[data-v-e1fb71b6] {\n  background-color: #f88d76;\n}\n"],sourceRoot:""}])},2650:function(a,e,t){"use strict";var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("v-card",{directives:[{name:"show",rawName:"v-show",value:a.etapa1,expression:"etapa1"}],ref:"loaderRef"},[t("v-toolbar",{staticClass:"grey lighten-3 elevation-0 toolbar--dense"},[t("v-toolbar-title",[a._v(" "+a._s(a.ordenEdit?"Edicion":"Gestión de incapacidad")+" ")])],1),a._v(" "),t("v-card-text",{staticClass:"no-padding"},[t("v-container",{attrs:{fluid:"","grid-list-xl":""}},[t("v-card",[t("v-layout",[t("v-flex",[t("div",{staticClass:"text-xs-center"},[t("h1",[a._v(a._s(a.parametros.afiliado.emoticon_nombre_completo))]),a._v(" "),t("h4",[a._v(a._s(a.parametros.afiliado.identificacion))])])])],1),a._v(" "),t("v-card",[t("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[t("span",{staticClass:"title"},[a._v("Solicitud")])]),a._v(" "),t("v-form",{attrs:{"data-vv-scope":"formTipo"}},[t("v-container",{attrs:{fluid:"","grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"item-text":"nombre","item-value":"value",label:"Tipo incapacidad",items:a.tipoIncapacidad,name:"tipo","error-messages":a.errors.collect("tipo")},model:{value:a.incapacidad.tipo,callback:function(e){a.$set(a.incapacidad,"tipo",e)},expression:"incapacidad.tipo"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{attrs:{label:"Tutela",items:a.complementosTutelas,"item-value":"id","item-text":"no_tutela",filter:a.filterTutelas},scopedSlots:a._u([{key:"item",fn:function(e){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:a._s(e.item.no_tutela)}})],1)]]}}]),model:{value:a.incapacidad.tutela,callback:function(e){a.$set(a.incapacidad,"tutela",e)},expression:"incapacidad.tutela"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-menu",{ref:"menuDateFecha",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:a.menuDateFecha,callback:function(e){a.menuDateFecha=e},expression:"menuDateFecha"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],ref:"prueba",attrs:{slot:"activator",label:"Fecha inicio","prepend-icon":"event",readonly:"",name:"fecha","error-messages":a.errors.collect("fecha")},slot:"activator",model:{value:a.computedDateFormattedFecha,callback:function(e){a.computedDateFormattedFecha=e},expression:"computedDateFormattedFecha"}}),a._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(e){a.menuDateFecha=!1},change:function(){var e=a.$validator.errors.items.findIndex(function(a){return"fecha"===a.field});a.$validator.errors.items.splice(-1!==e?e:0,-1!==e?1:0)}},model:{value:a.incapacidad.fecha,callback:function(e){a.$set(a.incapacidad,"fecha",e)},expression:"incapacidad.fecha"}})],1)],1),a._v(" "),t("v-flex",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{xs12:""}},[t("v-menu",{ref:"menuDateFechaParto",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:a.menuDateFechaParto,callback:function(e){a.menuDateFechaParto=e},expression:"menuDateFechaParto"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"date_format:YYYY/MM/DD",expression:"'date_format:YYYY/MM/DD'"}],ref:"prueba",attrs:{slot:"activator",label:"Fecha parto","prepend-icon":"event",readonly:"",name:"fecha","error-messages":a.errors.collect("fecha")},slot:"activator",model:{value:a.computedDateFormattedFechaParto,callback:function(e){a.computedDateFormattedFechaParto=e},expression:"computedDateFormattedFechaParto"}}),a._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(e){a.menuDateFechaParto=!1},change:function(){var e=a.$validator.errors.items.findIndex(function(a){return"fecha"===a.field});a.$validator.errors.items.splice(-1!==e?e:0,-1!==e?1:0)}},model:{value:a.incapacidad.fecha_parto,callback:function(e){a.$set(a.incapacidad,"fecha_parto",e)},expression:"incapacidad.fecha_parto"}})],1)],1)],1)],1)],1)],1)],1)],1),a._v(" "),t("v-card",{attrs:{flat:""}},[t("v-card",[t("v-card-text",[t("v-toolbar",{attrs:{dense:"",short:""}},[a._v("\n              Relaciones Laborales\n            ")]),a._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headers,items:a.dataDetalles.detalle,loading:a.tableLoading,"total-items":a.dataDetalles.length,"hide-actions":""},scopedSlots:a._u([{key:"items",fn:function(e){return[t("td",[t("v-flex",[t("v-layout",{attrs:{column:"","justify-space-between":""}},[t("v-checkbox",{staticStyle:{margin:"20% 0 0 20%"},attrs:{id:""+e.item.id},nativeOn:{click:function(t){return a.agregarFechasInicio(e.item)}}})],1)],1)],1),a._v(" "),t("td",[a._v(a._s(e.item.idaportante))]),a._v(" "),t("td",[a._v(a._s(e.item.aportante))]),a._v(" "),t("td",[a._v(a._s(e.item.fecha_vinculacion))]),a._v(" "),t("td",[e.item.fecha_fin_vinculacion?t("span",[a._v(a._s(e.item.fecha_fin_vinculacion))]):t("span",[a._v(" N/A ")])])]}}])},[a._v(" "),t("template",{slot:"no-data"},[a.tableLoading?t("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[a._v("\n                  Estamos cargando los registros. "),t("v-icon",[a._v("sentiment_satisfied_alt")])],1):t("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[a._v("\n                  No tenemos registros para mostrar. "),t("v-icon",[a._v("sentiment_very_dissatisfied")])],1)],1)],2),a._v(" "),a._l(a.alerta,function(e){return t("span",{key:e.id},[t("v-alert",{directives:[{name:"show",rawName:"v-show",value:a.veralerta,expression:"veralerta"}],attrs:{value:!0,color:"error",icon:"warning"}},[t("span",[a._v(a._s(e))]),a._v(" "),t("v-icon",{on:{click:function(e){a.veralerta=!1}}},[a._v("highlight_off")])],1)],1)})],2)],1)],1)],1),a._v(" "),t("v-divider"),a._v(" "),t("v-card-actions",{staticClass:"grey lighten-4"},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[t("v-btn",{on:{click:function(e){return a.close()}}},[a._v("Cancelar")]),a._v(" "),t("v-btn",{attrs:{color:"primary",loading:a.loadingSubmit},on:{click:function(e){return e.preventDefault(),a.validar(a.incapacidad,a.dataDetalles.detalle,a.fechasInicio,a.idAportantes,a.identificacionAportantes)}}},[a._v("Validar")])],1)],1)],1)],1),a._v(" "),t("v-card",{directives:[{name:"show",rawName:"v-show",value:a.etapa2,expression:"etapa2"}],ref:"loaderRef"},[t("v-toolbar",{staticClass:"grey lighten-3 elevation-0 toolbar--dense"},[t("v-toolbar-title",[a._v(" "+a._s(a.ordenEdit?"Edicion":"Gestión de incapacidad")+" ")])],1),a._v(" "),t("v-container",{attrs:{fluid:"","grid-list-xl":""}},[t("v-layout",[t("v-flex",[t("div",{staticClass:"text-xs-center"},[t("h1",[a._v(a._s(a.parametros.afiliado.emoticon_nombre_completo))]),a._v(" "),t("h4",[a._v(a._s(a.parametros.afiliado.identificacion))])])])],1),a._v(" "),t("v-container",{attrs:{flat:""}},[t("v-toolbar",{attrs:{dense:"",short:""}},[a._v("\n            Soportes "+a._s(a._f("tipoincapacidad")(a.incapacidad.tipo,a.tipoIncapacidad))+"\n        ")]),a._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headersTablaSoporte,items:a.dataSoporte.soporte,loading:a.tableLoading,"total-items":a.dataSoporte.soporte.length,"hide-actions":""},scopedSlots:a._u([{key:"items",fn:function(e){return[t("td",[a._v(a._s(e.item.descripcion))]),a._v(" "),t("td",[a._v(a._s(a._f("dicotomia")(e.item.sw_obligatorio)))]),a._v(" "),t("td",[a._v(a._s(e.item.observacion))]),a._v(" "),t("td",{directives:[{name:"show",rawName:"v-show",value:1==e.item.sw_obligatorio,expression:"props.item.sw_obligatorio == 1"}],attrs:{id:"tderr"}},[t("input-file",{staticClass:"mb-3",attrs:{label:"Adjuntar archivo","file-name":a.incapacidad.archivo?a.incapacidad.archivo.nombre:null,accept:"",hint:"","prepend-icon":"description"},nativeOn:{change:function(t){return a.gestionarArchivos(a.incapacidad.archivo,e.index,e.item.descripcion)}},model:{value:a.incapacidad.archivo,callback:function(e){a.$set(a.incapacidad,"archivo",e)},expression:"incapacidad.archivo"}})],1),a._v(" "),t("td",{directives:[{name:"show",rawName:"v-show",value:2==e.item.sw_obligatorio,expression:"props.item.sw_obligatorio == 2"}]},[t("input-file",{ref:"archivoAdjunto",staticClass:"mb-3",attrs:{label:"Adjuntar archivo 4ddsfs","file-name":a.incapacidad.archivo?a.incapacidad.archivo.nombre:null,accept:"",hint:"","prepend-icon":"description"},nativeOn:{change:function(t){return a.gestionarArchivos(a.incapacidad.archivo,e.index,e.item.descripcion)}},model:{value:a.incapacidad.archivo,callback:function(e){a.$set(a.incapacidad,"archivo",e)},expression:"incapacidad.archivo"}})],1)]}}])},[a._v(" "),t("template",{slot:"no-data"},[a.tableLoading?t("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[a._v("\n              Estamos cargando los registros. "),t("v-icon",[a._v("sentiment_satisfied_alt")])],1):t("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[a._v("\n              No tenemos registros para mostrar. "),t("v-icon",[a._v("sentiment_very_dissatisfied")])],1)],1)],2),a._v(" "),t("v-alert",{directives:[{name:"show",rawName:"v-show",value:a.veralertaarchivos,expression:"veralertaarchivos"}],ref:"alertarchivos",attrs:{value:!0,color:"error",icon:"warning"}},[a._v("\n          Por favor cargue los archivos que sean obligatorios "),t("v-icon",{on:{click:function(e){a.veralertaarchivos=!1}}},[a._v("highlight_off")])],1)],1),a._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:a.mostrarFormularios,expression:"mostrarFormularios"}]},[t("v-container",[t("v-toolbar",{attrs:{dense:"",short:""}},[a._v("\n            Relaciones Laborales\n          ")]),a._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headers2,items:a.dataDetalles.detalle,loading:a.tableLoading,"total-items":a.dataDetalles.length,"hide-actions":""},scopedSlots:a._u([{key:"items",fn:function(e){return[t("td",[a._v(a._s(e.item.idaportante))]),a._v(" "),t("td",[a._v(a._s(e.item.aportante))])]}}])},[a._v(" "),t("template",{slot:"no-data"},[a.tableLoading?t("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[a._v("\n                Estamos cargando los registros. "),t("v-icon",[a._v("sentiment_satisfied_alt")])],1):t("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[a._v("\n                No tenemos registros para mostrar. "),t("v-icon",[a._v("sentiment_very_dissatisfied")])],1)],1)],2)],1)],1),a._v(" "),t("v-layout",{directives:[{name:"show",rawName:"v-show",value:a.mostrarFormularios,expression:"mostrarFormularios"}],attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:"",sm6:"",align:"center"}},[t("v-form",{attrs:{"data-vv-scope":"formRadicar"}},[t("v-toolbar",{attrs:{dense:"",short:""}},[a._v("\n            Consulta de Salud\n          ")]),a._v(" "),t("v-card",[t("v-card-text",[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Prestador atiende",items:a.complementosIncapacidades.entidades,"item-value":"id","item-text":"nombre",name:"prestador atiende",required:"","error-messages":a.errors.collect("prestador atiende"),filter:a.filterPrestador},scopedSlots:a._u([{key:"item",fn:function(e){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:a._s(e.item.nombre)}})],1)]]}}]),model:{value:a.incapacidad.prestador,callback:function(e){a.$set(a.incapacidad,"prestador",e)},expression:"incapacidad.prestador"}}),a._v(" "),t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Registro Profesional",items:a.complementosIncapacidades.medicosolicitante,"item-value":"id","item-text":"codigo",name:"registro profesional",required:"","error-messages":a.errors.collect("registro profesional"),filter:a.filterRegistro},scopedSlots:a._u([{key:"item",fn:function(e){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:a._s(e.item.codigo)}})],1)]]}}]),model:{value:a.incapacidad.registro_profesional,callback:function(e){a.$set(a.incapacidad,"registro_profesional",e)},expression:"incapacidad.registro_profesional"}}),a._v(" "),t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],key:"nombre profesional",attrs:{label:"Nombre Profesional",name:"nombre profesional","error-messages":a.errors.collect("nombre profesional"),readonly:""},model:{value:a.incapacidad.nombre_profesional,callback:function(e){a.$set(a.incapacidad,"nombre_profesional",e)},expression:"incapacidad.nombre_profesional"}}),a._v(" "),t("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"}],key:"cargo",attrs:{label:"Cargo o Actividad",name:"cargo","error-messages":a.errors.collect("cargo")},model:{value:a.incapacidad.cargo,callback:function(e){a.$set(a.incapacidad,"cargo",e)},expression:"incapacidad.cargo"}}),a._v(" "),t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Diagnóstico Principal",items:a.complementosIncapacidades.cie10,"item-value":"id","item-text":"descripcion",name:"diagnóstico principal",required:"","error-messages":a.errors.collect("diagnóstico principal"),filter:a.filterDiagnostico},scopedSlots:a._u([{key:"item",fn:function(e){return[[t("v-list-tile-content",[t("v-list-tile-title",{domProps:{innerHTML:a._s(e.item.descripcion)}})],1)]]}}]),model:{value:a.incapacidad.diagnostico_principal,callback:function(e){a.$set(a.incapacidad,"diagnostico_principal",e)},expression:"incapacidad.diagnostico_principal"}})],1)],1)],1)],1)],1)],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm6:""}},[t("v-form",{attrs:{"data-vv-scope":"formRadicar"}},[t("v-toolbar",{attrs:{dense:"",short:""}},[a._v("\n            Trasncripción Incapacidad\n          ")]),a._v(" "),t("v-card",[t("v-card-text",[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{attrs:{label:"Tipo Incapacidad",readonly:""},model:{value:a.incapacidad.tipoS,callback:function(e){a.$set(a.incapacidad,"tipoS",e)},expression:"incapacidad.tipoS"}}),a._v(" "),t("v-text-field",{attrs:{label:"Fecha Inicio",readonly:""},model:{value:a.incapacidad.fecha_incio_transcripcion,callback:function(e){a.$set(a.incapacidad,"fecha_incio_transcripcion",e)},expression:"incapacidad.fecha_incio_transcripcion"}}),a._v(" "),t("v-menu",{ref:"menuDateFechaFinTranscripcion",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:a.menuDateFechaFinTranscripcion,callback:function(e){a.menuDateFechaFinTranscripcion=e},expression:"menuDateFechaFinTranscripcion"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],ref:"prueba",attrs:{slot:"activator",label:"Fecha Fin","prepend-icon":"event",readonly:"",name:"fecha","error-messages":a.errors.collect("fecha")},slot:"activator",model:{value:a.computedDateFormattedFechaFinTranscrip,callback:function(e){a.computedDateFormattedFechaFinTranscrip=e},expression:"computedDateFormattedFechaFinTranscrip"}}),a._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(e){a.menuDateFechaFinTranscripcion=!1},change:function(){var e=a.$validator.errors.items.findIndex(function(a){return"fecha"===a.field});a.$validator.errors.items.splice(-1!==e?e:0,-1!==e?1:0)}},model:{value:a.incapacidad.fecha_fin,callback:function(e){a.$set(a.incapacidad,"fecha_fin",e)},expression:"incapacidad.fecha_fin"}})],1),a._v(" "),t("v-menu",{ref:"menuDateFechaExpedicionTranscripcion",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:a.menuDateFechaExpedicionTranscripcion,callback:function(e){a.menuDateFechaExpedicionTranscripcion=e},expression:"menuDateFechaExpedicionTranscripcion"}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],ref:"prueba",attrs:{slot:"activator",label:"Fecha Expedición","prepend-icon":"event",readonly:"",name:"fecha","error-messages":a.errors.collect("fecha")},slot:"activator",model:{value:a.computedDateFormattedFechaExpedicion,callback:function(e){a.computedDateFormattedFechaExpedicion=e},expression:"computedDateFormattedFechaExpedicion"}}),a._v(" "),t("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(e){a.menuDateFechaExpedicionTranscripcion=!1},change:function(){var e=a.$validator.errors.items.findIndex(function(a){return"fecha"===a.field});a.$validator.errors.items.splice(-1!==e?e:0,-1!==e?1:0)}},model:{value:a.incapacidad.fecha_expedicion,callback:function(e){a.$set(a.incapacidad,"fecha_expedicion",e)},expression:"incapacidad.fecha_expedicion"}})],1),a._v(" "),t("v-text-field",{attrs:{label:"Número días incapacidad",readonly:""},model:{value:a.incapacidad.dias,callback:function(e){a.$set(a.incapacidad,"dias",e)},expression:"incapacidad.dias"}}),a._v(" "),t("v-text-field",{attrs:{label:"Fecha Inicio Liquida",readonly:""},model:{value:a.incapacidad.fecha_inicio_liquida,callback:function(e){a.$set(a.incapacidad,"fecha_inicio_liquida",e)},expression:"incapacidad.fecha_inicio_liquida"}}),a._v(" "),t("v-text-field",{attrs:{label:"Fecha Fin Liquida",readonly:""},model:{value:a.incapacidad.fecha_fin_liquida,callback:function(e){a.$set(a.incapacidad,"fecha_fin_liquida",e)},expression:"incapacidad.fecha_fin_liquida"}}),a._v(" "),t("v-text-field",{attrs:{label:"Días Liquida",readonly:""}})],1)],1)],1)],1)],1)],1)],1)],1),a._v(" "),t("v-card-actions",{staticClass:"grey lighten-4"},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[t("v-btn",{on:{click:function(e){return a.anterior()}}},[t("v-icon",{attrs:{left:""}},[a._v("reply")]),a._v("Anterior")],1),a._v(" "),t("v-btn",{attrs:{color:"primary",loading:a.loadingSubmit},on:{click:function(e){e.preventDefault(),a.radicar()}}},[a._v("Radicar")])],1)],1)],1)],1)],1)},o=[],n={render:i,staticRenderFns:o};e.a=n},727:function(a,e,t){"use strict";function i(a){t(2648)}Object.defineProperty(e,"__esModule",{value:!0});var o=t(1352),n=t(2650),r=t(1),c=i,s=r(o.a,n.a,!1,c,"data-v-e1fb71b6",null);e.default=s.exports}});
//# sourceMappingURL=232.9e2fc0bf250bbbfbfbb5.js.map