webpackJsonp([181],{1573:function(t,a,e){var o=e(1574);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(456)("36618a1a",o,!0,{})},1574:function(t,a,e){a=t.exports=e(455)(!0),a.push([t.i,".custom-loader[data-v-8509fc4a]{-webkit-animation:loader-data-v-8509fc4a 1s infinite;animation:loader-data-v-8509fc4a 1s infinite;display:-webkit-box;display:-ms-flexbox;display:flex}@-webkit-keyframes loader-data-v-8509fc4a{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loader-data-v-8509fc4a{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/administrativo/pagos/Anticipos.vue"],names:[],mappings:"AACA,gCACE,qDAAsD,AAC9C,6CAA8C,AACtD,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,0CACA,GACI,4BAA6B,AACrB,mBAAqB,CAChC,AACD,GACI,gCAAkC,AAC1B,uBAA0B,CACrC,CACA,AACD,kCACA,GACI,4BAA6B,AACrB,mBAAqB,CAChC,AACD,GACI,gCAAkC,AAC1B,uBAA0B,CACrC,CACA",file:"Anticipos.vue",sourcesContent:["\n.custom-loader[data-v-8509fc4a] {\n  -webkit-animation: loader-data-v-8509fc4a 1s infinite;\n          animation: loader-data-v-8509fc4a 1s infinite;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n@-webkit-keyframes loader-data-v-8509fc4a {\nfrom {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n@keyframes loader-data-v-8509fc4a {\nfrom {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n}\nto {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n}\n}\n"],sourceRoot:""}])},1575:function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-card",[e("toolbar-list",{attrs:{info:t.infoComponent,title:"Anticipos",subtitle:"Lectura y gestión"}}),t._v(" "),e("loading",{model:{value:t.tableLoading,callback:function(a){t.tableLoading=a},expression:"tableLoading"}}),t._v(" "),e("v-container",{attrs:{fluid:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"text-xs-right",attrs:{xs1:"",sm3:"",md6:""}},[e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"accent"},on:{click:t.reloadPage},slot:"activator"},[e("v-icon",[t._v("cached")])],1),t._v(" "),e("span",[t._v("Actualizar registros")])],1)],1),t._v(" "),e("v-flex",{attrs:{xs12:"",sm3:"",md2:""}},[e("v-select",{attrs:{label:"Registros por página",items:t.items_page,"item-text":"text","item-value":"value"},model:{value:t.pagination.per_page,callback:function(a){t.$set(t.pagination,"per_page",a)},expression:"pagination.per_page"}})],1),t._v(" "),e("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[e("v-text-field",{attrs:{"append-icon":"search",label:"Buscar"},on:{input:t.buscar},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)],1),t._v(" "),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.anticipos,loading:t.tableLoading,expand:t.expand,pagination:t.pagination,"total-items":t.anticipos.length,search:t.search,"hide-actions":""},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{on:{click:function(t){a.expanded=!a.expanded}}},[e("td",[t._v(t._s(a.item.consecutivo))]),t._v(" "),e("td",[t._v(t._s(a.item.tercero.nombre_completo))]),t._v(" "),e("td",[t._v(t._s(a.item.tercero.identificacion))]),t._v(" "),e("td",[e("span",{domProps:{innerHTML:t._s(a.item.cuenta.codigo_nombre)}})]),t._v(" "),e("td",[t._v(t._s(a.item.fecha_documento))]),t._v(" "),e("td",[t._v(t._s(a.item.valor_formateado))]),t._v(" "),e("td",[t._v(t._s(a.item.origen))]),t._v(" "),e("td",[t._v(t._s(a.item.saldo_incial.consecutivo))]),t._v(" "),e("td",[e("v-speed-dial",{attrs:{direction:"left","open-on-hover":"",transition:"slide-x-transition"},model:{value:a.item.show,callback:function(e){t.$set(a.item,"show",e)},expression:"props.item.show"}},[e("v-btn",{attrs:{slot:"activator",color:"blue darken-2",dark:"",fab:"",small:""},slot:"activator",model:{value:a.item.show,callback:function(e){t.$set(a.item,"show",e)},expression:"props.item.show"}},[e("v-icon",[t._v("chevron_left")]),t._v(" "),e("v-icon",[t._v("close")])],1),t._v(" "),e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(e){t.$store.commit("NAV_ADD_ITEM",{ruta:"cruceAnticipos",titulo:"Cruce anticipos",parametros:{entidad:a.item,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}},slot:"activator"},[e("v-icon",{attrs:{color:"accent"}},[t._v("call_split")])],1),t._v(" "),e("span",[t._v("Cruzar anticipos")])],1),t._v(" "),e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(e){return t.descargarPdf(a.item.id)}},slot:"activator"},[e("v-icon",{attrs:{color:"accent"}},[t._v("far fa-file-pdf")])],1),t._v(" "),e("span",[t._v("Abrir PDF")])],1)],1)],1)])]}},{key:"expand",fn:function(a){return[e("v-card",[e("v-subheader",[t._v("Objeto contractual:")]),t._v(" "),e("v-card-text",{staticClass:"pt-0 pb-1",domProps:{innerHTML:t._s("<h2>Funciona</h2>")}})],1)]}}])},[t._v(" "),t._v(" "),e("template",{slot:"no-data"},[t.tableLoading?e("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[t._v("\n            Estamos cargando los registros. "),e("v-icon",[t._v("sentiment_satisfied_alt")])],1):e("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n            Lo sentimos, no tenemos registros para mostrar. "),e("v-icon",[t._v("sentiment_very_dissatisfied")])],1)],1),t._v(" "),e("template",{slot:"footer"},[e("td",{staticClass:"text-xs-center",attrs:{colspan:"100%"}},[e("v-pagination",{attrs:{"total-visible":7,length:t.pagination.last_page},on:{input:t.reloadPage},model:{value:t.pagination.current_page,callback:function(a){t.$set(t.pagination,"current_page",a)},expression:"pagination.current_page"}})],1)])],2)],1)],1)],1)},n=[],i={render:o,staticRenderFns:n};a.a=i},505:function(t,a,e){"use strict";function o(t){e(1573)}Object.defineProperty(a,"__esModule",{value:!0});var n=e(990),i=e(1575),r=e(1),s=o,l=r(n.a,i.a,!1,s,"data-v-8509fc4a",null);a.default=l.exports},990:function(t,a,e){"use strict";var o=e(12),n=e(58);a.a={name:"Anticipos",components:{ToolbarList:function(){return new Promise(function(t){t()}).then(e.bind(null,247))},Loading:n.default},data:function(){return{anticipos:[],search:"",expand:!1,loadingPdf:!1,idSeleccionado:null,loadingSubmit:!1,tableLoading:!1,items_page:[{text:15,value:15},{text:50,value:50},{text:100,value:100}],pagination:{per_page:15,current_page:1},headers:[{text:"Consecutivo",align:"left",sortable:!1,value:"consecutivo"},{text:"Razon social",align:"left",sortable:!1,value:"razon_social"},{text:"Identificacion",align:"left",sortable:!1,value:"identificacion"},{text:"Cuenta",align:"left",sortable:!1,value:"cuenta"},{text:"Fecha",align:"left",sortable:!1,value:"valor"},{text:"Valor",align:"left",sortable:!1,value:"valor"},{text:"Origen",align:"left",sortable:!1,value:"origen"},{text:"Saldo/Comprobante",align:"left",sortable:!1,value:"saldo"},{text:"Opciones",align:"left",sortable:!1,value:"id"}]}},created:function(){this.reloadPage()},watch:{"pagination.per_page":function(t){this.pagination.current_page=1,this.reloadPage()}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("anticipos")},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}},methods:{reloadPage:function(){var t=this;this.tableLoading=!0,this.axios.get("pg_anticipos?per_page="+this.pagination.per_page+"&page="+this.pagination.current_page+"&search=%25"+this.search+"%25").then(function(a){a.data.meta.per_page=t.items_page.find(function(t){return t.value===parseInt(a.data.meta.per_page)})?parseInt(a.data.meta.per_page):-1,t.pagination=a.data.meta,t.anticipos=a.data.data,t.tableLoading=!1}).catch(function(a){return t.tableLoading=!1,t.$store.commit(o.a,{expression:" al hacer la busqueda de registros. ",error:a}),!1})},buscar:window.lodash.debounce(function(){this.pagination.current_page=1,this.reloadPage()},500),descargarPdf:function(t){var a=this;this.loadingPdf=!0,this.axios.get("firmar-ruta?nombre_ruta=anticipo-pdf&id="+t).then(function(t){window.open(t.data),a.loadingPdf=!1,a.loader=!1}).catch(function(t){a.loadingPdf=!1,a.loader=!1,a.$store.commit(o.b,{msg:"Error al generar el archivo. "+t,color:"danger"})})}}}}});
//# sourceMappingURL=181.8e06382a5f853b40244c.js.map