webpackJsonp([262],{1159:function(e,t,o){"use strict";var r=o(13),i=o.n(r),a=o(14),s=o.n(a),d=o(40),c=o(248),n=o(12);t.a={name:"RegistroProducto",props:["parametros"],components:{Postulador:function(){return o.e(287).then(o.bind(null,747))}},data:function(){return{grupos:[],subGrupos:[],unidadesDeMedida:[],loadingSubmit:!1,dialogSave:!1,dialogCodigo:!1,buscandoCodigo:!1,ordenEdit:!1,pickerFechaIngreso:!1,param:{},producto:{id:null,tercero:{nombre_completo:"",identificacion_completa:""}},complementos:{estado:["Activo","Inactivo"]}}},mounted:function(){null!==this.parametros.entidad&&this.getRegistro(this.parametros.entidad.id),this.$validator.localize("es"),this.getGrupos(),this.getSubGrupos(),this.getUnidadesDeMedida()},methods:{getGrupos:function(){var e=this;this.axios.get("in_grupos").then(function(t){""!==t.data&&(e.grupos=t.data.data)}).catch(function(t){e.$store.commit(n.b,{msg:"Hay un error al traer los registros. "+t.response,color:"danger"})})},getSubGrupos:function(){var e=this;this.axios.get("in_subgrupos").then(function(t){""!==t.data&&(e.subGrupos=t.data.data)}).catch(function(t){e.$store.commit(n.b,{msg:"Hay un error al traer los registros. "+t.response,color:"danger"})})},getUnidadesDeMedida:function(){var e=this;this.axios.get("in_unidades_medida").then(function(t){""!==t.data&&(e.unidadesDeMedida=t.data.data)}).catch(function(t){e.$store.commit(n.b,{msg:"Hay un error al traer los registros. "+t.response,color:"danger"})})},validador:function(e){return this.$validator.validateAll(e).then(function(e){return e})},submit:function(){var e=this;return s()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validador("formProducto");case 2:if(!t.sent){t.next=7;break}e.loadingSubmit=!0,e.producto.id?e.axios.put("in_productos/"+e.producto.id,e.producto).then(function(t){e.$store.commit(n.b,{msg:t.data.message,color:"success"}),e.$store.dispatch(d.c,{contexto:e,itemId:e.parametros.tabOrigin}),e.$store.commit(c._11,{item:t.data.data,estado:"editar",key:e.parametros.key})}).catch(function(t){e.$store.commit(n.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}):e.axios.post("in_productos",e.producto).then(function(t){e.$store.commit(n.b,{msg:"El Producto se creo correctamente",color:"success"}),e.$store.dispatch(d.c,{contexto:e,itemId:e.parametros.tabOrigin}),e.$store.commit(c._11,{item:t.data.data,estado:"crear",key:e.parametros.key})}).catch(function(t){e.$store.commit(n.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}),t.next=8;break;case 7:e.$store.commit(n.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 8:case"end":return t.stop()}},t,e)}))()},getRegistro:function(e){var t=this,o=this.$loading.show({container:this.$refs.loaderRef.$el});this.axios.get("in_productos/"+e).then(function(e){e.data.exists&&t.edit(e.data.data),o.hide()}).catch(function(e){o.hide(),t.$store.commit(n.a,{expression:" al traer el Producto. ",error:e})})},edit:function(e){this.ordenEdit=!0,this.producto=e},editarByCodigo:function(){this.dialogCodigo=!1,this.ordenEdit=!0},cerrarByCodigo:function(){this.formReset(),this.dialogCodigo=!1,this.ordenEdit=!1},formReset:function(){this.dialogCodigo=!1,this.ordenEdit=!1,this.producto={}},terceroSeleccionado:function(e){null==this.producto.id&&null!=e&&(this.producto.tercero=e,this.producto.gn_tercero_id=e.id,this.producto.nombre=e.razon_social)}}}},2076:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",{ref:"loaderRef"},[e.ordenEdit?o("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n      Editar Producto\n    ")]):o("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n      Registrar Producto\n    ")]),e._v(" "),o("v-card-text",[o("v-form",{attrs:{"data-vv-scope":"formProducto"}},[o("v-container",{attrs:{fluid:"","grid-list-xl":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:"",md4:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:16",expression:"'required|max:16'"}],key:"codigo",attrs:{label:"C贸digo",name:"Codigo","prepend-icon":"subtitles","error-messages":e.errors.collect("Codigo"),required:""},model:{value:e.producto.codigo,callback:function(t){e.$set(e.producto,"codigo",t)},expression:"producto.codigo"}})],1)],1),e._v(" "),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:"",md10:"",lg10:""}},[o("v-textarea",{attrs:{outline:"",name:"descripcion",label:"Descripcion del producto"},model:{value:e.producto.descripcion,callback:function(t){e.$set(e.producto,"descripcion",t)},expression:"producto.descripcion"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Grupo",items:e.grupos,"item-value":"id","item-text":"nombre",name:"grupos","persistent-hint":"","prepend-icon":"collections_bookmark","no-data-text":"No existen datos",required:"","error-messages":e.errors.collect("grupos"),clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){return[[o("v-list-tile-content",[o("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.nombre)}}),e._v(" "),o("v-list-tile-sub-title",{domProps:{innerHTML:e._s("C贸digo: "+t.item.codigo)}})],1)]]}}]),model:{value:e.producto.in_grupo_id,callback:function(t){e.$set(e.producto,"in_grupo_id",t)},expression:"producto.in_grupo_id"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Subgrupo",items:e.subGrupos,"item-value":"id","item-text":"nombre",name:"subgrupos","persistent-hint":"","prepend-icon":"collections_bookmark","no-data-text":"No existen datos",required:"","error-messages":e.errors.collect("subgrupos"),clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){return[[o("v-list-tile-content",[o("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.nombre)}}),e._v(" "),o("v-list-tile-sub-title",{domProps:{innerHTML:e._s("C贸digo: "+t.item.codigo)}})],1)]]}}]),model:{value:e.producto.in_subgrupo_id,callback:function(t){e.$set(e.producto,"in_subgrupo_id",t)},expression:"producto.in_subgrupo_id"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Unidad de medida",items:e.unidadesDeMedida,"item-value":"id","item-text":"nombre",name:"unidad de medida","persistent-hint":"","prepend-icon":"timeline","no-data-text":"No existen datos",required:"","error-messages":e.errors.collect("unidad de medida"),clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){return[[o("v-list-tile-content",[o("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.nombre)}}),e._v(" "),o("v-list-tile-sub-title",{domProps:{innerHTML:e._s("C贸digo: "+t.item.codigo)}})],1)]]}}]),model:{value:e.producto.in_unidad_medida_id,callback:function(t){e.$set(e.producto,"in_unidad_medida_id",t)},expression:"producto.in_unidad_medida_id"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"costoProducto",attrs:{label:"Costo del producto","prepend-icon":"attach_money",name:"Costo del producto","error-messages":e.errors.collect("Costo del producto"),required:""},model:{value:e.producto.costo_producto,callback:function(t){e.$set(e.producto,"costo_producto",t)},expression:"producto.costo_producto"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"codigoIva",attrs:{label:"Codigo IVA",name:"Costo IVA","prepend-icon":"description","error-messages":e.errors.collect("Costo IVA"),required:""},model:{value:e.producto.codigo_iva,callback:function(t){e.$set(e.producto,"codigo_iva",t)},expression:"producto.codigo_iva"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[o("v-dialog",{ref:"pickerFechaIngreso",attrs:{"return-value":e.producto.fecha_creacion,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.producto,"fecha_creacion",t)},"update:return-value":function(t){return e.$set(e.producto,"fecha_creacion",t)}},model:{value:e.pickerFechaIngreso,callback:function(t){e.pickerFechaIngreso=t},expression:"pickerFechaIngreso"}},[o("v-text-field",{attrs:{slot:"activator",label:"Fecha de creacion","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.producto.fecha_creacion,callback:function(t){e.$set(e.producto,"fecha_creacion",t)},expression:"producto.fecha_creacion"}}),e._v(" "),o("v-date-picker",{attrs:{locale:"es-co","first-day-of-week":1,scrollable:""},model:{value:e.producto.fecha_creacion,callback:function(t){e.$set(e.producto,"fecha_creacion",t)},expression:"producto.fecha_creacion"}},[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.pickerFechaIngreso=!1}}},[e._v("Cancelar")]),e._v(" "),o("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.pickerFechaIngreso.save(e.producto.fecha_creacion)}}},[e._v("OK")])],1)],1)],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[o("v-select",{attrs:{items:e.complementos.estado,label:"Estado","prepend-icon":"list"},model:{value:e.producto.estado,callback:function(t){e.$set(e.producto,"estado",t)},expression:"producto.estado"}})],1)],1)],1)],1)],1),e._v(" "),o("v-divider"),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"primary",flat:"",loading:e.loadingSubmit},on:{click:e.submit}},[e._v("Guardar")])],1)],1),e._v(" "),o("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogCodigo,callback:function(t){e.dialogCodigo=t},expression:"dialogCodigo"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Codigo del Producto")]),e._v(" "),o("v-card-text",[e._v("El codigo del Producto ya esta siendo utilizado, desea cargar los datos para su actualizacion o utilizar otro codigo")]),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.editarByCodigo}},[e._v("Cargar datos")]),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.cerrarByCodigo}},[e._v("Cerrar")])],1)],1)],1)],1)},i=[],a={render:r,staticRenderFns:i};t.a=a},614:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1159),i=o(2076),a=o(1),s=a(r.a,i.a,!1,null,null,null);t.default=s.exports}});
//# sourceMappingURL=262.3c3e7941bbb691622da7.js.map