webpackJsonp([251],{1184:function(o,t,e){"use strict";var i=e(13),a=e.n(i),s=e(14),r=e.n(s),n=e(40),c=e(248),d=e(12);t.a={name:"RegistroTipoGasto",props:["parametros"],data:function(){return{buscandoCodigo:!1,dialogCodigo:!1,ordenEdit:!1,complementosTipoGasto:{definicion:[],clasificacion:[]},tipogasto:{}}},methods:{findByCodigo:function(){var o=this;this.tipogasto.codigo&&(this.buscandoCodigo=!0,this.axios.get("pr_tipos_gastos/codigo/"+this.tipogasto.codigo).then(function(t){t.data.exists&&(o.$store.commit(d.b,{msg:"El codigo del tipo de gasto existe",color:"success"}),o.formReset(),o.tipogasto=t.data.data,o.dialogCodigo=!0),o.buscandoCodigo=!1}).catch(function(t){o.buscandoCodigo=!1,o.$store.commit(d.b,{msg:"Hay un error al consultar el codigo. "+t.response,color:"danger"})}))},validador:function(o){return this.$validator.validateAll(o).then(function(o){return o})},submit:function(){var o=this;return r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.validador("formRegistroTipoGasto");case 2:if(!t.sent){t.next=6;break}o.tipogasto.id?o.axios.put("pr_tipos_gastos/"+o.tipogasto.id,o.tipogasto).then(function(t){o.$store.commit(d.b,{msg:"El registro del tipo de gasto se actualizo correctamente",color:"success"}),o.formReset(),o.$store.dispatch(n.c,{contexto:o,itemId:o.parametros.tabOrigin}),o.$store.commit(c._23,{item:t.data.data,estado:"editar",key:o.parametros.key})}).catch(function(t){console.log(t),o.$store.commit(d.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}):o.axios.post("pr_tipos_gastos",o.tipogasto).then(function(t){o.$store.commit(d.b,{msg:"El registro del tipo de gasto se cre√≥ correctamente",color:"success"}),o.formReset(),o.$store.dispatch(n.c,{contexto:o,itemId:o.parametros.tabOrigin}),o.$store.commit(c._23,{item:t.data.data,estado:"crear",key:o.parametros.key})}).catch(function(t){console.log(t),o.$store.commit(d.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}),t.next=7;break;case 6:o.$store.commit(d.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 7:case"end":return t.stop()}},t,o)}))()},editarByCodigo:function(){this.dialogCodigo=!1,this.ordenEdit=!0},cerrarByCodigo:function(){this.formReset(),this.ordenEdit=!1,this.dialogCodigo=!1},formReset:function(){this.tipogasto={tercero:{identificacion:"",nombre_completo:"",municipio:{nombre:"",nombre_departamento:""}}},this.buscandoCodigo=!1,this.dialogCodigo=!1,this.ordenEdit=!1},getRegistro:function(o){var t=this;this.axios.get("pr_tipos_gastos/"+o).then(function(o){o.data.exists&&t.edit(o.data.data)}).catch(function(o){t.$store.commit(d.a,{expression:" al traer el subgrupo. ",error:o})})},edit:function(o){this.ordenEdit=!0,this.tipogasto=o}},mounted:function(){var o=this;this.axios.get("pr_tipos_gastos/complementos").then(function(t){o.complementosTipoGasto=t.data.data}).catch(function(t){o.$store.commit(d.a,{expression:" Al intentar consultar codigo. ",error:t})}),null!==this.parametros.entidad&&this.getRegistro(this.parametros.entidad.id),this.$validator.localize("es")}}},2107:function(o,t,e){"use strict";var i=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("v-card",[e("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[o._v("\n    "+o._s(o.ordenEdit?"Edicion de tipo de gasto":"Registro de tipo de gasto")+"\n    ")]),o._v(" "),e("v-card-text",[e("v-form",{attrs:{"data-vv-scope":"formRegistroTipoGasto"}},[e("v-container",{attrs:{fluid:"","grid-list-xl":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[e("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:16",expression:"'required|max:16'"}],key:"codigo",attrs:{label:"Codigo",name:"Codigo","error-messages":o.errors.first("Codigo"),disabled:o.ordenEdit,"persistent-hint":"",hint:o.buscandoCodigo?"Estamos buscando el codigo":""},on:{keyup:function(t){return!t.type.indexOf("key")&&o._k(t.keyCode,"enter",13,t.key,"Enter")?null:o.findByCodigo(t)},blur:o.findByCodigo},model:{value:o.tipogasto.codigo,callback:function(t){o.$set(o.tipogasto,"codigo",t)},expression:"tipogasto.codigo"}})],1),o._v(" "),e("v-flex",{attrs:{xs12:"",sm12:"",md8:"",lg8:""}},[e("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"nombre",attrs:{label:"Nombre",name:"Nombre","error-messages":o.errors.first("Nombre"),required:""},model:{value:o.tipogasto.nombre,callback:function(t){o.$set(o.tipogasto,"nombre",t)},expression:"tipogasto.nombre"}})],1),o._v(" "),e("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[o._v("\n              Definicion\n              "),e("v-radio-group",{model:{value:o.tipogasto.definicion,callback:function(t){o.$set(o.tipogasto,"definicion",t)},expression:"tipogasto.definicion"}},o._l(o.complementosTipoGasto.definicion,function(o,t,i){return e("v-radio",{key:"definicion"+t,attrs:{label:o,value:o}})}),1)],1),o._v(" "),e("v-flex",{attrs:{xs12:"",sm12:"",md8:"",lg8:""}},[e("v-select",{attrs:{items:o.complementosTipoGasto.clasificacion,label:"Clasificacion"},model:{value:o.tipogasto.clasificacion,callback:function(t){o.$set(o.tipogasto,"clasificacion",t)},expression:"tipogasto.clasificacion"}})],1)],1),o._v(" "),e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg12:""}},[e("v-btn",{attrs:{color:"success"},on:{click:o.submit}},[o._v("\n              Guardar\n              ")])],1)],1)],1)],1)],1)],1),o._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:o.dialogCodigo,callback:function(t){o.dialogCodigo=t},expression:"dialogCodigo"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[o._v("Codigo del tipo de gasto")]),o._v(" "),e("v-card-text",[o._v("El codigo del tipo de gasto ya esta siendo utilizado, desea cargar los datos para su actualizacion o utilizar otro codigo")]),o._v(" "),e("v-card-actions",[e("v-spacer"),o._v(" "),e("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:o.editarByCodigo}},[o._v("Cargar datos")]),o._v(" "),e("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:o.cerrarByCodigo}},[o._v("Cerrar")])],1)],1)],1)],1)},a=[],s={render:i,staticRenderFns:a};t.a=s},639:function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(1184),a=e(2107),s=e(1),r=s(i.a,a.a,!1,null,null,null);t.default=r.exports}});
//# sourceMappingURL=251.866ab60f1895edc740be.js.map