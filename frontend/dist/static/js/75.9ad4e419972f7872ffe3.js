webpackJsonp([75],{1326:function(a,e,t){"use strict";var i=t(13),o=t.n(i),r=t(14),n=t.n(r),s=t(252),l=t.n(s),c=t(12),d=t(58),u=t(743);e.a={name:"salariominimo",components:{Loading:d.default,Confirmar:u.a,ToolbarList:function(){return new Promise(function(a){a()}).then(t.bind(null,247))}},data:function(){return{dialogA:{visible:!1,content:null,registroID:null},salarios:[],salario:{},search:"",dialog:!1,tableLoading:!1,localLoading:!1,tipo:["Si","No"],items_page:[{text:15,value:15},{text:50,value:50},{text:100,value:100}],pagination:{per_page:15,current_page:1},headers:[{text:"Id",align:"left",sortable:!1,value:"configuracion_salarial"},{text:"Descripción",align:"left",sortable:!1,value:"descripcion"},{text:"S. Transp.",align:"left",sortable:!1,value:"sw_subsidio_transporte"},{text:"Salud",align:"left",sortable:!1,value:"porcentaje_salud"},{text:"Pensión",align:"left",sortable:!1,value:"porcentaje_pension"},{text:"Solidaridad",align:"left",sortable:!1,value:"porcentaje_solidaridad_pensional"},{text:"ARP",align:"left",sortable:!1,value:"porcentaje_arp"},{text:"Sena",align:"left",sortable:!1,value:"porcentaje_sena"},{text:"Caja",align:"left",sortable:!1,value:"porcentaje_caja"},{text:"ICBF",align:"left",sortable:!1,value:"porcentaje_icbf"},{text:"Opciones",align:"left",sortable:!1,value:"configuracion_salarial"}]}},beforeMount:function(){this.formReset()},mounted:function(){},created:function(){this.reloadPage()},watch:{"pagination.per_page":function(){this.pagination.current_page=1,this.reloadPage()}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("configuracionsalario")},modalTitulo:function(){return this.salario.configuracion_salarial?"Editar configuración salario mínimo: "+this.salario.configuracion_salarial:"Nueva configuración de salario mínimo"},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}},methods:{reloadPage:function(){var a=this;this.tableLoading=!0,this.localLoading=!0,this.axios.get("confsalario?per_page="+this.pagination.per_page+"&page="+this.pagination.current_page+"&search=%25"+this.search+"%25").then(function(e){e.data.meta.per_page=a.items_page.find(function(a){return a.value===parseInt(e.data.meta.per_page)})?parseInt(e.data.meta.per_page):-1,a.pagination=e.data.meta,a.salarios=e.data.data,a.tableLoading=!1,a.localLoading=!1}).catch(function(e){return a.tableLoading=!1,a.localLoading=!1,!1})},buscar:window.lodash.debounce(function(){this.pagination.current_page=1,this.reloadPage()},500),formReset:function(){this.salario={descripcion:null,sw_subsidio_transporte:null,porcentaje_salud:null,porcentaje_pension:null,porcentaje_solidaridad_pensional:null,porcentaje_arp:null,porcentaje_sena:null,porcentaje_caja:null,porcentaje_icbf:null}},eliminar:function(a){this.dialogA.content="¿Está seguro de eliminar?",this.dialogA.registroID=a,this.dialogA.visible=!0},cancelaAnulacion:function(){this.dialogA.visible=!1,this.dialogA.content=null,this.dialogA.registroID=null},confirmaAnulacion:function(a){var e=this;this.localLoading=!0,this.axios.delete("confsalario/eliminar/"+this.dialogA.registroID).then(function(a){e.$store.commit(c.b,{msg:"La configuración de salario se eliminó correctamente",color:"success"}),e.reloadPage(),e.cancelaAnulacion(),e.localLoading=!1,e.$refs.confirmo.pararCarga()}).catch(function(a){e.localLoading=!1,e.$store.commit(c.b,{msg:"Hay un error al eliminar el registro. "+a.response,color:"danger"})})},editar:function(a){this.dialog=!0,this.salario=l()({},a),1===a.sw_subsidio_transporte?this.salario.sw_subsidio_transporte="Si":this.salario.sw_subsidio_transporte="No"},close:function(){this.dialog=!1,this.formReset(),this.$validator.reset()},validador:function(a){return this.$validator.validateAll(a).then(function(a){return a})},save:function(){var a=this;return n()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validador("formPago");case 2:if(!e.sent){e.next=9;break}a.dialog=!1,a.localLoading=!0,t=a.salario.configuracion_salarial?a.axios.put("confsalario/actualizar/"+a.salario.configuracion_salarial,a.salario):a.axios.post("confsalario/crear",a.salario),t.then(function(e){a.localLoading=!1,a.salario.configuracion_salarial?a.$store.commit(c.b,{msg:"La configuración de salario se actualizó correctamente",color:"success"}):(a.$store.commit(c.b,{msg:"Registro exitoso",color:"success"}),a.reloadPage()),a.dialog=!1}).catch(function(e){a.localLoading=!1,a.$store.commit(c.b,{msg:"Hay un error al guardar el registro. "+e.response,color:"danger"})}),e.next=10;break;case 9:a.$store.commit(c.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 10:a.formReset();case 11:case"end":return e.stop()}},e,a)}))()}},filters:{}}},2560:function(a,e,t){var i=t(2561);"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);t(456)("a5b2b8dc",i,!0,{})},2561:function(a,e,t){e=a.exports=t(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ConfSalarioMinimo.vue",sourceRoot:""}])},2562:function(a,e,t){"use strict";var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("v-dialog",{attrs:{width:"1000px"},model:{value:a.dialog,callback:function(e){a.dialog=e},expression:"dialog"}},[t("v-form",{attrs:{"data-vv-scope":"formPago"}},[t("v-card",[t("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[t("span",{staticClass:"title"},[a._v(a._s(a.modalTitulo))])]),a._v(" "),t("v-container",{attrs:{fluid:"","grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"descripcion",attrs:{label:"Descripción",name:"descripcion",required:"","error-messages":a.errors.collect("descripcion")},model:{value:a.salario.descripcion,callback:function(e){a.$set(a.salario,"descripcion",e)},expression:"salario.descripcion"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Subsidio transporte",items:a.tipo,name:"subsidio transporte","error-messages":a.errors.collect("subsidio transporte")},model:{value:a.salario.sw_subsidio_transporte,callback:function(e){a.$set(a.salario,"sw_subsidio_transporte",e)},expression:"salario.sw_subsidio_transporte"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"porcentaje salud",attrs:{type:"number",label:"Porcentaje salud",name:"porcentaje salud",required:"","error-messages":a.errors.collect("porcentaje salud")},model:{value:a.salario.porcentaje_salud,callback:function(e){a.$set(a.salario,"porcentaje_salud",e)},expression:"salario.porcentaje_salud"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:11|",expression:"'required|max:11|'"}],key:"porcentaje pension",attrs:{type:"number",label:"Porcentaje pensión",name:"porcentaje pension",required:"","error-messages":a.errors.collect("porcentaje pension")},model:{value:a.salario.porcentaje_pension,callback:function(e){a.$set(a.salario,"porcentaje_pension",e)},expression:"salario.porcentaje_pension"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"porcentaje solidaridad pensional",attrs:{type:"number",label:"Porcentaje solidaridad pensional",name:"porcentaje solidaridad pensional",required:"","error-messages":a.errors.collect("porcentaje solidaridad pensional")},model:{value:a.salario.porcentaje_solidaridad_pensional,callback:function(e){a.$set(a.salario,"porcentaje_solidaridad_pensional",e)},expression:"salario.porcentaje_solidaridad_pensional"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:11|",expression:"'required|max:11|'"}],key:"porcentaje arp",attrs:{type:"number",label:"Porcentaje ARP",name:"porcentaje arp",required:"","error-messages":a.errors.collect("porcentaje arp")},model:{value:a.salario.porcentaje_arp,callback:function(e){a.$set(a.salario,"porcentaje_arp",e)},expression:"salario.porcentaje_arp"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"porcentaje sena",attrs:{type:"number",label:"Porcentaje SENA",name:"porcentaje sena",required:"","error-messages":a.errors.collect("porcentaje sena")},model:{value:a.salario.porcentaje_sena,callback:function(e){a.$set(a.salario,"porcentaje_sena",e)},expression:"salario.porcentaje_sena"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:11|",expression:"'required|max:11|'"}],key:"porcentaje caja",attrs:{type:"number",label:"Porcentaje caja",name:"porcentaje caja",required:"","error-messages":a.errors.collect("porcentaje caja")},model:{value:a.salario.porcentaje_caja,callback:function(e){a.$set(a.salario,"porcentaje_caja",e)},expression:"salario.porcentaje_caja"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",md6:"",lg6:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"porcentaje icbf",attrs:{type:"number",label:"Porcentaje ICBF",name:"porcentaje icbf",required:"","error-messages":a.errors.collect("porcentaje icbf")},model:{value:a.salario.porcentaje_icbf,callback:function(e){a.$set(a.salario,"porcentaje_icbf",e)},expression:"salario.porcentaje_icbf"}})],1)],1)],1),a._v(" "),t("v-card-actions",{staticClass:"grey lighten-4"},[t("v-spacer"),a._v(" "),t("v-btn",{on:{click:a.close}},[a._v("Cancelar")]),a._v(" "),t("v-btn",{attrs:{color:"primary",disabled:a.errors.any()},on:{click:a.save}},[a._v("Guardar")])],1)],1)],1)],1),a._v(" "),t("v-card",[t("toolbar-list",{attrs:{info:a.infoComponent,title:"Configuración salario mínimo",subtitle:"Registro y gestión",btnplus:"",btnplustitle:"Crear registro",btnplustruncate:""},on:{click:function(e){a.dialog=!0}}}),a._v(" "),t("v-container",{attrs:{fluid:""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"text-xs-right",attrs:{xs1:"",sm3:"",md6:""}},[t("v-tooltip",{attrs:{top:""}},[t("v-btn",{attrs:{slot:"activator",flat:"",icon:"",color:"accent"},on:{click:a.reloadPage},slot:"activator"},[t("v-icon",[a._v("cached")])],1),a._v(" "),t("span",[a._v("Actualizar registros")])],1)],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm3:"",md2:""}},[t("v-select",{attrs:{label:"Registros por página",items:a.items_page,"item-text":"text","item-value":"value"},model:{value:a.pagination.per_page,callback:function(e){a.$set(a.pagination,"per_page",e)},expression:"pagination.per_page"}})],1),a._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[t("v-text-field",{attrs:{"append-icon":"search",label:"Buscar"},on:{input:a.buscar},model:{value:a.search,callback:function(e){a.search=e},expression:"search"}})],1)],1),a._v(" "),t("loading",{model:{value:a.localLoading,callback:function(e){a.localLoading=e},expression:"localLoading"}}),a._v(" "),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headers,items:a.salarios,loading:a.tableLoading,pagination:a.pagination,"total-items":a.salarios.length,search:a.search,"hide-actions":""},on:{"update:pagination":function(e){a.pagination=e}},scopedSlots:a._u([{key:"items",fn:function(e){return[t("td",[a._v(a._s(e.item.configuracion_salarial))]),a._v(" "),t("td",[a._v(a._s(e.item.descripcion))]),a._v(" "),t("td",[1==e.item.sw_subsidio_transporte?t("span",[a._v(a._s("Si"))]):a._e(),a._v(" "),0==e.item.sw_subsidio_transporte?t("span",[a._v(a._s("No"))]):a._e()]),a._v(" "),t("td",[a._v(a._s(e.item.porcentaje_salud)+" %")]),a._v(" "),t("td",[a._v(a._s(e.item.porcentaje_pension)+" %")]),a._v(" "),t("td",[a._v(a._s(e.item.porcentaje_solidaridad_pensional)+" %")]),a._v(" "),t("td",[a._v(a._s(e.item.porcentaje_arp)+" %")]),a._v(" "),t("td",[a._v(a._s(e.item.porcentaje_sena)+" %")]),a._v(" "),t("td",[a._v(a._s(e.item.porcentaje_caja)+" %")]),a._v(" "),t("td",[a._v(a._s(e.item.porcentaje_icbf)+" %")]),a._v(" "),t("td",[t("v-speed-dial",{attrs:{direction:"left","open-on-hover":"",transition:"slide-x-transition"},model:{value:e.item.show,callback:function(t){a.$set(e.item,"show",t)},expression:"props.item.show"}},[t("v-btn",{attrs:{slot:"activator",color:"blue darken-2",dark:"",fab:"",small:""},slot:"activator",model:{value:e.item.show,callback:function(t){a.$set(e.item,"show",t)},expression:"props.item.show"}},[t("v-icon",[a._v("chevron_left")]),a._v(" "),t("v-icon",[a._v("close")])],1),a._v(" "),t("v-tooltip",{attrs:{top:""}},[t("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(t){return a.eliminar(e.item.configuracion_salarial)}},slot:"activator"},[t("v-icon",{attrs:{color:"accent"}},[a._v("delete")])],1),a._v(" "),t("span",[a._v("Eliminar")])],1),a._v(" "),t("v-tooltip",{attrs:{top:""}},[t("v-btn",{attrs:{slot:"activator",fab:"",dark:"",small:"",color:"white"},on:{click:function(t){return a.editar(e.item)}},slot:"activator"},[t("v-icon",{attrs:{color:"accent"}},[a._v("mode_edit")])],1),a._v(" "),t("span",[a._v("Editar")])],1)],1)],1)]}}])},[a._v(" "),t("template",{slot:"no-data"},[a.tableLoading?t("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[a._v("\n            Estamos cargando los registros. "),t("v-icon",[a._v("sentiment_satisfied_alt")])],1):t("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[a._v("\n            Lo sentimos, no tenemos registros para mostrar. "),t("v-icon",[a._v("sentiment_very_dissatisfied")])],1)],1),a._v(" "),t("template",{slot:"footer"},[t("td",{staticClass:"text-xs-center",attrs:{colspan:"100%"}},[t("v-pagination",{attrs:{"total-visible":7,length:a.pagination.last_page},on:{input:a.reloadPage},model:{value:a.pagination.current_page,callback:function(e){a.$set(a.pagination,"current_page",e)},expression:"pagination.current_page"}})],1)])],2)],1)],1),a._v(" "),t("confirmar",{ref:"confirmo",attrs:{value:a.dialogA.visible,content:a.dialogA.content},on:{cancelar:a.cancelaAnulacion,aceptar:function(e){return a.confirmaAnulacion(e)}}})],1)},o=[],r={render:i,staticRenderFns:o};e.a=r},715:function(a,e,t){"use strict";function i(a){t(2560)}Object.defineProperty(e,"__esModule",{value:!0});var o=t(1326),r=t(2562),n=t(1),s=i,l=n(o.a,r.a,!1,s,"data-v-87a255a0",null);e.default=l.exports},742:function(a,e,t){"use strict";var i=t(13),o=t.n(i),r=t(14),n=t.n(r),s=t(58);e.a={name:"Confirmar",props:{value:{type:Boolean,default:!1},content:{type:String},requiereMotivo:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},components:{Loading:s.default},data:function(){return{loadingSubmit:!1,motivo:null}},watch:{value:function(a){a||(this.motivo=null,this.$validator.reset())}},methods:{submit:function(){var a=this;return n()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.$validator.validateAll();case 2:if(!e.sent){e.next=5;break}a.loadingSubmit=!0,a.$emit("aceptar",a.motivo);case 5:case"end":return e.stop()}},e,a)}))()},pararCarga:function(){this.loadingSubmit=!1}}}},743:function(a,e,t){"use strict";function i(a){t(744)}var o=t(742),r=t(746),n=t(1),s=i,l=n(o.a,r.a,!1,s,"data-v-3773d9ac",null);e.a=l.exports},744:function(a,e,t){var i=t(745);"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);t(456)("0e7a280b",i,!0,{})},745:function(a,e,t){e=a.exports=t(455)(!0),e.push([a.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Confirmar2.vue",sourceRoot:""}])},746:function(a,e,t){"use strict";var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-layout",{attrs:{row:"","justify-center":""}},[t("v-dialog",{key:"dialogConfirm",attrs:{persistent:"","max-width":"400"},model:{value:a.value,callback:function(e){a.value=e},expression:"value"}},[t("loading",{model:{value:a.loading,callback:function(e){a.loading=e},expression:"loading"}}),a._v(" "),t("v-card",[t("v-card-text",{staticClass:"title font-weight-light text-xs-center",domProps:{innerHTML:a._s(a.content)}}),a._v(" "),t("v-divider"),a._v(" "),t("v-card-actions",[t("v-btn",{attrs:{flat:""},on:{click:function(e){return e.stopPropagation(),a.$emit("cancelar")}}},[a._v("Cancelar")]),a._v(" "),t("v-spacer"),a._v(" "),t("v-btn",{attrs:{color:"primary",loading:a.loadingSubmit},on:{click:function(e){return e.stopPropagation(),a.submit(e)}}},[a._v("Aceptar")])],1)],1)],1)],1)},o=[],r={render:i,staticRenderFns:o};e.a=r}});
//# sourceMappingURL=75.9ad4e419972f7872ffe3.js.map