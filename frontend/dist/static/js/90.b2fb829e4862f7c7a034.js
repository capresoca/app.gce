webpackJsonp([90],{1237:function(i,t,e){"use strict";var a=e(247);t.a={name:"HabilitarEntidad",components:{ToolbarList:a.default},data:function(){return{headers:[{align:"left",sortable:!1,value:"name"},{text:"Nombre",value:"razon_social"},{text:"Resolución",value:"res_habilitacion"},{text:"Código de habilitación",value:"cod_habilitacion"},{text:"Código valido",value:"existe_entidades"},{text:"Tipo",value:"rs_tipentidade.tipo"},{text:"Opciones",value:"id"}],entidades:[],tableLoading:!1,dialogInfo:!1,dialogHabilitar:!1,dialogEliminar:!1,entidadHabilitar:null,motivoEliminacion:"",rulesMotivo:[function(i){return!!i||"El motivo de eliminación es obligatorio"}],informacionEntidad:{item:{gn_tipodocidentidad:{abreviatura:""},identificacion:"",gn_municipio_expedicion:{nombre:"",departamento:{nombre:""}},nombre1:"",nombre2:"",apellido1:"",apellido2:"",razon_social:"",direccion:"",telefono_fijo:"",celular:"",correo_electronico:"",gn_municipio_residencia:{nombre:"",departamento:{nombre:""}},tipo_retencion:"",tipo_contribuyente:"",tipo_persona:"",ica:"",porcentaje_ica:"",autorretenedor:"",agente_declarante:"",nf_ciiu:{nombre:""},rs_tipentidade:{tipo:""},res_habilitacion:"",cod_habilitacion:"",correo_electronico_sede:"",telefono_sede:"",direccion_sede:"",gn_municipio_sede:{nombre:"",departamento:{nombre:""}},tipo_locacion:"",gerente:"",replegal:"",naturaleza:"",complejidad:""}}}},created:function(){this.allEntidadesTemporales()},methods:{allEntidadesTemporales:function(){var i=this;this.tableLoading=!0,this.axios.get("rs_entidades_temporales").then(function(t){i.entidades=t.data.entidades,i.tableLoading=!1}).catch(function(t){i.$store.commit("SNACK_SHOW",{msg:t.response.message,color:"error"})})},masinfo:function(i){this.informacionEntidad=i,this.dialogInfo=!0},habilitarEnt:function(i){this.dialogHabilitar=!0,this.entidadHabilitar=i},siHabilitarEntidad:function(){var i=this;this.entidadHabilitar,this.axios.post("rs_entidades_temporales",this.entidadHabilitar.item).then(function(t){i.allEntidadesTemporales(),"save"===t.data.state?(i.$store.commit("SNACK_SHOW",{msg:"Entidad habilitada correctamente",color:"success"}),i.dialogHabilitar=!1):"error"===t.data.state?(i.$store.commit("SNACK_SHOW",{msg:"Error: "+t.data.message,color:"error"}),i.dialogHabilitar=!1):(i.$store.commit("SNACK_SHOW",{msg:"No es posible habilitar la entidad, inténtelo de nuevo",color:"error"}),i.dialogHabilitar=!1)}).catch(function(t){i.$store.commit("SNACK_SHOW",{msg:"No es posible habilitar la entidad, inténtelo de nuevo "+t.response.data.message,color:"error"})})},eliminarEnt:function(i){this.entidadHabilitar=i,this.dialogEliminar=!0},eliminarEntidad:function(){var i=this;if(0===this.motivoEliminacion.trim().length)return void this.$store.commit("SNACK_SHOW",{msg:"Digite el motivo de eliminación.",color:"error"});this.axios.delete("rs_entidades_temporales",{id:this.entidadHabilitar.item.id,motivo:this.motivoEliminacion}).then(function(t){i.allEntidadesTemporales(),"delete"===t.data.state?(i.entidades.splice(i.entidadHabilitar.index+1,1),i.dialogEliminar=!1,i.$store.commit("SNACK_SHOW",{msg:"Entidad eliminada correctamente",color:"success"})):"deleteNoEmail"===t.data.state?i.$store.commit("SNACK_SHOW",{msg:"La entidad se elimino con éxito. Pero no se pudo enviar la notificación al correo",color:"error"}):i.$store.commit("SNACK_SHOW",{msg:"No es posible eliminar el pre-registro de la entidad, inténtelo de nuevo",color:"error"})}).catch(function(t){i.$store.commit("SNACK_SHOW",{msg:"Error al eliminar el pre-registro "+t.response.data.message,color:"error"})})}}}},2266:function(i,t,e){var a=e(2267);"string"==typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);e(456)("296e96b3",a,!0,{})},2267:function(i,t,e){t=i.exports=e(455)(!0),t.push([i.i,"","",{version:3,sources:[],names:[],mappings:"",file:"HabilitarEntidad.vue",sourceRoot:""}])},2268:function(i,t,e){"use strict";var a=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("main",[e("v-card",[e("toolbar-list",{staticClass:"elevation-0 grey lighten-4",attrs:{title:"Entidades Pre-Registradas"}}),i._v(" "),e("v-container",{attrs:{fluid:""}},[e("v-data-table",{staticClass:"elevation-0",attrs:{headers:i.headers,items:i.entidades,loading:i.tableLoading,"hide-actions":""},scopedSlots:i._u([{key:"items",fn:function(t){return[e("td",[i._v(i._s(t.item.identificacion))]),i._v(" "),e("td",[i._v(i._s(t.item.razon_social))]),i._v(" "),e("td",[i._v(i._s(t.item.res_habilitacion))]),i._v(" "),e("td",[i._v(i._s(t.item.cod_habilitacion))]),i._v(" "),"Existe"==t.item.existe_entidades?e("td",[e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",outline:"",color:"success"},slot:"activator"},[i._v("\n                Valido\n              ")]),i._v(" "),e("span",[i._v("El código de la entidad se encuentra en el registro de prestadores")])],1)],1):e("td",[e("v-tooltip",{attrs:{top:""}},[e("v-btn",{attrs:{slot:"activator",outline:"",color:"danger"},slot:"activator"},[i._v("\n                No valido\n              ")]),i._v(" "),e("span",[i._v("El código de la entidad NO se encuentra en la base de datos de prestadores")])],1)],1),i._v(" "),e("td",[i._v(i._s(t.item.rs_tipentidade.tipo))]),i._v(" "),e("td",[e("v-tooltip",{attrs:{top:""}},[e("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:"",dark:""},on:{click:function(e){return i.habilitarEnt(t)}},slot:"activator"},[e("v-icon",{attrs:{color:"green"}},[i._v("done_all")])],1),i._v(" "),e("span",[i._v("Habilitar registro")])],1),i._v(" "),e("v-tooltip",{attrs:{top:""}},[e("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:"",dark:""},on:{click:function(e){return i.eliminarEnt(t)}},slot:"activator"},[e("v-icon",{attrs:{color:"red"}},[i._v("delete_forever")])],1),i._v(" "),e("span",[i._v("Eliminar")])],1),i._v(" "),e("v-tooltip",{attrs:{top:""}},[e("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:"",dark:""},on:{click:function(e){return i.masinfo(t)}},slot:"activator"},[e("v-icon",{attrs:{color:"cyan"}},[i._v("description")])],1),i._v(" "),e("span",[i._v("Mas detalles")])],1)],1)]}}])},[i._v(" "),e("template",{slot:"no-data"},[i.tableLoading?e("v-alert",{attrs:{value:!0,color:"info",icon:"info"}},[i._v("\n            Estamos cargando los registros. "),e("v-icon",[i._v("sentiment_satisfied_alt")])],1):e("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[i._v("\n            Lo sentimos, no tenemos registros para mostrar. "),e("v-icon",{attrs:{color:"white"}},[i._v("sentiment_very_dissatisfied")])],1)],1)],2)],1)],1),i._v(" "),e("v-dialog",{attrs:{width:"500"},model:{value:i.dialogInfo,callback:function(t){i.dialogInfo=t},expression:"dialogInfo"}},[e("v-card",[e("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[i._v("\n        Informacion completa\n      ")]),i._v(" "),e("v-card-text",[e("p",[e("strong",[i._v("Tipo documento:")]),i._v(" "+i._s(i.informacionEntidad.item.gn_tipodocidentidad.abreviatura)+" "),e("br"),i._v(" "),e("strong",[i._v("N° de identificación:")]),i._v(" "+i._s(i.informacionEntidad.item.identificacion)+" "),e("br"),i._v(" "),e("strong",[i._v("Municipio de expedición:")]),i._v(" "+i._s(i.informacionEntidad.item.gn_municipio_expedicion.nombre)+" - "+i._s(i.informacionEntidad.item.gn_municipio_expedicion.departamento.nombre)+" "),e("br"),i._v(" "),e("strong",[i._v("Primer nombre:")]),i._v(" "+i._s(i.informacionEntidad.item.nombre1)+" "),e("br"),i._v(" "),e("strong",[i._v("Segundo nombre:")]),i._v(" "+i._s(i.informacionEntidad.item.nombre2)+" "),e("br"),i._v(" "),e("strong",[i._v("Primer apellido:")]),i._v(" "+i._s(i.informacionEntidad.item.apellido1)+" "),e("br"),i._v(" "),e("strong",[i._v("Segundo apellido:")]),i._v(" "+i._s(i.informacionEntidad.item.apellido2)+" "),e("br"),i._v(" "),e("strong",[i._v("Razón social:")]),i._v(" "+i._s(i.informacionEntidad.item.razon_social)+" "),e("br"),i._v(" "),e("strong",[i._v("Dirección:")]),i._v(" "+i._s(i.informacionEntidad.item.direccion)+" "),e("br"),i._v(" "),e("strong",[i._v("Teléfono fijo:")]),i._v(" "+i._s(i.informacionEntidad.item.telefono_fijo)+" "),e("br"),i._v(" "),e("strong",[i._v("Celular:")]),i._v(" "+i._s(i.informacionEntidad.item.celular)+" "),e("br"),i._v(" "),e("strong",[i._v("Correo electrónico:")]),i._v(" "+i._s(i.informacionEntidad.item.correo_electronico)+" "),e("br"),i._v(" "),e("strong",[i._v("Municipio de residencia:")]),i._v(" "+i._s(i.informacionEntidad.item.gn_municipio_residencia.nombre)+" - "+i._s(i.informacionEntidad.item.gn_municipio_residencia.departamento.nombre)+" "),e("br"),i._v(" "),e("strong",[i._v("Tipo de retención:")]),i._v(" "+i._s(i.informacionEntidad.item.tipo_retencion)+" "),e("br"),i._v(" "),e("strong",[i._v("Tipo de contribuyente:")]),i._v(" "+i._s(i.informacionEntidad.item.tipo_contribuyente)+" "),e("br"),i._v(" "),e("strong",[i._v("Tipo de persona:")]),i._v(" "+i._s(i.informacionEntidad.item.tipo_persona)+" "),e("br"),i._v(" "),e("strong",[i._v("Ica:")]),i._v(" "+i._s(i.informacionEntidad.item.ica)+" "),e("br"),i._v(" "),e("strong",[i._v("% Ica:")]),i._v(" "+i._s(i.informacionEntidad.item.porcentaje_ica)+" "),e("br"),i._v(" "),e("strong",[i._v("Autorretenedor:")]),i._v(" "+i._s(i.informacionEntidad.item.autorretenedor)+" "),e("br"),i._v(" "),e("strong",[i._v("Agente declarante:")]),i._v(" "+i._s(i.informacionEntidad.item.agente_declarante)+" "),e("br"),i._v(" "),e("strong",[i._v("Actividad económica:")]),i._v(" "+i._s(i.informacionEntidad.item.nf_ciiu.nombre)+" "),e("br"),i._v(" "),e("strong",[i._v("Tipo de entidad:")]),i._v(" "+i._s(i.informacionEntidad.item.rs_tipentidade.tipo)+" "),e("br"),i._v(" "),e("strong",[i._v("Resolución de habilitación:")]),i._v(" "+i._s(i.informacionEntidad.item.res_habilitacion)+" "),e("br"),i._v(" "),e("strong",[i._v("Código de habilitación:")]),i._v(" "+i._s(i.informacionEntidad.item.cod_habilitacion)+" "),e("br"),i._v(" "),e("strong",[i._v("Correo electrónico sede:")]),i._v(" "+i._s(i.informacionEntidad.item.correo_electronico_sede)+" "),e("br"),i._v(" "),e("strong",[i._v("Teléfono Principal o sede:")]),i._v(" "+i._s(i.informacionEntidad.item.telefono_sede)+" "),e("br"),i._v(" "),e("strong",[i._v("Dirección Principal o sede:")]),i._v(" "+i._s(i.informacionEntidad.item.direccion_sede)+" "),e("br"),i._v(" "),e("strong",[i._v("Municipio Principal o sede:")]),i._v(" "+i._s(i.informacionEntidad.item.gn_municipio_sede.nombre)+" - "+i._s(i.informacionEntidad.item.gn_municipio_sede.departamento.nombre)+"  "),e("br"),i._v(" "),e("strong",[i._v("Tipo de locación:")]),i._v(" "+i._s(i.informacionEntidad.item.tipo_locacion)+" "),e("br"),i._v(" "),e("strong",[i._v("Gerente:")]),i._v(" "+i._s(i.informacionEntidad.item.gerente)+" "),e("br"),i._v(" "),e("strong",[i._v("Representante legal:")]),i._v(" "+i._s(i.informacionEntidad.item.replegal)+" "),e("br"),i._v(" "),e("strong",[i._v("Naturaleza:")]),i._v(" "+i._s(i.informacionEntidad.item.naturaleza)+" "),e("br"),i._v(" "),e("strong",[i._v("Complejidad:")]),i._v(" "+i._s(i.informacionEntidad.item.complejidad)+" "),e("br")])]),i._v(" "),e("v-divider"),i._v(" "),e("v-card-actions",[e("v-spacer"),i._v(" "),e("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){i.dialogInfo=!1}}},[i._v("\n          Cerrar\n        ")])],1)],1)],1),i._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:i.dialogHabilitar,callback:function(t){i.dialogHabilitar=t},expression:"dialogHabilitar"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[i._v("¿Habilitar entidad?")]),i._v(" "),e("v-card-text",[i._v("La entidad se habilitara para que pueda ingresar al sistema y pueda manejar el proceso de Validador RIPS")]),i._v(" "),e("v-card-actions",[e("v-spacer"),i._v(" "),e("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(t){return i.siHabilitarEntidad(t)}}},[i._v("Habilitar")]),i._v(" "),e("v-btn",{attrs:{color:"red darken-1",flat:""},nativeOn:{click:function(t){i.dialogHabilitar=!1}}},[i._v("Cerrar")])],1)],1)],1),i._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:i.dialogEliminar,callback:function(t){i.dialogEliminar=t},expression:"dialogEliminar"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[i._v("¿Eliminar entidad?")]),i._v(" "),e("v-card-text",[i._v("\n        El pre-registro de la entidad se eliminara y no se le concederá acceso al sistema. "),e("br"),i._v("\n        Digite un motivo de eliminación para su notificación por correo\n        "),e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[e("v-textarea",{attrs:{name:"input-7-1",label:"Motivo",rules:i.rulesMotivo,hint:"Motivo de eliminacion"},model:{value:i.motivoEliminacion,callback:function(t){i.motivoEliminacion=t},expression:"motivoEliminacion"}})],1)],1)],1)],1),i._v(" "),e("v-card-actions",[e("v-spacer"),i._v(" "),e("v-btn",{attrs:{color:"red darken-1",flat:""},nativeOn:{click:function(t){return i.eliminarEntidad(t)}}},[i._v("Eliminar")]),i._v(" "),e("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(t){i.dialogEliminar=!1}}},[i._v("Cerrar")])],1)],1)],1)],1)},o=[],n={render:a,staticRenderFns:o};t.a=n},676:function(i,t,e){"use strict";function a(i){e(2266)}Object.defineProperty(t,"__esModule",{value:!0});var o=e(1237),n=e(2268),r=e(1),s=a,d=r(o.a,n.a,!1,s,"data-v-ac38d178",null);t.default=d.exports}});
//# sourceMappingURL=90.b2fb829e4862f7c7a034.js.map