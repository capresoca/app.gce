webpackJsonp([101],{1353:function(e,o,t){"use strict";var r=t(252),s=t.n(r),a=t(13),i=t.n(a),n=t(14),c=t.n(n),l=t(60),p=t(12);o.a={name:"tipoSoportes",components:{ToolbarList:function(){return new Promise(function(e){e()}).then(t.bind(null,247))},DataTable:l.default},data:function(){return{dialog:!1,mostrarcampete:!1,gestion:"",soporte:{},recobros:[{value:"1",nombre:"1"},{value:"0",nombre:"0"}],dataTable:{nameItemState:"itemAuSolicitudAutorizacion",route:"soporte",makeHeaders:[{text:"Tipo soporte",align:"left",sortable:!1,value:"consecutivo_soporte"},{text:"Descripción",align:"left",sortable:!0,value:"descripcion"},{text:"Observación",align:"left",sortable:!1,value:"observacion"},{text:"Opciones",align:"center",sortable:!1,actions:!0,singlesActions:!0,classData:"text-xs-center"}]}}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("tiposoporte")}},methods:{save:function(){var e=this;return c()(i.a.mark(function o(){var t;return i.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.validador("formPago");case 2:if(!o.sent){o.next=9;break}e.dialog=!1,e.localLoading=!0,t=e.soporte.consecutivo_soporte?e.axios.put("soporte/actualizar/"+e.soporte.consecutivo_soporte,e.soporte):e.axios.post("soporte/crear",e.soporte),t.then(function(o){e.localLoading=!1,e.soporte.consecutivo_soporte?e.$store.commit(p.b,{msg:"El tipo de soporte se actualizó correctamente",color:"success"}):(e.$store.commit(p.b,{msg:"Registro exitoso",color:"success"}),e.$refs.childComponent.reloadPage()),e.dialog=!1}).catch(function(o){e.localLoading=!1,e.$store.commit(p.b,{msg:"Hay un error al guardar el registro. "+o.response,color:"danger"})}),o.next=10;break;case 9:e.$store.commit(p.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 10:e.formReset();case 11:case"end":return o.stop()}},o,e)}))()},editar:function(e){this.dialog=!0,this.gestion="Editar",this.soporte=s()({},e)},close:function(){this.dialog=!1,this.formReset(),this.$validator.reset()},validador:function(e){return this.$validator.validateAll(e).then(function(e){return e})},formReset:function(){this.soporte={descripcion:null,observacion:null,posicion_formulario:null,codigo_recobro:null,identificacion_recobro:null}},resetOptions:function(e){return e.options=[],e.options.push({event:"editar",color:"success",icon:"mode_edit",tooltip:"Editar"}),e}}}},2651:function(e,o,t){var r=t(2652);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t(456)("535cb5e6",r,!0,{})},2652:function(e,o,t){o=e.exports=t(455)(!0),o.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"TipoSoporte.vue",sourceRoot:""}])},2653:function(e,o,t){"use strict";var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("v-dialog",{attrs:{width:"500px"},model:{value:e.dialog,callback:function(o){e.dialog=o},expression:"dialog"}},[t("v-form",{attrs:{"data-vv-scope":"formPago"}},[t("v-card",[t("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[t("span",{staticClass:"title"},[e._v(e._s(e.gestion)+" tipo de soporte")])]),e._v(" "),t("v-container",{attrs:{fluid:"","grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200|",expression:"'required|max:200|'"}],key:"descripcion",attrs:{label:"Descripción",name:"descripcion",required:"","error-messages":e.errors.collect("descripcion")},model:{value:e.soporte.descripcion,callback:function(o){e.$set(e.soporte,"descripcion",o)},expression:"soporte.descripcion"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{solo:"",name:"observacion",label:"Observación",rows:"1"},model:{value:e.soporte.observacion,callback:function(o){e.$set(e.soporte,"observacion",o)},expression:"soporte.observacion"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-select",{directives:[{name:"show",rawName:"v-show",value:e.mostrarcampete,expression:"mostrarcampete"}],attrs:{label:"Posicion en formulario",items:e.recobros,"item-text":"nombre","item-value":"value"},model:{value:e.soporte.posicion_formulario,callback:function(o){e.$set(e.soporte,"posicion_formulario",o)},expression:"soporte.posicion_formulario"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"max:50",expression:"'max:50'"},{name:"show",rawName:"v-show",value:e.mostrarcampete,expression:"mostrarcampete"}],key:"codigo",attrs:{label:"Código de recobros",name:"codigo","error-messages":e.errors.collect("codigo")},model:{value:e.soporte.codigo_recobro,callback:function(o){e.$set(e.soporte,"codigo_recobro",o)},expression:"soporte.codigo_recobro"}})],1),e._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-select",{directives:[{name:"show",rawName:"v-show",value:e.mostrarcampete,expression:"mostrarcampete"}],attrs:{label:"Identificación recobro",items:e.recobros,"item-text":"nombre","item-value":"value"},model:{value:e.soporte.identificacion_recobro,callback:function(o){e.$set(e.soporte,"identificacion_recobro",o)},expression:"soporte.identificacion_recobro"}})],1)],1)],1),e._v(" "),t("v-card-actions",{staticClass:"grey lighten-4"},[t("v-spacer"),e._v(" "),t("v-btn",{on:{click:e.close}},[e._v("Cancelar")]),e._v(" "),t("v-btn",{attrs:{color:"primary",disabled:e.errors.any()},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1),e._v(" "),t("v-card",[t("toolbar-list",{attrs:{info:e.infoComponent,title:"Tipos de soporte",subtitle:"Gestión",btnplus:"",btnplustitle:"Crear registro",btnplustruncate:""},on:{click:function(o){e.dialog=!0,e.gestion="Crear"}}}),e._v(" "),t("data-table",{ref:"childComponent",on:{resetOption:function(o){return e.resetOptions(o)},editar:function(o){return e.editar(o)}},model:{value:e.dataTable,callback:function(o){e.dataTable=o},expression:"dataTable"}})],1)],1)},s=[],a={render:r,staticRenderFns:s};o.a=a},728:function(e,o,t){"use strict";function r(e){t(2651)}Object.defineProperty(o,"__esModule",{value:!0});var s=t(1353),a=t(2653),i=t(1),n=r,c=i(s.a,a.a,!1,n,"data-v-85f6378a",null);o.default=c.exports}});
//# sourceMappingURL=101.a1e8068f1cd8f8174ed2.js.map