webpackJsonp([287],{1515:function(t,e,i){var n=i(1516);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(456)("0102357e",n,!0,{})},1516:function(t,e,i){e=t.exports=i(455)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Postulador.vue",sourceRoot:""}])},1517:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{staticClass:"px-0"},[i("v-layout",{staticClass:"pl-1 pr-3",attrs:{"align-center":""}},[i("v-icon",{staticClass:"mx-2",attrs:{"v-if":!t.noIcon},domProps:{textContent:t._s(t.preicon)}}),t._v(" "),i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:t.isRequired?"":"required",expression:"isRequired ? '' : 'required'"}],attrs:{label:t.noNull?t.titleLabel:"Buscar "+t.titleLabel,items:t.entity.items,"item-text":t.itemtext,hint:t.theHint,"persistent-hint":"",name:t.titleLabel,required:!t.isRequired,"error-messages":t.errors.collect(t.titleLabel),loading:t.entity.loading,"search-input":t.entity.search,filter:t.entity.filter,"no-data-text":t.nodata,"return-object":"",disabled:!t.noDisabled,clearable:!t.noClearable,multiple:!t.noMultiple,"hide-selected":"","cache-items":""},on:{"update:searchInput":function(e){return t.$set(t.entity,"search",e)},"update:search-input":function(e){return t.$set(t.entity,"search",e)},input:t.input},scopedSlots:t._u([{key:!t.noListTitle||!t.noListSubTitle&&t.entity.items?"item":"",fn:function(e){return[t.entity.items?[i("v-list-tile-content",[t.noListTitle?t._e():i("v-list-tile-title",{domProps:{innerHTML:t._s(t.convertidor(e.item,t.datatitle))}}),t._v(" "),t.noListSubTitle?t._e():i("v-list-tile-sub-title",{domProps:{innerHTML:t._s(t.convertidor(e.item,t.datasubtitle))}})],1)]:t._e()]}}],null,!0),model:{value:t.entity.item,callback:function(e){t.$set(t.entity,"item",e)},expression:"entity.item"}}),t._v(" "),t.infoComponent&&(t.infoComponent.permisos.agregar&&t.noLite)?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",flat:"",icon:"",disabled:!t.noDisabled},on:{click:function(e){t.showBtnplusTruncate?t.$emit("click"):t.$store.commit("NAV_ADD_ITEM",{ruta:t.infoComponent.ruta_registro,titulo:t.infoComponent.titulo_registro,parametros:{entidad:null,key:t.entity.key,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}},slot:"activator"},[i("v-icon",{attrs:{color:"accent"}},[t._v("add")])],1),t._v(" "),i("span",[t._v("Crear "+t._s(t.titleLabel)+" "+t._s(t.noDisabled?"":" >> Deshabilitado"))])],1):t._e(),t._v(" "),t.noDetail?t._e():i("v-tooltip",{attrs:{top:""}},[t.noNull?i("v-btn",{attrs:{slot:"activator",flat:"",icon:"",disabled:!t.noDisabled},nativeOn:{click:function(e){t.entity.showContent=!t.entity.showContent}},slot:"activator"},[i("v-icon",[t._v(t._s(t.entity.showContent?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):t._e(),t._v(" "),i("span",[t._v(t._s(t.entity.showContent?"Ocultar":"Mostrar")+" detalle "+t._s(t.noDisabled?"":" >> Deshabilitado"))])],1)],1),t._v(" "),i("v-slide-y-transition",[t.noNull&&!t.noDetail?i("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.entity.showContent,expression:"entity.showContent"}],staticClass:"px-0 py-0 mx-0 my-0"},[i("v-toolbar",{staticClass:"mt-1",attrs:{dense:""}},[i("v-toolbar-title",[t._v("Información "+t._s(t.titleLabel))]),t._v(" "),i("v-spacer"),t._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",flat:"",icon:""},on:{click:function(e){t.$store.commit("NAV_ADD_ITEM",{ruta:t.infoComponent.ruta_registro,titulo:t.infoComponent.titulo_registro,parametros:{entidad:t.entity.item,key:t.entity.key,tabOrigin:t.$store.state.nav.currentItem.split("tab-")[1]}})}},slot:"activator"},[i("v-icon",[t._v("mode_edit")])],1),t._v(" "),i("span",[t._v("Actualizar información")])],1)],1),t._v(" "),t.detail?i(t.detail,{tag:"component",staticClass:"elevation-1",attrs:{item:t.entity.item}}):t._e()],1):t._e()],1)],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},747:function(t,e,i){"use strict";function n(t){i(1515)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(971),o=i(1517),s=i(1),r=n,l=s(a.a,o.a,!1,r,"data-v-3d71563c",null);e.default=l.exports},971:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__store_modules_general_snackbar__=__webpack_require__(12);__webpack_exports__.a={name:"Postulador",props:["clearable","datasubtitle","datatitle","detail","disabled","entidad","filter","hint","itemtext","label","lite","multiple","nodata","object","routeparams","preicon","required","scope","btnplustruncate","value"],data:function(){return{change:!1,theHint:null,entity:{showContent:!1,item:null,items:[],loading:!1,search:null,key:"entity."+Math.random().toString(36).substring(2),filter:this.filtrar}}},watch:{noDisabled:function(t){!t&&this.$validator.reset()},value:function(t){t!==this.entity.item&&this.assign(t)},"entity.item":function(t){void 0===t&&(t=null),this.theHint=t&&this.noHint?null:t&&null!==t.id?this.convertidor(t,this.hint):null,this.$emit("change",this.typeObject&&t?t.id:t),this.$emit("objectReturn",t)},"entity.search":function(t){t&&""!==t&&null!==t&&!this.change&&this.buscar()},item:function(t){var e=this;t.key===this.entity.key&&this.axios.get(this.entidad+"/"+t.item.id).then(function(t){var i=t.data.data;e.entity.items.findIndex(function(t){return t.id===i.id})>-1?e.entity.items.splice(e.entity.items.findIndex(function(t){return t.id===i.id}),1,i):e.entity.items.splice(0,0,i),e.$validator.errors.items.splice(e.$validator.errors.items.findIndex(function(t){return t.field===e.titleLabel}),1),e.$emit("change",e.typeObject?i.id:i),e.$emit("objectReturn",i)}).catch(function(t){e.$store.commit(__WEBPACK_IMPORTED_MODULE_0__store_modules_general_snackbar__.b,{msg:"Hay un error al traer el registro en "+e.entidad+". "+t,color:"danger"})})}},computed:{showBtnplusTruncate:function(){return void 0!==this.btnplustruncate},isRequired:function(){return void 0===this.required||!1===this.required},titleLabel:function(){return void 0===this.label?"entity":this.label},typeObject:function(){return void 0===this.object||!1===this.object},noDisabled:function(){return void 0===this.disabled||!1===this.disabled},noMultiple:function(){return void 0===this.multiple||!1===this.multiple},noClearable:function(){return void 0===this.clearable||!1===this.clearable},noIcon:function(){return void 0===this.preicon},noHint:function(){return void 0===this.hint||!this.noMultiple},noLite:function(){return void 0===this.lite||!1===this.lite},noFilter:function(){return void 0===this.filter},noDetail:function(){return void 0===this.detail||!this.noLite},noNull:function(){return this.entity.item&&this.entity.item.id},noEntidad:function(){return void 0===this.entidad||""===this.entidad||null===this.entidad},noRouteParams:function(){return void 0===this.routeparams||""===this.routeparams||null===this.routeparams},noListTitle:function(){return void 0===this.datatitle||""===this.datatitle||null===this.datatitle},noListSubTitle:function(){return void 0===this.datasubtitle||""===this.datasubtitle||null===this.datasubtitle},infoComponent:function(){return this.$store.getters.getInfoComponent(this.entidad)},item:function(){return!this.noEntidad&&this.convertidor(this.$store.state.tables,"item"+(this.entidad.charAt(0).toUpperCase()+(this.entidad.endsWith("s")?this.entidad.slice(1,this.entidad.length-1):this.entidad.slice(1))))}},mounted:function(){null!==this.value&&this.assign(this.value)},methods:{input:function(){var t=this;this.change=!0,setTimeout(function(){t.change=!1},700)},convertidor:function(t,e){for(var i=e.split(".");i.length;)t=t[i.shift()];return t},filtrar:function filtrar(item,queryText){var array=this.noFilter?[this.itemtext]:this.filter.split(",");array.forEach(function(t,e){array[e]="item."+t});var hasValue=function(t){return null!=t?t:""},text=hasValue(eval(array.join(' + " " + '))),query=hasValue(queryText);return text.toString().toLowerCase().indexOf(query.toString().toLowerCase())>-1},reset:function(){this.$validator.reset(),this.entity.showContent=!1,this.entity.items=[],this.entity.search=null,this.entity.item=null},assign:function(t){this.entity.item=t,this.$validator.reset(),t&&null!==t.id&&this.entity.items.push(t)},buscar:window.lodash.debounce(function(){var t=this;this.entity.loading=!0;var e="search=%25"+this.entity.search+"%25",i=this.entidad+"?"+(this.noRouteParams?e:this.routeparams+"&"+e);this.axios.get(i).then(function(e){e.data.data.length>0&&(t.entity.items=e.data.data),t.entity.loading=!1}).catch(function(e){t.entity.loading=!1,t.$store.commit(__WEBPACK_IMPORTED_MODULE_0__store_modules_general_snackbar__.b,{msg:"Hay un error al hacer la busqueda de registros en "+t.entidad+". "+e,color:"danger"})})},500),validate:function(){return this.$validator.validateAll(this.scope)}}}}});
//# sourceMappingURL=287.715a685ef914f9935e3f.js.map