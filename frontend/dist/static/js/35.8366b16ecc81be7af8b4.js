webpackJsonp([35],{1e3:function(e,t,o){"use strict";var i=o(13),a=o.n(i),n=o(14),c=o.n(n),r=o(12),s=o(40),l=o(248),d=o(58);t.a={name:"RegistroConceptoNotas",components:{Postulador:function(){return o.e(287).then(o.bind(null,747))},Loading:d.default},props:["parametros"],data:function(){return{loading:!1,buscandoCodigo:!1,dialogCodigo:!1,ordenEdit:!1,concepto:{bancos:"",naturaleza:""}}},watch:{parametros:function(e){e.nuevo&&this.formReset(),e.entidad&&null!==e.entidad&&this.getRegistro(e.entidad.id)}},methods:{validador:function(){return this.$validator.validateAll().then(function(e){return e})},submit:function(){var e=this;return c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validador();case 2:if(!t.sent){t.next=6;break}e.concepto.nf_niif_id?e.concepto.id?e.axios.put("ts_concepto_notas/"+e.concepto.id,e.concepto).then(function(t){e.$store.commit(r.b,{msg:"El concepto se actualizo correctamente",color:"success"}),e.formReset(),e.$store.dispatch(s.c,{contexto:e,itemId:e.parametros.tabOrigin}),e.$store.commit(l.s,{item:t.data.data,estado:"editar",key:e.parametros.key})}).catch(function(t){e.$store.commit(r.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}):e.axios.post("ts_concepto_notas",e.concepto).then(function(t){e.$store.commit(r.b,{msg:"El concepto se creó correctamente",color:"success"}),e.formReset(),e.$store.dispatch(s.c,{contexto:e,itemId:e.parametros.tabOrigin}),e.$store.commit(l.s,{item:t.data.data,estado:"crear",key:e.parametros.key})}).catch(function(t){e.$store.commit(r.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}):e.$store.commit(r.b,{msg:"Seleccione una cuenta auxiliar.",color:"danger"}),t.next=8;break;case 6:console.log("Error"),e.$store.commit(r.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 8:case"end":return t.stop()}},t,e)}))()},findByCodigo:function(){var e=this;this.concepto.codigo&&(this.buscandoCodigo=!0,this.axios.get("ts_concepto_notas/codigo/"+this.concepto.codigo).then(function(t){t.data.exists&&(e.$store.commit(r.b,{msg:"El concepto existe",color:"success"}),e.formReset(),e.concepto=t.data.data,e.dialogCodigo=!0),e.buscandoCodigo=!1}).catch(function(t){e.buscandoCodigo=!1,e.$store.commit(r.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}))},editarByCodigo:function(){this.dialogCodigo=!1,this.ordenEdit=!0},cerrarByCodigo:function(){this.formReset(),this.ordenEdit=!1,this.dialogCodigo=!1},formReset:function(){this.concepto={naturaleza:"",facturacion:"",anticipos:"",pacientes:""},this.dialogCodigo=!1,this.ordenEdit=!1},niifSeleccionado:function(e){null!==e&&(this.concepto.niif=e,this.concepto.naturaleza=e.clascuenta.naturaleza)},getRegistro:function(e){var t=this;this.axios.get("ts_concepto_notas/"+e).then(function(e){e.data.exists?t.edit(e.data.data):t.$store.commit(r.b,{msg:"No existe el concepto",color:"danger"})}).catch(function(e){t.$store.commit(r.a,{expression:" al traer el concepto. ",error:e})})},edit:function(e){this.ordenEdit=!0,this.concepto=e}},mounted:function(){this.$validator.localize("es")}}},1592:function(e,t,o){"use strict";var i=o(998),a=o(1593),n=o(1),c=n(i.a,a.a,!1,null,null,null);t.a=c.exports},1593:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-container",{attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:10",expression:"'required|max:10'"}],attrs:{label:"Código",name:"código",disabled:!!e.concepto.id,"error-messages":e.errors.collect("código"),loading:e.buscandoCodigo},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findByCodigo(t)},blur:e.findByCodigo},model:{value:e.concepto.codigo,callback:function(t){e.$set(e.concepto,"codigo",t)},expression:"concepto.codigo"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm4:"",md8:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{label:"Nombre del concepto",name:"nombre del concepto","error-messages":e.errors.collect("nombre del concepto")},model:{value:e.concepto.nombre,callback:function(t){e.$set(e.concepto,"nombre",t)},expression:"concepto.nombre"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md8:""}},[o("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"validadorNiif",attrs:{"no-data":"Busqueda por código o nombre.",hint:"codigo","item-text":"nombre","data-title":"codigo","data-subtitle":"nombre",label:"Cuenta auxiliar",entidad:"niifs","route-params":"nivel:auxiliar=1&with=clascuenta",name:"cuenta auxiliar",rules:"required","error-messages":e.errors.collect("cuenta auxiliar"),"no-btn-create":"","min-characters-search":3,clearable:""},on:{changeid:function(t){return e.concepto.nf_niif_id=t}},model:{value:e.concepto.niif,callback:function(t){e.$set(e.concepto,"niif",t)},expression:"concepto.niif"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md4:""}},[o("span",{staticClass:"v-label caption theme--light"},[e._v("Naturaleza")]),e._v(" "),o("v-radio-group",{staticClass:"mt-0",attrs:{row:""},model:{value:e.concepto.naturaleza,callback:function(t){e.$set(e.concepto,"naturaleza",t)},expression:"concepto.naturaleza"}},[o("v-radio",{attrs:{label:"Débito",value:"Débito"}}),e._v(" "),o("v-radio",{attrs:{label:"Crédito",value:"Crédito"}})],1)],1),e._v(" "),e.concepto.niif&&"Retencion"===e.concepto.niif.tipo?o("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Concepto de retención","item-value":"id","item-text":"codigo_nombre",items:e.conrtfs,loading:e.loadingConrtfs,placehoder:"Buscar por código o nombre","no-data-text":"No hay resultados para mostrar",name:"concepto de retención","error-messages":e.errors.collect("concepto de retención")},model:{value:e.concepto.nf_conrtf_id,callback:function(t){e.$set(e.concepto,"nf_conrtf_id",t)},expression:"concepto.nf_conrtf_id"}})],1):e._e(),e._v(" "),e.configuracion&&e.configuracion.afecta_presupuesto_doc_tesoreria?[o("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[o("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Entidad resolución","item-value":"id","item-text":"nombre",items:e.entidadesResolucion,name:"entidad resolución","error-messages":e.errors.collect("entidad resolución"),"persistent-hint":"",hint:e.concepto.pr_entidad_resolucion_id&&e.entidadesResolucion.find(function(t){return t.id===e.concepto.pr_entidad_resolucion_id})?"Periodo: "+e.entidadesResolucion.find(function(t){return t.id===e.concepto.pr_entidad_resolucion_id}).periodo:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo))])],1)],1)],1)]}},{key:"item",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo)+" - Periodo: "+e._s(t.item.periodo))])],1)],1)],1)]}}],null,!1,101453443),model:{value:e.concepto.pr_entidad_resolucion_id,callback:function(t){e.$set(e.concepto,"pr_entidad_resolucion_id",t)},expression:"concepto.pr_entidad_resolucion_id"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Rubro de ingreso",items:e.stringresos,"item-value":"id","item-text":"id",filter:e.filterStringresos,placehoder:"Busqueda por código o nombre.","no-data-text":"No hay resultados para mostrar",name:"rubro de ingreso","error-messages":e.errors.collect("rubro de ingreso"),"persistent-hint":"",hint:e.concepto.pr_detstringreso_id&&e.stringresos.find(function(t){return t.id===e.concepto.pr_detstringreso_id})?"Tipo: "+e.stringresos.find(function(t){return t.id===e.concepto.pr_detstringreso_id}).tipo_ingreso.nombre:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.rubro.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.rubro.codigo))])],1)],1)],1)]}},{key:"item",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.rubro.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.rubro.codigo))])],1)],1)],1)]}}],null,!1,2698701052),model:{value:e.concepto.pr_detstringreso_id,callback:function(t){e.$set(e.concepto,"pr_detstringreso_id",t)},expression:"concepto.pr_detstringreso_id"}})],1)]:e._e(),e._v(" "),o("v-flex",{attrs:{"d-flex":""}},[o("v-switch",{attrs:{label:"Facturación","true-value":1,"false-value":0},model:{value:e.concepto.facturacion,callback:function(t){e.$set(e.concepto,"facturacion",t)},expression:"concepto.facturacion"}})],1),e._v(" "),o("v-flex",{attrs:{"d-flex":""}},[o("v-switch",{attrs:{disabled:!e.concepto.facturacion,label:"Anticipos","true-value":1,"false-value":0},model:{value:e.concepto.anticipos,callback:function(t){e.$set(e.concepto,"anticipos",t)},expression:"concepto.anticipos"}})],1),e._v(" "),o("v-flex",{attrs:{"d-flex":""}},[o("v-switch",{attrs:{disabled:!e.concepto.facturacion||!e.concepto.anticipos,label:"Pacientes / Afiliados","true-value":1,"false-value":0},model:{value:e.concepto.pacientes,callback:function(t){e.$set(e.concepto,"pacientes",t)},expression:"concepto.pacientes"}})],1)],2)],1),e._v(" "),e.configuracion?[o("v-divider"),e._v(" "),o("v-card-actions",[o("v-tooltip",{attrs:{top:""}},[o("v-btn",{attrs:{slot:"activator"},on:{click:function(t){return e.formReset(!0)}},slot:"activator"},[o("v-icon",{attrs:{left:""}},[e._v("fas fa-eraser")]),e._v("\n          Limpiar\n        ")],1),e._v(" "),o("span",[e._v("Limpiar formulario")])],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("\n        Registrar\n      ")])],1)]:e._e(),e._v(" "),o("loading",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),e._v(" "),o("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogCodigo,callback:function(t){e.dialogCodigo=t},expression:"dialogCodigo"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Codigo del concepto de recibo de caja")]),e._v(" "),o("v-card-text",[e._v("El codigo del concepto de recibo de caja ya esta siendo utilizado, desea cargar los datos para su actualizacion o utilizar otro codigo")]),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.editarByCodigo}},[e._v("Cargar datos")]),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.cerrarByCodigo}},[e._v("Otro código")])],1)],1)],1)],2)},a=[],n={render:i,staticRenderFns:a};t.a=n},1594:function(e,t,o){"use strict";var i=o(999),a=o(1595),n=o(1),c=n(i.a,a.a,!1,null,null,null);t.a=c.exports},1595:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-container",{attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:10",expression:"'required|max:10'"}],attrs:{label:"Código",name:"código",disabled:!!e.concepto.id,"error-messages":e.errors.collect("código"),loading:e.buscandoCodigo},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findByCodigo(t)},blur:e.findByCodigo},model:{value:e.concepto.codigo,callback:function(t){e.$set(e.concepto,"codigo",t)},expression:"concepto.codigo"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm4:"",md8:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],attrs:{label:"Nombre del concepto",name:"nombre del concepto","error-messages":e.errors.collect("nombre del concepto")},model:{value:e.concepto.nombre,callback:function(t){e.$set(e.concepto,"nombre",t)},expression:"concepto.nombre"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md2:""}},[o("v-switch",{attrs:{label:"Afecta bancos","true-value":1,"false-value":0},model:{value:e.concepto.bancos,callback:function(t){e.$set(e.concepto,"bancos",t)},expression:"concepto.bancos"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md7:""}},[e.concepto.bancos?o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Cuenta bancaria",items:e.cuentasBancarias,"item-value":"id","item-text":"id",filter:e.filterCuentasBancarias,placehoder:"Busqueda por código, número de cuenta o nombre de banco.","no-data-text":"No hay resultados para mostrar",name:"cuenta bancaria",loading:e.loadingCuentasBancarias,"error-messages":e.errors.collect("cuenta bancaria"),"persistent-hint":"",hint:e.concepto.ts_cuenta_id&&e.cuentasBancarias.find(function(t){return t.id===e.concepto.ts_cuenta_id})?"Tipo: "+e.cuentasBancarias.find(function(t){return t.id===e.concepto.ts_cuenta_id}).tipo_cuenta:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.numero_cuenta))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo)+" - Banco: "+e._s(t.item.banco.nombre))])],1)],1)],1)]}},{key:"item",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.numero_cuenta))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo)+" - Banco: "+e._s(t.item.banco.nombre))])],1)],1)],1)]}}]),model:{value:e.concepto.ts_cuenta_id,callback:function(t){e.$set(e.concepto,"ts_cuenta_id",t)},expression:"concepto.ts_cuenta_id"}}):o("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"validadorNiif",attrs:{"no-data":"Busqueda por código o nombre.",hint:"codigo","item-text":"nombre","data-title":"codigo","data-subtitle":"nombre",label:"Cuenta contable",entidad:"niifs","route-params":"nivel:auxiliar=1&with=clascuenta",name:"cuenta contable",rules:"required","error-messages":e.errors.collect("cuenta contable"),"no-btn-create":"",clearable:""},on:{changeid:function(t){return e.concepto.nf_niif_id=t}},model:{value:e.concepto.niif,callback:function(t){e.$set(e.concepto,"niif",t)},expression:"concepto.niif"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:""}},[o("span",{staticClass:"v-label caption theme--light"},[e._v("Naturaleza")]),e._v(" "),o("v-radio-group",{staticClass:"mt-0",attrs:{row:""},model:{value:e.concepto.naturaleza,callback:function(t){e.$set(e.concepto,"naturaleza",t)},expression:"concepto.naturaleza"}},[o("v-radio",{key:"naturalezaDebito",attrs:{label:"Débito",value:"Débito"}}),e._v(" "),o("v-radio",{key:"naturalezaCredito",attrs:{label:"Crédito",value:"Crédito"}})],1)],1)],1),e._v(" "),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-expansion-panel",{attrs:{value:[e.concepto.presupuesto],readonly:"",expand:""}},[o("v-expansion-panel-content",{attrs:{readonly:"","hide-actions":""}},[o("template",{slot:"header"},[o("v-checkbox",{staticClass:"checkbox-pt0",attrs:{label:"Afecta presupuesto","hide-details":"","true-value":1,"false-value":0},model:{value:e.concepto.presupuesto,callback:function(t){e.$set(e.concepto,"presupuesto",t)},expression:"concepto.presupuesto"}})],1),e._v(" "),o("v-card",[o("v-divider"),e._v(" "),o("v-container",{staticClass:"pa-2",attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:"",md5:""}},[o("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Entidad resolución de egreso","item-value":"id","item-text":"nombre",items:e.entidadesResolucion,name:"entidad resolución de egreso","error-messages":e.errors.collect("entidad resolución de egreso"),disabled:!e.concepto.presupuesto,"persistent-hint":"",loading:e.loadingEntidadesResolucion,hint:e.concepto.pr_entidad_resolucion_egr_id&&e.entidadesResolucion.find(function(t){return t.id===e.concepto.pr_entidad_resolucion_egr_id})?"Periodo: "+e.entidadesResolucion.find(function(t){return t.id===e.concepto.pr_entidad_resolucion_egr_id}).periodo:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo))])],1)],1)],1)]}},{key:"item",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo)+" - Periodo: "+e._s(t.item.periodo))])],1)],1)],1)]}}]),model:{value:e.concepto.pr_entidad_resolucion_egr_id,callback:function(t){e.$set(e.concepto,"pr_entidad_resolucion_egr_id",t)},expression:"concepto.pr_entidad_resolucion_egr_id"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md5:""}},[o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Rubro de egreso",items:e.detStregresos,"item-value":"id","item-text":"id",filter:e.filterStringresos,placehoder:"Busqueda por código o nombre.","no-data-text":"No hay resultados para mostrar",name:"rubro de egreso","error-messages":e.errors.collect("rubro de egreso"),disabled:!e.concepto.presupuesto,loading:e.loadingDetStregresos,"persistent-hint":"",hint:e.concepto.pr_detstrgasto_id&&e.detStregresos.find(function(t){return t.id===e.concepto.pr_detstrgasto_id})?"Tipo: "+e.detStregresos.find(function(t){return t.id===e.concepto.pr_detstrgasto_id}).tipo_gasto.nombre:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.rubro.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.rubro.codigo))])],1)],1)],1)]}},{key:"item",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.rubro.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.rubro.codigo))])],1)],1)],1)]}}]),model:{value:e.concepto.pr_detstrgasto_id,callback:function(t){e.$set(e.concepto,"pr_detstrgasto_id",t)},expression:"concepto.pr_detstrgasto_id"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[o("v-switch",{attrs:{label:"Capturar orden de pago","true-value":1,"false-value":0,disabled:!e.concepto.presupuesto},model:{value:e.concepto.orden_pago,callback:function(t){e.$set(e.concepto,"orden_pago",t)},expression:"concepto.orden_pago"}})],1)],1)],1)],1)],2)],1),e._v(" "),o("v-expansion-panel",{staticClass:"my-1",attrs:{value:[e.concepto.concepto_cajamenor],readonly:"",expand:""}},[o("v-expansion-panel-content",{attrs:{readonly:"","hide-actions":""}},[o("template",{slot:"header"},[o("v-checkbox",{staticClass:"checkbox-pt0",attrs:{label:"Concepto de caja menor","hide-details":"","true-value":1,"false-value":0},model:{value:e.concepto.concepto_cajamenor,callback:function(t){e.$set(e.concepto,"concepto_cajamenor",t)},expression:"concepto.concepto_cajamenor"}})],1),e._v(" "),o("v-card",[o("v-divider"),e._v(" "),o("v-container",{staticClass:"pa-2",attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Caja menor",items:e.cajasMenores,"item-value":"id","item-text":"id",filter:e.filterCajasMenores,placehoder:"Busqueda por código o nombre.","no-data-text":"No hay resultados para mostrar",disabled:!e.concepto.concepto_cajamenor,name:"caja menor","error-messages":e.errors.collect("caja menor"),"persistent-hint":"",loading:e.loadingCajasMenores,hint:e.concepto.ts_caja_id&&e.cajasMenores.find(function(t){return t.id===e.concepto.ts_caja_id})?"Tipo: "+e.cajasMenores.find(function(t){return t.id===e.concepto.ts_caja_id}).tipo:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo))])],1)],1)],1)]}},{key:"item",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo))])],1)],1)],1)]}}]),model:{value:e.concepto.ts_caja_id,callback:function(t){e.$set(e.concepto,"ts_caja_id",t)},expression:"concepto.ts_caja_id"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Reembolso caja menor","true-value":1,"false-value":0,disabled:!e.concepto.concepto_cajamenor},model:{value:e.concepto.reembolso_cajamenor,callback:function(t){e.$set(e.concepto,"reembolso_cajamenor",t)},expression:"concepto.reembolso_cajamenor"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Descuentos de caja menor","true-value":1,"false-value":0,disabled:!e.concepto.concepto_cajamenor},model:{value:e.concepto.descuento_cajamenor,callback:function(t){e.$set(e.concepto,"descuento_cajamenor",t)},expression:"concepto.descuento_cajamenor"}})],1)],1)],1)],1)],2)],1),e._v(" "),o("v-expansion-panel",{attrs:{value:[e.concepto.devolucion_paciente],readonly:"",expand:""}},[o("v-expansion-panel-content",{attrs:{readonly:"","hide-actions":""}},[o("template",{slot:"header"},[o("v-checkbox",{staticClass:"checkbox-pt0",attrs:{label:"Devolución pacientes / afiliados","hide-details":"","true-value":1,"false-value":0},model:{value:e.concepto.devolucion_paciente,callback:function(t){e.$set(e.concepto,"devolucion_paciente",t)},expression:"concepto.devolucion_paciente"}})],1),e._v(" "),o("v-card",[o("v-divider"),e._v(" "),o("v-container",{staticClass:"pa-2",attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[o("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Entidad resolución de ingreso","item-value":"id","item-text":"nombre",items:e.entidadesResolucion,name:"entidad resolución de ingreso","error-messages":e.errors.collect("entidad resolución de ingreso"),disabled:!e.concepto.devolucion_paciente,"persistent-hint":"",loading:e.loadingEntidadesResolucion,hint:e.concepto.pr_entidad_resolucion_ing_id&&e.entidadesResolucion.find(function(t){return t.id===e.concepto.pr_entidad_resolucion_ing_id})?"Periodo: "+e.entidadesResolucion.find(function(t){return t.id===e.concepto.pr_entidad_resolucion_ing_id}).periodo:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo))])],1)],1)],1)]}},{key:"item",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.codigo)+" - Periodo: "+e._s(t.item.periodo))])],1)],1)],1)]}}]),model:{value:e.concepto.pr_entidad_resolucion_ing_id,callback:function(t){e.$set(e.concepto,"pr_entidad_resolucion_ing_id",t)},expression:"concepto.pr_entidad_resolucion_ing_id"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[o("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Rubro de ingreso",items:e.detStringresos,"item-value":"id","item-text":"id",filter:e.filterStringresos,placehoder:"Busqueda por código o nombre.","no-data-text":"No hay resultados para mostrar",name:"rubro de ingreso","error-messages":e.errors.collect("rubro de ingreso"),disabled:!e.concepto.devolucion_paciente,"persistent-hint":"",loading:e.loadingDetStringresos,hint:e.concepto.pr_detstringreso_id&&e.detStringresos.find(function(t){return t.id===e.concepto.pr_detstringreso_id})?"Tipo: "+e.detStringresos.find(function(t){return t.id===e.concepto.pr_detstringreso_id}).tipo_ingreso.nombre:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.rubro.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.rubro.codigo))])],1)],1)],1)]}},{key:"item",fn:function(t){return[o("div",{staticStyle:{width:"100% !important"}},[o("v-list-tile",{staticClass:"content-v-list-tile-p0"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.item.rubro.nombre))]),e._v(" "),o("v-list-tile-sub-title",{staticClass:"caption"},[e._v("Código: "+e._s(t.item.rubro.codigo))])],1)],1)],1)]}}]),model:{value:e.concepto.pr_detstringreso_id,callback:function(t){e.$set(e.concepto,"pr_detstringreso_id",t)},expression:"concepto.pr_detstringreso_id"}})],1)],1)],1)],1)],2)],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Afecta facturación","true-value":1,"false-value":0},model:{value:e.concepto.facturacion,callback:function(t){e.$set(e.concepto,"facturacion",t)},expression:"concepto.facturacion"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Maneja anticipos","true-value":1,"false-value":0,disabled:!e.concepto.facturacion},model:{value:e.concepto.anticipos,callback:function(t){e.$set(e.concepto,"anticipos",t)},expression:"concepto.anticipos"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Requiere contrato","true-value":1,"false-value":0,disabled:!e.concepto.facturacion||!e.concepto.anticipos},model:{value:e.concepto.maneja_contrato,callback:function(t){e.$set(e.concepto,"maneja_contrato",t)},expression:"concepto.maneja_contrato"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Descuentos especiales","true-value":1,"false-value":0},model:{value:e.concepto.descuentos,callback:function(t){e.$set(e.concepto,"descuentos",t)},expression:"concepto.descuentos"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Afecta acreedores","true-value":1,"false-value":0},model:{value:e.concepto.acreedores,callback:function(t){e.$set(e.concepto,"acreedores",t)},expression:"concepto.acreedores"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Constitucion de CDT","true-value":1,"false-value":0},model:{value:e.concepto.cdt,callback:function(t){e.$set(e.concepto,"cdt",t)},expression:"concepto.cdt"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Incapacidades","true-value":1,"false-value":0},model:{value:e.concepto.maneja_incapacidad,callback:function(t){e.$set(e.concepto,"maneja_incapacidad",t)},expression:"concepto.maneja_incapacidad"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[o("v-switch",{attrs:{label:"Cuentas médicas","true-value":1,"false-value":0},model:{value:e.concepto.maneja_cuentamedica,callback:function(t){e.$set(e.concepto,"maneja_cuentamedica",t)},expression:"concepto.maneja_cuentamedica"}})],1)],1),e._v(" "),e.configuracion?[o("v-divider"),e._v(" "),o("v-card-actions",[o("v-tooltip",{attrs:{top:""}},[o("v-btn",{attrs:{slot:"activator"},on:{click:function(t){return e.formReset(!0)}},slot:"activator"},[o("v-icon",{attrs:{left:""}},[e._v("fas fa-eraser")]),e._v("\n            Limpiar\n          ")],1),e._v(" "),o("span",[e._v("Limpiar formulario")])],1),e._v(" "),o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("\n          Registrar\n        ")])],1)]:e._e()],2),e._v(" "),o("loading",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),e._v(" "),o("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogCodigo,callback:function(t){e.dialogCodigo=t},expression:"dialogCodigo"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Codigo del concepto de egreso")]),e._v(" "),o("v-card-text",[e._v("El codigo del concepto de egreso ya esta siendo utilizado, desea cargar los datos para su actualización o utilizar otro código")]),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.editarByCodigo}},[e._v("Cargar datos")]),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.cerrarByCodigo}},[e._v("Otro código")])],1)],1)],1)],1)},a=[],n={render:i,staticRenderFns:a};t.a=n},1596:function(e,t,o){"use strict";var i=o(1e3),a=o(1597),n=o(1),c=n(i.a,a.a,!1,null,null,null);t.a=c.exports},1597:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-container",{attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:10",expression:"'required|max:10'"}],key:"codigo",attrs:{label:"Codigo",name:"codigo",disabled:e.ordenEdit,"error-messages":e.errors.collect("codigo"),"persistent-hint":"",hint:e.buscandoCodigo?"Estamos buscando el codigo":"",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findByCodigo(t)},blur:e.findByCodigo},model:{value:e.concepto.codigo,callback:function(t){e.$set(e.concepto,"codigo",t)},expression:"concepto.codigo"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm4:"",md8:"",lg8:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:255",expression:"'required|max:255'"}],key:"nombre",attrs:{label:"Nombre del concepto",name:"nombre del concepto","error-messages":e.errors.collect("nombre del concepto"),required:""},model:{value:e.concepto.nombre,callback:function(t){e.$set(e.concepto,"nombre",t)},expression:"concepto.nombre"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md8:"",lg8:""}},[o("postulador",{ref:"buscarCuenta",attrs:{nodata:"Busqueda por código o nombre.",required:"",hint:"codigo",itemtext:"nombre",datatitle:"codigo",datasubtitle:"nombre",filter:"codigo,nombre",label:"cuenta auxiliar",lite:"",entidad:"niifs",routeparams:"nivel:auxiliar=1&with=clascuenta",preicon:"person",value:e.concepto.niif,clearable:""},on:{change:function(t){return e.concepto.nf_niif_id=t},objectReturn:function(t){return e.niifSeleccionado(t)}}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[e._v("\n        Naturaleza\n        "),o("v-radio-group",{attrs:{column:!1},model:{value:e.concepto.naturaleza,callback:function(t){e.$set(e.concepto,"naturaleza",t)},expression:"concepto.naturaleza"}},[o("v-radio",{key:"1",attrs:{label:"Débito",value:"Débito"}}),e._v(" "),o("v-radio",{key:"2",attrs:{label:"Crédito",value:"Crédito"}})],1)],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[o("v-text-field",{attrs:{label:"Codigo de retencion",required:""},model:{value:e.concepto.cod_retencion,callback:function(t){e.$set(e.concepto,"cod_retencion",t)},expression:"concepto.cod_retencion"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[e._v("\n        constitucion de CDT\n        "),o("v-radio-group",{model:{value:e.concepto.constitucion_cdt,callback:function(t){e.$set(e.concepto,"constitucion_cdt",t)},expression:"concepto.constitucion_cdt"}},[o("v-radio",{key:"facturacionSi",attrs:{label:"Si",value:"Si"}}),e._v(" "),o("v-radio",{key:"facturacionNo",attrs:{label:"No",value:"No"}})],1)],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[e._v("\n        Redencion de CDT\n        "),o("v-radio-group",{model:{value:e.concepto.retencion_cdt,callback:function(t){e.$set(e.concepto,"retencion_cdt",t)},expression:"concepto.retencion_cdt"}},[o("v-radio",{key:"facturacionSi",attrs:{label:"Si",value:"Si"}}),e._v(" "),o("v-radio",{key:"facturacionNo",attrs:{label:"No",value:"No"}})],1)],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[e._v("\n        Afecta acreeadores\n        "),o("v-radio-group",{model:{value:e.concepto.acreedores,callback:function(t){e.$set(e.concepto,"acreedores",t)},expression:"concepto.acreedores"}},[o("v-radio",{key:"facturacionSi",attrs:{label:"Si",value:"Si"}}),e._v(" "),o("v-radio",{key:"facturacionNo",attrs:{label:"No",value:"No"}})],1)],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[e._v("\n        Afecta CXP\n        "),o("v-radio-group",{model:{value:e.concepto.cxp,callback:function(t){e.$set(e.concepto,"cxp",t)},expression:"concepto.cxp"}},[o("v-radio",{key:"facturacionSi",attrs:{label:"Si",value:"Si"}}),e._v(" "),o("v-radio",{key:"facturacionNo",attrs:{label:"No",value:"No"}})],1)],1)],1),e._v(" "),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[e._v("\n        Presupuesto de ingresos\n        "),o("v-radio-group",{model:{value:e.concepto.ingresos,callback:function(t){e.$set(e.concepto,"ingresos",t)},expression:"concepto.ingresos"}},[o("v-radio",{key:"facturacionSi",attrs:{label:"Si",value:"Si"}}),e._v(" "),o("v-radio",{key:"facturacionNo",attrs:{label:"No",value:"No"}})],1)],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[e._v("\n        Presupuesto de gastos\n        "),o("v-radio-group",{model:{value:e.concepto.gastos,callback:function(t){e.$set(e.concepto,"gastos",t)},expression:"concepto.gastos"}},[o("v-radio",{key:"facturacionSi",attrs:{label:"Si",value:"Si"}}),e._v(" "),o("v-radio",{key:"facturacionNo",attrs:{label:"No",value:"No"}})],1)],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[o("postulador",{ref:"buscarUnidadEjecutora",attrs:{nodata:"Busqueda por codigo de habilitacion o nombre.",hint:"cod_habilitacion",itemtext:"tercero.razon_social",datatitle:"tercero.razon_social",datasubtitle:"cod_habilitacion",filter:"identificacion,tercero.razon_social,cod_habilitacion",label:"Unidad ejecura",lite:"",entidad:"entidades",preicon:"person",routeparams:"&with=tercero",value:e.concepto.entidad,clearable:""},on:{change:function(t){return e.concepto.rs_entidad_id=t},objectReturn:function(t){return e.concepto.entidad=t}}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[o("postulador",{ref:"buscarRubroPresupuestal",attrs:{nodata:"Busqueda por descripcion.",required:"",itemtext:"descripcion",datatitle:"descripcion",filter:"descripcion",label:"Rubro",lite:"",entidad:"pr_rubros",preicon:"person",value:e.concepto.rubro,clearable:""},on:{change:function(t){return e.concepto.pr_rubro_id=t},objectReturn:function(t){return e.concepto.rubro=t}}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[o("v-text-field",{attrs:{label:"Tipo de ingreso o de gasto",required:""},model:{value:e.concepto.cod_retencion,callback:function(t){e.$set(e.concepto,"cod_retencion",t)},expression:"concepto.cod_retencion"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[e._v("\n        Devolucion de recaudo\n        "),o("v-radio-group",{model:{value:e.concepto.recaudo,callback:function(t){e.$set(e.concepto,"recaudo",t)},expression:"concepto.recaudo"}},[o("v-radio",{key:"facturacionSi",attrs:{label:"Si",value:"Si"}}),e._v(" "),o("v-radio",{key:"facturacionNo",attrs:{label:"No",value:"No"}})],1)],1)],1),e._v(" "),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[o("v-btn",{attrs:{color:"success"},on:{click:e.submit}},[e._v("\n          Guardar\n        ")])],1)],1)],1),e._v(" "),o("loading",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),e._v(" "),o("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogCodigo,callback:function(t){e.dialogCodigo=t},expression:"dialogCodigo"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Codigo del concepto de notas bancarias")]),e._v(" "),o("v-card-text",[e._v("El codigo del concepto de notas bancarias ya esta siendo utilizado, desea cargar los datos para su actualizacion o utilizar otro código")]),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.editarByCodigo}},[e._v("Cargar datos")]),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.cerrarByCodigo}},[e._v("Otro código")])],1)],1)],1)],1)},a=[],n={render:i,staticRenderFns:a};t.a=n},1598:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-toolbar",{attrs:{dense:""}},[o("v-icon",[e._v(e._s(e.infoComponent?e.infoComponent.icono:""))]),e._v(" "),o("v-toolbar-title",[e._v(e._s(e.concepto.id?"Edición de":"Nuevo")+" concepto de tesorería")]),e._v(" "),o("v-spacer"),e._v(" "),o("v-toolbar-items",[e.concepto.id?o("input-detail-flex",{attrs:{label:"Tipo de concepto",text:e.tiposConcepto.find(function(t){return t.value===e.tipoConcepto}).text}}):o("v-select",{attrs:{label:"Tipo de concepto",items:e.tiposConcepto,"hide-details":""},model:{value:e.tipoConcepto,callback:function(t){e.tipoConcepto=t},expression:"tipoConcepto"}})],1)],1),e._v(" "),e.tipoConcepto?[1===e.tipoConcepto?o("registro-concepto-recibos",{attrs:{configuracion:e.configuracion,parametros:e.concepto},on:{input:function(t){return e.concepto=t}}}):e._e(),e._v(" "),2===e.tipoConcepto?o("registro-concepto-egreso",{attrs:{configuracion:e.configuracion,parametros:e.concepto}}):e._e(),e._v(" "),3===e.tipoConcepto?o("registro-concepto-notas",{attrs:{configuracion:e.configuracion,parametros:e.concepto}}):e._e()]:o("div",{staticClass:"title grey--text text-xs-center font-weight-light pa-5"},[e._v("\n    Seleccione un tipo de concepto\n  ")])],2)},a=[],n={render:i,staticRenderFns:a};t.a=n},512:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(997),a=o(1598),n=o(1),c=n(i.a,a.a,!1,null,null,null);t.default=c.exports},997:function(e,t,o){"use strict";var i=o(13),a=o.n(i),n=o(14),c=o.n(n),r=o(1592),s=o(1594),l=o(1596);t.a={name:"RegistroConceptosTesoreria",props:["parametros"],components:{InputDetailFlex:function(){return new Promise(function(e){e()}).then(o.bind(null,250))},RegistroConceptoRecibos:r.a,RegistroConceptoEgreso:s.a,RegistroConceptoNotas:l.a},data:function(){return{concepto:{},tiposConcepto:[{value:1,text:"Recibo de caja"},{value:2,text:"Comprobante de egreso"},{value:3,text:"Nota bancaria"}],tipoConcepto:null,configuracion:null}},computed:{infoComponent:function(){return this.$store.getters.getInfoComponent("conceptosTesoreria")}},created:function(){this.getParametros(),null!==this.parametros.entidad&&(this.concepto=this.parametros.entidad,this.tipoConcepto="caja"===this.parametros.tipo?1:"egreso"===this.parametros.tipo?2:3)},methods:{getParametros:function(){var e=this;return c()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.axios.get("ts_parametros").then(function(t){console.log("response",t),t.data.data?e.configuracion=t.data.data:e.$store.commit("SNACK_SHOW",{msg:"No se ha realizado la parametrización de tesorería.",color:"error"})}).catch(function(t){e.$store.commit("SNACK_ERROR_LIST",{expression:" al traer los parametros de tesorería. ",error:t})});case 1:case"end":return t.stop()}},t,e)}))()}}}},998:function(e,t,o){"use strict";var i=o(7),a=o.n(i),n=o(58),c=o(12),r=o(40),s=o(248);t.a={name:"RegistroConceptosRecibosCaja",components:{Loading:n.default,PostuladorV2:function(){return new Promise(function(e){e()}).then(o.bind(null,61))}},props:["parametros","configuracion"],data:function(){return{loadingConrtfs:!0,loading:!0,dialogCodigo:!1,buscandoCodigo:!1,concepto:{},temporal:null,conrtfs:[],entidadesResolucion:[],stringresos:[],filterStringresos:function(e,t){var o=function(e){return null!=e?e:""};return o(e.rubro.codigo+" "+e.rubro.nombre).toString().toLowerCase().indexOf(o(t).toString().toLowerCase())>-1}}},watch:{"concepto.pr_entidad_resolucion_id":function(e){e?this.getDetStringresos(e):this.concepto.pr_detstringreso_id=null},"configuracion.afecta_presupuesto_doc_tesoreria":function(e){e||(this.concepto.pr_entidad_resolucion_id=null,this.concepto.pr_detstringreso_id=null)},"concepto.niif":function(e){e&&(this.concepto.naturaleza=e.clascuenta.naturaleza,"Retencion"===e.tipo?this.conrtfs.length||this.getConrtfs():this.concepto.nf_conrtf_id=null)},"concepto.facturacion":function(e,t){e||void 0===t||(this.concepto.anticipos=0,this.concepto.pacientes=0)},"concepto.anticipos":function(e,t){e||void 0===t||(this.concepto.pacientes=0)}},created:function(){this.formReset(),this.parametros.id?this.getRegistro(this.parametros.id):this.loading=!1,this.getEntidadesResolucion()},methods:{submit:function(){var e=this;this.$validator.validateAll().then(function(t){if(t){e.loading=!0;var o=e.concepto.id?"editar":"crear";("crear"===o?e.axios.post("ts_concepto_recibos",e.concepto):e.axios.put("ts_concepto_recibos/"+e.concepto.id,e.concepto)).then(function(t){e.$store.commit(c.b,{msg:"El concepto se "+("editar"===o?"actualizó":"creó")+" correctamente.",color:"success"}),e.$store.dispatch(r.c,{contexto:e,itemId:e.parametros.tabOrigin}),e.$store.commit(s.u,{item:t.data.data,estado:o,key:e.parametros.key}),e.loading=!1}).catch(function(t){e.loading=!1,e.$store.commit(c.a,{expression:" al registrar el concepto. ",error:t})})}})},findByCodigo:function(){var e=this;this.concepto.codigo&&(this.temporal=null,this.buscandoCodigo=!0,this.axios.get("ts_concepto_recibos/codigo/"+this.concepto.codigo).then(function(t){t.data.data&&(e.temporal=t.data.data,e.dialogCodigo=!0),e.buscandoCodigo=!1}).catch(function(t){e.buscandoCodigo=!1,e.$store.commit(c.a,{expression:" al validar el código. ",error:t})}))},editarByCodigo:function(){this.concepto=JSON.parse(a()(this.temporal)),this.dialogCodigo=!1},cerrarByCodigo:function(){this.concepto.codigo=null,this.dialogCodigo=!1},formReset:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.concepto={id:null,nombre:null,nf_niif_id:null,naturaleza:null,facturacion:0,anticipos:0,pacientes:0,nf_conrtf_id:null,pr_entidad_resolucion_id:null,pr_detstringreso_id:null,niif:null,rubro_ingreso:null},this.dialogCodigo=!1,this.$validator.reset(),this.$refs.validadorNiif&&setTimeout(function(){e.$refs.validadorNiif.reset()},100),t&&this.$emit("input",this.concepto)},getRegistro:function(e){var t=this;this.loading=!0,this.axios.get("ts_concepto_recibos/"+e).then(function(e){t.concepto=e.data.data,t.loading=!1}).catch(function(e){t.loading=!1,t.$store.commit(c.a,{expression:" al traer el concepto. ",error:e})})},getDetStringresos:function(e){var t=this;this.axios.get("pr_stringresos?pr_entidad_resolucion="+e).then(function(e){e.data.data.length&&(t.stringresos=e.data.data[0].detalles)}).catch(function(e){t.$store.commit(c.a,{expression:" al traer los rubros de ingreso. ",error:e})})},getConrtfs:function(){var e=this;this.loadingConrtfs=!0,this.axios.get("conrtfs").then(function(t){e.conrtfs=t.data.data,e.loadingConrtfs=!1}).catch(function(t){e.loadingConrtfs=!1,e.$store.commit(c.a,{expression:" al traer los conceptos de retención. ",error:t})})},getEntidadesResolucion:function(){var e=this;this.axios.get("pr_entidad_resolucion").then(function(t){e.entidadesResolucion=t.data.data}).catch(function(t){e.$store.commit(c.a,{expression:" al traer las entidades resolución. ",error:t})})}}}},999:function(e,t,o){"use strict";var i=o(7),a=o.n(i),n=o(58),c=o(61),r=o(12),s=o(40),l=o(248);t.a={name:"RegistroConceptoEgreso",components:{Loading:n.default,Postulador:function(){return o.e(287).then(o.bind(null,747))},PostuladorV2:c.default},props:["parametros","configuracion"],data:function(){return{loading:!0,dialogCodigo:!1,loadingCuentasBancarias:!1,loadingEntidadesResolucion:!1,loadingDetStregresos:!1,loadingCajasMenores:!1,loadingDetStringresos:!1,buscandoCodigo:!1,temporal:null,cuentasBancarias:[],cajasMenores:[],entidadesResolucion:[],detStringresos:[],detStregresos:[],filterCuentasBancarias:function(e,t){var o=function(e){return null!=e?e:""};return o(e.codigo+" "+e.numero_cuenta+" "+e.banco.nombre).toString().toLowerCase().indexOf(o(t).toString().toLowerCase())>-1},filterCajasMenores:function(e,t){var o=function(e){return null!=e?e:""};return o(e.codigo+" "+e.nombre).toString().toLowerCase().indexOf(o(t).toString().toLowerCase())>-1},filterStringresos:function(e,t){var o=function(e){return null!=e?e:""};return o(e.rubro.codigo+" "+e.rubro.nombre).toString().toLowerCase().indexOf(o(t).toString().toLowerCase())>-1},concepto:{}}},watch:{"concepto.pr_entidad_resolucion_ing_id":function(e){e?this.getDetStringresos(e):this.concepto.pr_detstringreso_id=null},"concepto.devolucion_paciente":function(e,t){e||void 0===t||(this.concepto.pr_detstringreso_id=null,this.concepto.pr_entidad_resolucion_ing_id=null)},"concepto.niif":function(e){e&&(this.concepto.naturaleza=e.clascuenta.naturaleza)},"concepto.ts_cuenta_id":function(e,t){e&&void 0!==t&&this.cuentasBancarias&&this.cuentasBancarias.length&&(this.concepto.naturaleza=this.cuentasBancarias.find(function(t){return t.id===e}).niif.clascuenta.naturaleza)},"concepto.concepto_cajamenor":function(e,t){e&&this.cajasMenores&&!this.cajasMenores.length&&this.getCajasMenores(),e||void 0===t||(this.concepto.ts_caja_id=null,this.concepto.reembolso_cajamenor=0,this.concepto.descuento_cajamenor=0)},"concepto.acreedores":function(e,t){e||void 0===t||(this.concepto.pr_detstrgasto_id=null)},"concepto.pr_entidad_resolucion_egr_id":function(e){e?this.getDetStregresos(e):this.concepto.pr_detstrgasto_id=null},"concepto.presupuesto":function(e,t){e||void 0===t||(this.concepto.pr_detstrgasto_id=null,this.concepto.pr_entidad_resolucion_egr_id=null,this.concepto.orden_pago=0)},"concepto.bancos":function(e,t){e&&this.cuentasBancarias&&!this.cuentasBancarias.length&&this.getCuentasBancarias(),void 0!==t&&(e?(this.concepto.niif=null,this.concepto.nf_niif_id=null):this.concepto.ts_cuenta_id=null)},"concepto.facturacion":function(e,t){e||void 0===t||(this.concepto.anticipos=0,this.concepto.maneja_contrato=0)},"concepto.anticipos":function(e,t){e||void 0===t||(this.concepto.maneja_contrato=0)}},created:function(){this.formReset(),this.parametros.id?this.getRegistro(this.parametros.id):this.loading=!1,this.getEntidadesResolucion()},methods:{submit:function(){var e=this;this.$validator.validateAll().then(function(t){if(t){e.loading=!0;var o=e.concepto.id?"editar":"crear";("crear"===o?e.axios.post("ts_concepto_egresos",e.concepto):e.axios.put("ts_concepto_egresos/"+e.concepto.id,e.concepto)).then(function(t){e.$store.commit(r.b,{msg:"El concepto se "+("editar"===o?"actualizó":"creó")+" correctamente.",color:"success"}),e.$store.dispatch(s.c,{contexto:e,itemId:e.parametros.tabOrigin}),e.$store.commit(l.r,{item:t.data.data,estado:o,key:e.parametros.key}),e.loading=!1}).catch(function(t){e.loading=!1,e.$store.commit(r.a,{expression:" al registrar el concepto. ",error:t})})}})},getDetStringresos:function(e){var t=this;this.loadingDetStringresos=!0,this.axios.get("pr_stringresos?pr_entidad_resolucion="+e).then(function(e){t.loadingDetStringresos=!1,e.data.data.length&&(t.detStringresos=e.data.data[0].detalles)}).catch(function(e){t.loadingDetStringresos=!1,t.$store.commit(r.a,{expression:" al traer los rubros de ingreso. ",error:e})})},getDetStregresos:function(e){var t=this;this.loadingDetStregresos=!0,this.axios.get("pr_strgastos?pr_entidad_resolucion="+e).then(function(e){t.loadingDetStregresos=!1,e.data.data.length&&(t.detStregresos=e.data.data[0].detalles)}).catch(function(e){t.loadingDetStregresos=!1,t.$store.commit(r.a,{expression:" al traer los rubros de egreso. ",error:e})})},getCajasMenores:function(){var e=this;this.loadingCajasMenores=!0,this.axios.get("cajas?tipo=Menor").then(function(t){e.cajasMenores=t.data.data,e.loadingCajasMenores=!1}).catch(function(t){e.loadingCajasMenores=!1,e.$store.commit(r.a,{expression:" al traer las cajas menores. ",error:t})})},getCuentasBancarias:function(){var e=this;this.loadingCuentasBancarias=!0,this.axios.get("cuentas").then(function(t){e.cuentasBancarias=t.data.data,e.loadingCuentasBancarias=!1}).catch(function(t){e.loadingCuentasBancarias=!1,e.$store.commit(r.a,{expression:" al traer las cuentas bancarias. ",error:t})})},getRegistro:function(e){var t=this;this.loading=!0,this.axios.get("ts_concepto_egresos/"+e).then(function(e){t.concepto=e.data.data,t.loading=!1}).catch(function(e){t.loading=!1,t.$store.commit(r.a,{expression:" al traer el concepto. ",error:e})})},getEntidadesResolucion:function(){var e=this;this.loadingEntidadesResolucion=!0,this.axios.get("pr_entidad_resolucion").then(function(t){e.entidadesResolucion=t.data.data,e.loadingEntidadesResolucion=!1}).catch(function(t){e.loadingEntidadesResolucion=!1,e.$store.commit(r.a,{expression:" al traer las entidades resolución. ",error:t})})},findByCodigo:function(){var e=this;this.concepto.codigo&&(this.temporal=null,this.buscandoCodigo=!0,this.axios.get("ts_concepto_egresos/codigo/"+this.concepto.codigo).then(function(t){t.data.data&&(e.temporal=t.data.data,e.dialogCodigo=!0),e.buscandoCodigo=!1}).catch(function(t){e.buscandoCodigo=!1,e.$store.commit(r.a,{expression:" al validar el código. ",error:t})}))},editarByCodigo:function(){this.concepto=JSON.parse(a()(this.temporal)),this.dialogCodigo=!1},cerrarByCodigo:function(){this.concepto.codigo=null,this.dialogCodigo=!1},formReset:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.concepto={id:null,codigo:null,nombre:null,nf_niif_id:null,naturaleza:null,facturacion:0,anticipos:0,descuentos:0,presupuesto:0,acreedores:0,concepto_cajamenor:0,orden_pago:0,reembolso_cajamenor:0,descuento_cajamenor:0,cdt:0,devolucion_paciente:0,bancos:0,maneja_contrato:0,maneja_incapacidad:0,maneja_cuentamedica:0,pr_detstrgasto_id:null,pr_detstringreso_id:null,ts_cuenta_id:null,ts_caja_id:null,pr_entidad_resolucion_ing_id:null,pr_entidad_resolucion_egr_id:null,niif:null},this.dialogCodigo=!1,this.$validator.reset(),e&&this.$emit("input",this.concepto)}}}}});
//# sourceMappingURL=35.8366b16ecc81be7af8b4.js.map