webpackJsonp([23],{1084:function(i,e,t){"use strict";var a=t(7),o=t.n(a),s=t(13),r=t.n(s),n=t(14),l=t.n(n),c=t(8),d=t.n(c),u=t(918),v=t(1865),p=t(910),m=t(6);e.a={name:"RegistroAutorizacion",props:["parametros"],components:{DialogNegacionServicio:v.a,DialogRegistroServicios:u.a,DialogRedServicios:p.a,Confirmar:function(){return t.e(289).then(t.bind(null,749))}},data:function(){return{servicioSeleccionado:null,showNegacion:!1,loading:!1,solicitud:null,data:null,headersServicios:[{text:"Código",align:"left",sortable:!1},{text:"Descripción",align:"left",sortable:!1},{text:"Cant. Solicitada",align:"center",sortable:!1},{text:"Cant. Aprobada",align:"center",sortable:!1},{text:"Entidad",align:"left",sortable:!1},{text:"Estado",align:"left",sortable:!1},{text:"Opciones",align:"center",sortable:!1}],recibidoPor:null,selected:[],headersImpresion:[{text:"Código",align:"left",sortable:!1},{text:"Descripción",align:"left",sortable:!1},{text:"Entidad",align:"left",sortable:!1},{text:"Cant. Solicitada",align:"center",sortable:!1},{text:"Cant. Aprobada",align:"center",sortable:!1},{text:"Estado",align:"left",sortable:!1}],dialogBS:{loading:!1,visible:!1,content:null,item:null},dialogAS:{loading:!1,visible:!1,content:null,item:null},dialogGC:{loading:!1,visible:!1,content:null}}},computed:d()({},Object(m.c)({currentUser:function(i){return i.user.profile}}),{esJefeAutorizador:function(){return this.currentUser&&this.currentUser.roles&&this.currentUser.roles.find(function(i){return 1===i.id||51===i.id})}}),created:function(){this.refresh(),this.parametros.entidad&&this.parametros.entidad.id?this.getData():this.$store.commit("SNACK_SHOW",{msg:"No se ha seleccionado un proceso de autorización.",color:"orange"})},methods:{imprimirServicios:function(){var i=this;this.$validator.validateAll().then(function(){var e=l()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return i.loading=!0,e.next=4,i.filePrint("autorizacione&id="+i.solicitud.id+"&idDetalles=["+i.selected.filter(function(i){return 1===i.ind&&i.cAut}).slice().map(function(i){return i.id})+"]&recibido="+i.recibidoPor);case 4:i.loading=!1;case 5:case"end":return e.stop()}},e,i)}));return function(i){return e.apply(this,arguments)}}())},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.data.detalles.slice()},getData:function(){var i=this;return l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.loading=!0,i.axios.get("autorizaciones/anexo3/"+i.parametros.entidad.id).then(function(e){i.solicitud=JSON.parse(o()(e.data.data)),i.data=JSON.parse(o()(e.data.data)),i.loading=!1}).catch(function(e){i.loading=!1,i.$store.commit("SNACK_ERROR_LIST",{expression:" al traer los datos del proceso de autorización. ",error:e})});case 2:case"end":return e.stop()}},e,i)}))()},submit:function(){var i=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return l()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.validado(e);case 2:if(!t.sent){t.next=10;break}i.loading=!0,i.dialogGC.loading=!0,a=JSON.parse(o()(i.data)),a.detalles.map(function(i){i.si_copago&&(i.si_copago="si"===i.si_copago.toString().toLowerCase()?1:2)}),i.axios.put("autorizaciones/anexo3/"+a.id,a).then(function(e){i.solicitud=JSON.parse(o()(e.data.data)),i.data=JSON.parse(o()(e.data.data)),i.parametros&&"funcionarios"===i.parametros.envia?i.$store.commit("reloadTable","tableAutorizacionesFuncionarios"):i.parametros&&"prestadores"===i.parametros.envia&&i.$store.commit("reloadTable","tableAutorizacionesPrestadores"),i.$store.commit("SNACK_SHOW",{msg:"La autorización se ha guardado correctamente.",color:"success"}),i.loading=!1,i.dialogGC.loading=!1}).catch(function(e){i.data.ind="1",i.loading=!1,i.dialogGC.loading=!1,i.$store.commit("SNACK_ERROR_LIST",{expression:"al guardar el registro de la autorización.",error:e})}),t.next=11;break;case 10:i.data.ind="1";case 11:case"end":return t.stop()}},t,i)}))()},guardarConfirmar:function(){var i=this;return l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.validado("gc");case 2:if(!e.sent){e.next=5;break}i.dialogGC.content="Si acepta confirmar la autorización, los datos no se podrán editar <strong>¿Está seguro de confirmar la autorización?</strong>",i.dialogGC.visible=!0;case 5:case"end":return e.stop()}},e,i)}))()},cancelaGC:function(){var i=this;this.dialogGC.visible=!1,this.dialogGC.loading=!1,setTimeout(function(){i.dialogGC.content=null},400)},aceptaGC:function(){var i=this;return l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.data.ind="3",e.next=3,i.submit("gc");case 3:i.cancelaGC();case 4:case"end":return e.stop()}},e,i)}))()},aprobarItem:function(i){this.servicioSeleccionado=i.index,this.$refs.registroServicio.asignarItem(JSON.parse(o()(i.item)),this.data)},negarItem:function(i){this.$refs.negarServicio.assign(JSON.parse(o()(i)))},aceptarNegacion:function(i){this.data.detalles[i.index].cAut=0,this.data.detalles[i.index].ind=1,this.data.detalles[i.index].negacion=i},borrarServicio:function(i){this.dialogBS.item=JSON.parse(o()(i)),this.dialogBS.content="<strong>¿Está seguro de borrar el servicio con código "+this.dialogBS.item.item.codigo+"?</strong>",this.dialogBS.visible=!0},cancelaBS:function(){this.dialogBS.visible=!1,this.dialogBS.loading=!1,this.dialogBS.content=null,this.dialogBS.item=null},aceptaBS:function(){var i=this;return l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.dialogBS.loading=!0,setTimeout(function(){i.data.detalles.splice(i.dialogBS.item.index,1),i.cancelaBS()},500);case 2:case"end":return e.stop()}},e,i)}))()},anularServicio:function(i){this.dialogAS.item=JSON.parse(o()(i)),this.dialogAS.content="<strong>¿Está seguro de anular el servicio con código "+this.dialogAS.item.item.codigo+"?</strong>",this.dialogAS.visible=!0},cancelaAS:function(){this.dialogAS.visible=!1,this.dialogAS.loading=!1,this.dialogAS.content=null,this.dialogAS.item=null},aceptaAS:function(i){var e=this;return l()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.dialogAS.loading=!0,setTimeout(function(){e.dialogAS.item.item.motivo_anulacion=i,e.dialogAS.item.item.ind=2,e.dialogAS.item.item.cAut=null,e.dialogAS.item.item.negacion=null,e.data.detalles.splice(e.dialogAS.item.index,1,e.dialogAS.item.item),e.cancelaAS()},500);case 2:case"end":return t.stop()}},t,e)}))()},validado:function(i){var e=this;return l()(r.a.mark(function t(){var a,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:return a=t.sent,o=!1,"gc"===i&&(o=e.data.detalles.filter(function(i){return 1===i.ind&&null===i.cAut}).length)&&e.$store.commit("SNACK_SHOW",{msg:"Hay servicios pendientes por validar.",color:"orange"}),t.abrupt("return",a&&!o);case 6:case"end":return t.stop()}},t,e)}))()},refresh:function(){this.recibidoPor=null,this.selected=[],this.$validator.reset()}}}},1085:function(i,e,t){"use strict";var a=t(7),o=t.n(a);e.a={name:"DialogNegacionServicio",data:function(){return{show:!1,datos:null,data:null,makeData:{id:null,codigo:null,observacion:null,index:null,au_anexot31_id:null,gs_usuario_id:null},motivos:[]}},watch:{show:function(i){var e=this;i||setTimeout(function(){e.datos=null},500)}},created:function(){this.getMotivos()},methods:{assign:function(i){this.data=JSON.parse(o()(this.makeData)),this.$validator.reset(),this.datos=i,this.data.au_anexot31_id=this.datos.item.id,this.data.index=this.datos.index,this.show=!0},aceptarNegacion:function(){var i=this;this.$validator.validateAll().then(function(e){e&&(i.$emit("negar",i.data),i.show=!1)})},getMotivos:function(){var i=this;this.axios.get("complementos_modal").then(function(e){i.motivos=e.data.data.motivosnegacion}).catch(function(e){i.$store.commit("SNACK_ERROR_LIST",{expression:" al recuperar los motivos de negación. ",error:e})})}}}},1863:function(i,e,t){var a=t(1864);"string"==typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);t(456)("23d56aca",a,!0,{})},1864:function(i,e,t){e=i.exports=t(455)(!0),e.push([i.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RegistroAutorizacion.vue",sourceRoot:""}])},1865:function(i,e,t){"use strict";function a(i){t(1866)}var o=t(1085),s=t(1868),r=t(1),n=a,l=r(o.a,s.a,!1,n,"data-v-40db1e62",null);e.a=l.exports},1866:function(i,e,t){var a=t(1867);"string"==typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);t(456)("63b7231e",a,!0,{})},1867:function(i,e,t){e=i.exports=t(455)(!0),e.push([i.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DialogNegacionServicio.vue",sourceRoot:""}])},1868:function(i,e,t){"use strict";var a=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:i.show,callback:function(e){i.show=e},expression:"show"}},[i.datos?t("v-card",[t("v-toolbar",{attrs:{dense:""}},[t("v-toolbar-title",{staticClass:"body-2"},[i._v("\n        Negación del servicio con código "+i._s(i.datos.item.codigo)+"\n      ")]),i._v(" "),t("v-spacer"),i._v(" "),t("v-btn",{attrs:{flat:"",icon:""},on:{click:function(e){e.stopPropagation(),i.show=!1}}},[t("v-icon",[i._v("close")])],1)],1),i._v(" "),t("v-container",{attrs:{fluid:"","grid-list-xs":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Motivo de negación",items:i.motivos,"item-value":"codigo","item-text":"descrip",name:"motivo de negación","error-messages":i.errors.collect("motivo de negación")},model:{value:i.data.codigo,callback:function(e){i.$set(i.data,"codigo",e)},expression:"data.codigo"}})],1),i._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{label:"Observaciones"},model:{value:i.data.observacion,callback:function(e){i.$set(i.data,"observacion",e)},expression:"data.observacion"}})],1)],1)],1),i._v(" "),t("v-divider"),i._v(" "),t("v-card-actions",[t("v-btn",{attrs:{flat:""},on:{click:function(e){e.stopPropagation(),i.show=!1}}},[i._v("Cancelar")]),i._v(" "),t("v-spacer"),i._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),i.aceptarNegacion(e)}}},[i._v("Aceptar")])],1)],1):i._e()],1)},o=[],s={render:a,staticRenderFns:o};e.a=s},1869:function(i,e,t){"use strict";var a=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("v-card",[t("loading",{model:{value:i.loading,callback:function(e){i.loading=e},expression:"loading"}}),i._v(" "),t("v-toolbar",{staticClass:"elevation-0",attrs:{dense:""}},[t("v-icon",[i._v("fas fa-tasks")]),i._v(" "),t("v-toolbar-title",[i._v("Registro autorización")]),i._v(" "),t("v-spacer"),i._v(" "),t("v-list-tile",[t("v-list-tile-content",[t("v-list-tile-title",[i._v("\n          Solicitud No.\n          "),i.solicitud?t("v-chip",{staticClass:"font-weight-bold pa-0 ma-0",attrs:{small:"",label:"",color:"primary"}},[i._v("\n            "+i._s(i.solicitud.id)+"\n          ")]):i._e()],1),i._v(" "),t("v-list-tile-sub-title",[i._v("\n          Estado:\n          "),i.solicitud?t("span",{staticClass:"font-weight-bold",class:"3"===i.solicitud.ind?"success--text":"1"===i.solicitud.ind?"info--text":"error--text"},[i._v("\n          "+i._s("3"===i.solicitud.ind?"Aprobada":"1"===i.solicitud.ind?"Pendiente":"Anulada")+"\n        ")]):i._e()])],1)],1)],1),i._v(" "),i.solicitud?t("v-container",{attrs:{fluid:"","grid-list-md":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[i.solicitud.anulada?t("v-textarea",{attrs:{error:"","prepend-icon":"fas fa-exclamation-triangle",label:"Motivo de anulación",value:i.solicitud.anulada.observacion,rows:"1","auto-grow":"",readonly:""}}):i._e()],1),i._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-card",[t("v-toolbar",{attrs:{dense:""}},[t("v-toolbar-title",{staticClass:"subheading"},[t("v-icon",{attrs:{left:""}},[i._v("person")]),i._v("\n              Datos del afiliado\n            ")],1),i._v(" "),t("v-spacer"),i._v(" "),i.solicitud&&i.solicitud.afiliado?t("dialog-red-servicios",{attrs:{"afiliado-id":i.solicitud.afiliado.id}}):i._e()],1),i._v(" "),t("v-container",{staticClass:"py-1 px-2",attrs:{fluid:"","grid-list-sm":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("input-detail-flex",{attrs:{"flex-class":"xs12 sm7 md9",label:"Afiliado",text:i.solicitud.afiliado.nombre_completo,hint:i.solicitud.afiliado.identificacion_completa,"slot-prepend":{template:'<v-list-tile-avatar><mini-card-detail :data="value.afiliado.mini_afiliado" alone-icon></mini-card-detail></v-list-tile-avatar>',props:["value"]}},model:{value:i.solicitud,callback:function(e){i.solicitud=e},expression:"solicitud"}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm5 md3",label:"Regimen",text:i.solicitud.afiliado.regimen.nombre}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Municipio",text:i.solicitud.afiliado.municipio.nombre+", "+i.solicitud.afiliado.municipio.nombre_departamento}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Zona",text:""+i.solicitud.afiliado.zona.nombre}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:2===i.solicitud.afiliado.zona.id?"Vereda":"Barrio",text:2===i.solicitud.afiliado.zona.id?i.solicitud.afiliado.vereda?i.solicitud.afiliado.vereda.nombre:"":i.solicitud.afiliado.barrio?i.solicitud.afiliado.barrio.nombre:""}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Dirección",text:""+i.solicitud.afiliado.direccion}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Correo electrónico",text:""+i.solicitud.afiliado.correo_electronico}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Celular",text:""+i.solicitud.afiliado.celular}})],1)],1)],1)],1),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Fecha solicitud",text:i.solicitud.fecha?i.moment(i.solicitud.fecha+" "+i.solicitud.hora,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD HH:mm"):"","prepend-icon":"event"}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Origen autorización",text:i.solicitud.origen_autorizacion.descrip}}),i._v(" "),"3"===i.solicitud.origen_autorizacion.codigo?t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Tutela",text:i.solicitud.tutela?i.solicitud.tutela.tipo_tutela+" - "+i.solicitud.tutela.no_tutela:"",hint:i.solicitud.tutela?i.solicitud.tutela.fecha_notificacion:""}}):i._e(),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Vía solicitud",text:i.solicitud.via_solicitud?i.solicitud.via_solicitud.descrip:""}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Fecha orden médica",text:i.solicitud.fOrdMed,"prepend-icon":"event"}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm12 md9",label:"Prestador",text:i.solicitud.entidad_ips?i.solicitud.entidad_ips.nombre:"",hint:i.solicitud.entidad_ips?"Código: "+i.solicitud.entidad_ips.cod_habilitacion:""}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Origen atención",text:i.solicitud.origen_atencion.descripcion}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Tipo servicio",text:i.solicitud.servicio_solicitado?i.solicitud.servicio_solicitado.descrip:""}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Prioridad",text:i.solicitud.prior?"Atención prioritara":"Atención no prioritara"}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Ubicación paciente",text:i.solicitud.ubicacion_paciente?i.solicitud.ubicacion_paciente.descrip:""}}),i._v(" "),"3"===i.solicitud.ubic?[t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Servicio",text:i.solicitud.serv}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Cama",text:i.solicitud.cama}})]:i._e(),i._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-card",[t("v-toolbar",{attrs:{dense:""}},[t("v-toolbar-title",{staticClass:"subheading"},[t("v-icon",{attrs:{left:""}},[i._v("fas fa-first-aid")]),i._v("\n              Impresión diagnóstica\n            ")],1)],1),i._v(" "),t("v-container",{staticClass:"py-1 px-2",attrs:{fluid:"","grid-list-sm":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Diagnostico principal",text:i.solicitud.diagnostico_principal?i.solicitud.diagnostico_principal.descripcion:"",hint:i.solicitud.diagnostico_principal?"Código: "+i.solicitud.diagnostico_principal.codigo:"","prepend-icon":"local_hospital"}}),i._v(" "),i.solicitud.diagnostico_reluno?t("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Diagnostico relacionado 1",text:i.solicitud.diagnostico_reluno.descripcion,hint:"Código:"+i.solicitud.diagnostico_reluno.codigo,"prepend-icon":"queue"}}):i._e(),i._v(" "),i.solicitud.diagnostico_reldos?t("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Diagnostico relacionado 2",text:i.solicitud.diagnostico_reldos.descripcion,hint:"Código:"+i.solicitud.diagnostico_reldos.codigo,"prepend-icon":"queue"}}):i._e()],1)],1)],1)],1),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Historia clínica",text:i.solicitud.historia_clinica?i.solicitud.historia_clinica.nombre:"","prepend-icon":"fas fa-file-pdf","append-button":i.solicitud.historia_clinica?{tooltip:"Descargar archivo",icon:"cloud_download",color:"primary"}:null},on:{clickAppend:function(e){return i.goRuta(i.solicitud.historia_clinica.url_signed)}}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Justificación clínica",text:i.solicitud.jusCli}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm12 md6",label:"Médico",text:i.solicitud.medico?i.solicitud.medico.descripcion:"",hint:i.solicitud.medico?"Código: "+i.solicitud.medico.codigo:"","prepend-icon":"fas fa-user-md"}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm12 md6",label:"Especialidad",text:i.solicitud.especialidad?i.solicitud.especialidad.descripcion:"",hint:i.solicitud.especialidad?"Código: "+i.solicitud.especialidad.codHab+" - Nivel: "+i.solicitud.especialidad.nivel:"","prepend-icon":"fas fa-award"}}),i._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-card",[t("v-toolbar",{attrs:{dense:""}},[t("v-list-tile",[i.data&&"3"===i.data.ind?t("v-icon",{attrs:{left:""}},[i._v("print")]):t("v-icon",{attrs:{left:""}},[i._v("fas fa-briefcase-medical")]),i._v(" "),t("v-list-tile-content",[t("v-list-tile-title",[i._v("Servicios registrados")]),i._v(" "),t("v-list-tile-sub-title",{staticClass:"font-weight-bold"},[i._v("Vigente hasta: "+i._s("3"===i.data.ind?i.data.fecha_vencimiento:i.moment().add(60,"days").format("YYYY-MM-DD")))])],1)],1),i._v(" "),t("v-spacer"),i._v(" "),"1"===i.solicitud.ind?t("dialog-registro-servicios",{ref:"registroServicio",attrs:{solicitud:i.solicitud,proceso:"autorización"},on:{asignar:function(e){return i.data.detalles.push(e)},aprobar:function(e){return i.data.detalles.splice(i.servicioSeleccionado,1,e)}}}):i._e()],1),i._v(" "),"3"===i.data.ind?t("v-data-table",{attrs:{headers:i.headersImpresion,items:i.data.detalles,"hide-actions":"","select-all":"","item-key":"id"},scopedSlots:i._u([{key:"headers",fn:function(e){return[t("tr",[t("th",[t("v-checkbox",{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},on:{click:function(e){return e.stopPropagation(),i.toggleAll(e)}}})],1),i._v(" "),i._l(e.headers,function(e){return t("th",{key:e.text,on:{click:function(t){return i.changeSort(e.value)}}},[i._v("\n                  "+i._s(e.text)+"\n                ")])})],2)]}},{key:"items",fn:function(e){return[t("tr",{attrs:{active:e.selected},on:{click:function(i){e.selected=!e.selected}}},[t("td",[1===e.item.ind&&e.item.cAut?t("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}}):i._e()],1),i._v(" "),t("td",[i._v(i._s(e.item.codigo))]),i._v(" "),t("td",[i._v(i._s(e.item.descrip))]),i._v(" "),t("td",[i._v(i._s(e.item.entidad?e.item.entidad.nombre:""))]),i._v(" "),t("td",{staticClass:"text-xs-center"},[i._v(i._s(e.item.cant))]),i._v(" "),t("td",{staticClass:"text-xs-center"},[i._v(i._s(e.item.cAut))]),i._v(" "),t("td",[i._v(i._s(2===e.item.ind?"Anulado":e.item.negacion?"Negado":1===e.item.ind&&e.item.cAut?"Aprobado":"Pendiente"))])])]}}],null,!1,2013404918),model:{value:i.selected,callback:function(e){i.selected=e},expression:"selected"}}):t("v-data-table",{attrs:{headers:i.headersServicios,items:i.data.detalles,"hide-actions":""},scopedSlots:i._u([{key:"items",fn:function(e){return[t("td",[i._v(i._s(e.item.codigo))]),i._v(" "),t("td",[i._v(i._s(e.item.descrip))]),i._v(" "),t("td",{staticClass:"text-xs-center"},[i._v(i._s(e.item.cant))]),i._v(" "),t("td",{staticClass:"text-xs-center"},[i._v(i._s(e.item.cAut))]),i._v(" "),t("td",{staticClass:"text-xs-center"},[i._v(i._s(e.item.entidad?e.item.entidad.nombre:""))]),i._v(" "),t("td",[i._v(i._s(2===e.item.ind?"Anulado":e.item.negacion?"Negado":1===e.item.ind&&e.item.cAut?"Aprobado":"Pendiente"))]),i._v(" "),t("td",{staticClass:"text-xs-center",attrs:{width:"220"}},[e.item.negacion||1!==e.item.ind?i._e():[t("v-tooltip",{attrs:{top:""}},[t("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",flat:"",icon:"",color:"primary"},on:{click:function(t){return t.stopPropagation(),i.aprobarItem(e)}},slot:"activator"},[t("v-icon",[i._v("check")])],1),i._v(" "),t("span",[i._v("Aprobar")])],1),i._v(" "),i.esJefeAutorizador?t("v-tooltip",{attrs:{top:""}},[t("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",flat:"",icon:"",color:"orange"},on:{click:function(t){return t.stopPropagation(),i.negarItem(e)}},slot:"activator"},[t("v-icon",[i._v("block")])],1),i._v(" "),t("span",[i._v("Negar")])],1):i._e()],i._v(" "),1===e.item.ind?t("v-tooltip",{attrs:{top:""}},[t("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",flat:"",icon:"",color:"error"},on:{click:function(t){return t.stopPropagation(),i.anularServicio(e)}},slot:"activator"},[t("v-icon",[i._v("delete")])],1),i._v(" "),t("span",[i._v("Anular")])],1):i._e(),i._v(" "),1===e.item.ind?t("v-tooltip",{attrs:{top:""}},[t("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",flat:"",icon:"",color:"error"},on:{click:function(t){return t.stopPropagation(),i.borrarServicio(e)}},slot:"activator"},[t("v-icon",[i._v("delete_forever")])],1),i._v(" "),t("span",[i._v("Borrar")])],1):i._e()],2)]}}],null,!1,2283285671)})],1)],1)],2),i._v(" "),t("confirmar",{attrs:{value:i.dialogGC.visible,loading:i.dialogGC.loading,content:i.dialogGC.content,"requiere-motivo":!1},on:{cancelar:i.cancelaGC,aceptar:i.aceptaGC}}),i._v(" "),t("confirmar",{attrs:{value:i.dialogBS.visible,loading:i.dialogBS.loading,content:i.dialogBS.content,"requiere-motivo":!1},on:{cancelar:i.cancelaBS,aceptar:i.aceptaBS}}),i._v(" "),t("confirmar",{attrs:{value:i.dialogAS.visible,loading:i.dialogAS.loading,content:i.dialogAS.content,"requiere-motivo":!0},on:{cancelar:i.cancelaAS,aceptar:function(e){return i.aceptaAS(e)}}}),i._v(" "),t("dialog-negacion-servicio",{ref:"negarServicio",on:{negar:function(e){return i.aceptarNegacion(e)}}})],1):i._e(),i._v(" "),t("v-card-actions",[t("v-spacer"),i._v(" "),i.data&&"3"===i.data.ind?[i.selected.length?t("v-text-field",{staticClass:"mr-4",attrs:{label:"Recibe"},model:{value:i.recibidoPor,callback:function(e){i.recibidoPor=e},expression:"recibidoPor"}}):i._e(),i._v(" "),i.selected.length?t("v-btn",{attrs:{color:"primary"},on:{click:i.imprimirServicios}},[i._v("Imprimir servicios")]):i._e()]:i.data&&"1"===i.data.ind?[t("v-btn",{attrs:{color:"success"},on:{click:i.guardarConfirmar}},[i._v("Guardar y confirmar")]),i._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:i.submit}},[i._v("Guardar")])]:i._e()],2)],1)},o=[],s={render:a,staticRenderFns:o};e.a=s},561:function(i,e,t){"use strict";function a(i){t(1863)}Object.defineProperty(e,"__esModule",{value:!0});var o=t(1084),s=t(1869),r=t(1),n=a,l=r(o.a,s.a,!1,n,"data-v-7cb63e5e",null);e.default=l.exports},853:function(i,e,t){"use strict";var a=t(913);e.a={name:"DialogRedServicios",props:{afiliadoId:{type:[String,Number],default:null}},components:{DetalleRedServicios:a.a},data:function(){return{dialog:!1}}}},854:function(i,e,t){"use strict";e.a={name:"DetalleRedServicios",props:{afiliadoId:{type:[String,Number],default:null}},data:function(){return{loading:!1,headers:[{text:"Servicio",align:"left",sortable:!1},{text:"Prestador",align:"left",sortable:!1}],primarios:[],habilitados:[],afiliado:null}},watch:{afiliadoId:function(i){i&&this.getData()}},created:function(){this.afiliadoId&&this.getData()},methods:{getData:function(){var i=this;this.loading=!0,this.axios.get("afiliados/"+this.afiliadoId).then(function(e){i.afiliado=e.data.data,i.habilitados=e.data.data.servicios_habilitados.filter(function(i){return i.entidad}),i.axios.get("servicios/primarios").then(function(e){i.primarios=e.data.data,i.loading=!1}).catch(function(e){i.loading=!1,i.$store.commit("SNACK_ERROR_LIST",{expression:" al traer los servicios del afiliado. ",error:e})})}).catch(function(e){i.loading=!1,i.$store.commit("SNACK_ERROR_LIST",{expression:" al consultar los servicios primarios. ",error:e})})}}}},855:function(i,e,t){"use strict";var a=t(13),o=t.n(a),s=t(14),r=t.n(s),n=t(7),l=t.n(n);e.a={name:"DialogRegistroServicios",props:{proceso:{type:String,default:"solicitud"},solicitud:{type:Object,default:null}},components:{InputNumber:function(){return new Promise(function(i){i()}).then(t.bind(null,254))},InputDetailFlex:function(){return new Promise(function(i){i()}).then(t.bind(null,250))},PostuladorV2:function(){return new Promise(function(i){i()}).then(t.bind(null,61))}},data:function(){return{tarifaConsultada:0,loading:!1,dialog:!1,enAprobacion:!1,servicio:null,makeServicio:{id:null,au_anexot3s_id:null,codigo:null,descrip:null,cant:null,cAut:null,nivel:null,modSer:null,tipModSer:null,cober:null,espec:null,obs:null,cont:null,valor:null,pAut:null,si_copago:null,copago:0,ind:1,valorTemporalServicio:null,servicio:null,servicioContratado:null,contratado:0,entidadNoContratada:null},serviciosContratados:[],complementosServicio:null,makeComplementosServicio:{complejidades:[],coberturas:[],modalidadesServicio:[],tiposQx:[],especialidades:[],aplicaCopagos:[]},filterCoberturas:function(i,e){var t=function(i){return null!=i?i:""},a=t(i.codigo+" "+i.descrip),o=t(e);return a.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1},filterEspecialidades:function(i,e){var t=function(i){return null!=i?i:""},a=t(i.codHab+" "+i.descripcion),o=t(e);return a.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1},filterPrestador:function(i,e){var t=function(i){return null!=i?i:""},a=t(i.plan_cobertura.contrato.numero_contrato+" "+i.plan_cobertura.contrato.entidad.cod_habilitacion+" "+i.plan_cobertura.contrato.entidad.nombre),o=t(e);return a.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1}}},watch:{"servicio.entidadNoContratada":function(i){i&&(this.servicio.pAut=i.id,this.servicio.entidad=i,this.servicio.contratado=0)},"servicio.contratado":function(i){!i&&this.servicio.servicio&&(this.servicio.servicioContratado=null,this.servicio.valorTemporalServicio=JSON.parse(l()(this.servicio.servicio.valor)),this.servicio.cont=null,this.servicio.valor=this.tarifaConsultada,this.servicio.entidadNoContratada=JSON.parse(l()(this.solicitud.entidad_ips)))},"servicio.servicioContratado":function(i){i&&(this.servicio.cont=i.plan_cobertura.id,this.servicio.valor=i.tarifa,this.servicio.pAut=i.plan_cobertura.contrato.rs_entidad_id,this.servicio.entidad=i.plan_cobertura.contrato.entidad)},"servicio.servicio":function(i){i?this.enAprobacion||(this.servicio.codigo=i.codigo,this.servicio.descrip=i.descrip,this.servicio.nivel=null,this.servicio.modSer=null,this.servicio.tipModSer=null,this.servicio.cober=null,this.servicio.espec=null,this.reloadComplementosServicio()):(this.servicio.codigo=null,this.servicio.descrip=null,this.refreshComplementos())},dialog:function(i){var e=this;i?"autorización"===this.proceso&&this.servicio.servicio&&setTimeout(function(){e.reloadComplementosServicio()},400):setTimeout(function(){e.refresh()},400)}},created:function(){this.refresh()},methods:{agregar:function(){var i=this;this.$validator.validateAll().then(function(e){e&&(i.$emit(i.enAprobacion?"aprobar":"asignar",i.servicio),"autorización"===i.proceso&&(i.dialog=!1),i.refresh())})},reloadComplementosServicio:function(){var i=this;this.loading=!0,this.axios.get("autorizaciones/refcups/"+this.servicio.codigo).then(function(){var e=r()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.complementosServicio.complejidades=t.data.nivelatencion,i.complementosServicio.coberturas=t.data.coberturas,i.complementosServicio.modalidadesServicio=t.data.modalidades,i.complementosServicio.tiposQx=t.data.quirurgicos,i.complementosServicio.especialidades=t.data.especialidades,i.asignarTarifa(t.data.tarifa,i.solicitud.entidad_ips),"solicitud"!==i.proceso){e.next=15;break}i.servicio.nivel=1===t.data.nivelatencion.length?t.data.nivelatencion[0].codigo:null,i.servicio.modSer=1===t.data.modalidades.length?t.data.modalidades[0].codigo:null,i.servicio.tipModSer=1===t.data.quirurgicos.length?t.data.quirurgicos[0].codigo:null,i.servicio.cober=1===t.data.coberturas.length?t.data.coberturas[0].codigo:null,i.servicio.espec=1===t.data.especialidades.length?t.data.especialidades[0].id:null,i.loading=!1,e.next=19;break;case 15:return i.enAprobacion||(i.servicio.au_anexot3s_id=i.solicitud.id,i.servicio.nivel=1===t.data.nivelatencion.length?t.data.nivelatencion[0].codigo:null,i.servicio.modSer=1===t.data.modalidades.length?t.data.modalidades[0].codigo:null,i.servicio.tipModSer=1===t.data.quirurgicos.length?t.data.quirurgicos[0].codigo:null,i.servicio.cober=1===t.data.coberturas.length?t.data.coberturas[0].codigo:null,i.servicio.espec=1===t.data.especialidades.length?t.data.especialidades[0].id:null),i.serviciosContratados=[],e.next=19,i.axios.get("autorizaciones/contrato/"+i.servicio.codigo+"?regimen="+i.solicitud.afiliado.as_regimene_id).then(function(e){i.serviciosContratados=e.data,i.servicio.contratado=1,i.loading=!1}).catch(function(e){404===e.response.status?(i.servicio.cont=null,i.servicio.valorTemporalServicio=JSON.parse(l()(i.servicio.servicio.valor)),i.servicio.valor=i.tarifaConsultada,i.servicio.entidadNoContratada=JSON.parse(l()(i.solicitud.entidad_ips)),i.$store.commit("SNACK_SHOW",{msg:e.response.data.message,color:"info"})):i.$store.commit("SNACK_ERROR_LIST",{expression:" al recuperar los planes de cobertura. ",error:e}),i.loading=!1});case 19:case"end":return e.stop()}},e,i)}));return function(i){return e.apply(this,arguments)}}()).catch(function(e){i.loading=!1,i.$store.commit("SNACK_ERROR_LIST",{expression:" al traer los complementos del servicio. ",error:e})})},asignarItem:function(i){this.enAprobacion=!0,this.servicio=i,this.dialog=!0},refresh:function(){this.servicio=JSON.parse(l()(this.makeServicio)),this.enAprobacion=!1,this.refreshComplementos()},refreshComplementos:function(){this.complementosServicio=JSON.parse(l()(this.makeComplementosServicio)),this.$validator.reset()},asignarTarifa:function(i,e){for(var t in i)i[t].nombre===this.solicitud.entidad_ips.nombre&&(this.tarifaConsultada=i[t].tarifa)}}}},910:function(i,e,t){"use strict";function a(i){t(911)}var o=t(853),s=t(917),r=t(1),n=a,l=r(o.a,s.a,!1,n,"data-v-55d85dbe",null);e.a=l.exports},911:function(i,e,t){var a=t(912);"string"==typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);t(456)("31924ab8",a,!0,{})},912:function(i,e,t){e=i.exports=t(455)(!0),e.push([i.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DialogRedServicios.vue",sourceRoot:""}])},913:function(i,e,t){"use strict";function a(i){t(914)}var o=t(854),s=t(916),r=t(1),n=a,l=r(o.a,s.a,!1,n,"data-v-6e8a8f14",null);e.a=l.exports},914:function(i,e,t){var a=t(915);"string"==typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);t(456)("5f5585eb",a,!0,{})},915:function(i,e,t){e=i.exports=t(455)(!0),e.push([i.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DetalleRedServicios.vue",sourceRoot:""}])},916:function(i,e,t){"use strict";var a=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",[i.afiliado&&i.afiliado.portabilidad_activa?t("v-expansion-panel",{staticClass:"mb-1"},[t("v-expansion-panel-content",{scopedSlots:i._u([{key:"header",fn:function(){return[t("span",{staticClass:"font-weight-bold"},[i._v("Portabilidad número "+i._s(i.afiliado.portabilidad_activa.consecutivo))])]},proxy:!0}],null,!1,3884498046)},[i._v(" "),t("v-container",{attrs:{fluid:"","grid-list-sm":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4 lg3",label:"Consecutivo",text:i.afiliado.portabilidad_activa.consecutivo}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4 lg3",label:"Estado",text:i.afiliado.portabilidad_activa.estado}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4 lg3",label:"Fecha inicio",text:i.afiliado.portabilidad_activa.fecha_inicio,"prepend-icon":"event"}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4 lg3",label:"Fecha vencimiento",text:i.afiliado.portabilidad_activa.fecha_fin,"prepend-icon":"event"}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm12 md6",label:"Municipio",text:i.afiliado.portabilidad_activa.municipio_receptor.nombre+", "+i.afiliado.portabilidad_activa.municipio_receptor.nombre_departamento}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm12 md6",label:"Dirección",text:i.afiliado.portabilidad_activa.direccion}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4 lg3",label:"Teléfono",text:i.afiliado.portabilidad_activa.telefono}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md4 lg3",label:"Correo electrónico",text:i.afiliado.portabilidad_activa.email}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Motivo",text:i.afiliado.portabilidad_activa.motivo}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12",label:"Observaciones",text:i.afiliado.portabilidad_activa.observaciones}})],1)],1)],1)],1):i._e(),i._v(" "),t("v-data-table",{attrs:{loading:i.loading,headers:i.headers,items:i.primarios,"hide-actions":"","no-data-text":"No hay datos para mostrar"},scopedSlots:i._u([{key:"items",fn:function(e){return[t("td",{attrs:{width:"40%"}},[i._v("\n        "+i._s(e.item.codigo)+" - "+i._s(e.item.nombre)+"\n      ")]),i._v(" "),t("td",{attrs:{width:"60%"}},[i.habilitados.find(function(i){return i.rs_servicio_id===e.item.id})?[t("v-list-tile-content",{staticClass:"truncate-content"},[t("v-list-tile-title",[i._v(i._s(i.habilitados.find(function(i){return i.rs_servicio_id===e.item.id}).entidad.nombre))]),i._v(" "),t("v-list-tile-sub-title",{staticClass:"caption"},[t("v-icon",{attrs:{size:"small"}},[i._v("fas fa-map-marker-alt")]),i._v(" "+i._s(i.habilitados.find(function(i){return i.rs_servicio_id===e.item.id}).entidad.direccion_sede)+" - "),t("v-icon",{attrs:{size:"small"}},[i._v("fas fa-phone-alt")]),i._v(" "+i._s(i.afiliado.servicios_habilitados.find(function(i){return i.rs_servicio_id===e.item.id}).entidad.telefono_sede))],1)],1)]:i._e()],2)]}}])})],1)},o=[],s={render:a,staticRenderFns:o};e.a=s},917:function(i,e,t){"use strict";var a=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("v-dialog",{attrs:{width:"1200"},scopedSlots:i._u([{key:"activator",fn:function(e){var a=e.on;return[t("v-btn",i._g({attrs:{small:"",color:"primary"}},a),[t("v-icon",{attrs:{left:""}},[i._v("widgets")]),i._v("\n      Red de servicios\n    ")],1)]}}]),model:{value:i.dialog,callback:function(e){i.dialog=e},expression:"dialog"}},[i._v(" "),t("v-card",[t("v-toolbar",{attrs:{dense:""}},[t("v-toolbar-title",[t("v-avatar",{staticClass:"mr-2",attrs:{color:"primary",size:"40"}},[t("v-icon",{staticClass:"white--text"},[i._v("widgets")])],1),i._v("\n        Red de servicios\n      ")],1),i._v(" "),t("v-spacer"),i._v(" "),t("v-btn",{attrs:{flat:"",icon:""},on:{click:function(e){e.stopPropagation(),i.dialog=!1}}},[t("v-icon",[i._v("close")])],1)],1),i._v(" "),t("detalle-red-servicios",{attrs:{"afiliado-id":i.afiliadoId}}),i._v(" "),t("v-divider"),i._v(" "),t("v-card-actions",[t("v-spacer"),i._v(" "),t("v-btn",{attrs:{flat:""},on:{click:function(e){i.dialog=!1}}},[i._v("\n        Cerrar\n      ")])],1)],1)],1)},o=[],s={render:a,staticRenderFns:o};e.a=s},918:function(i,e,t){"use strict";function a(i){t(919)}var o=t(855),s=t(921),r=t(1),n=a,l=r(o.a,s.a,!1,n,"data-v-05b20317",null);e.a=l.exports},919:function(i,e,t){var a=t(920);"string"==typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);t(456)("fdc7cab0",a,!0,{})},920:function(i,e,t){e=i.exports=t(455)(!0),e.push([i.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DialogRegistroServicio.vue",sourceRoot:""}])},921:function(i,e,t){"use strict";var a=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("v-dialog",{attrs:{width:"900",persistent:""},scopedSlots:i._u([{key:"activator",fn:function(e){var a=e.on;return[t("v-tooltip",{attrs:{top:"",disabled:!!i.solicitud.diagnostico_principal&&!!i.solicitud.afiliado}},[t("v-btn",i._g({attrs:{slot:"activator",small:"",color:"primary",disabled:!i.solicitud.diagnostico_principal||!i.solicitud.afiliado},slot:"activator"},a),[t("v-icon",{attrs:{left:""}},[i._v("add")]),i._v("\n          Agregar servicio\n        ")],1),i._v(" "),t("span",[i._v("Seleccione el afiliado y el diagnóstico principal")])],1)]}}]),model:{value:i.dialog,callback:function(e){i.dialog=e},expression:"dialog"}},[i._v(" "),t("v-card",[t("loading",{model:{value:i.loading,callback:function(e){i.loading=e},expression:"loading"}}),i._v(" "),t("v-toolbar",{attrs:{dense:""}},[t("v-toolbar-title",[t("v-avatar",{staticClass:"mr-2",attrs:{color:"primary",size:"40"}},[t("v-icon",{staticClass:"white--text"},[i._v("post_add")])],1),i._v("\n          "+i._s("solicitud"===i.proceso?"Consultas, Procedimientos, Medicamentos y/o Suministros":"Autorización de servicio")+"\n        ")],1),i._v(" "),t("v-spacer"),i._v(" "),t("v-btn",{attrs:{flat:"",icon:""},on:{click:function(e){e.stopPropagation(),i.dialog=!1}}},[t("v-icon",[i._v("close")])],1)],1),i._v(" "),t("v-container",{attrs:{fluid:"","grid-list-sm":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("v-flex",{attrs:{xs12:""}},[t("postulador-v3",{directives:[{name:"validate",rawName:"v-validate",value:"required|vCieCups:"+(i.solicitud&&i.solicitud.afiliado?i.solicitud.afiliado.id:null)+",refcup|vServicioAnio:"+(i.solicitud&&i.solicitud.afiliado?i.solicitud.afiliado.id:null)+","+(i.solicitud&&i.solicitud.diagnostico_principal?i.solicitud.diagnostico_principal.id:null),expression:"`required|vCieCups:${solicitud && solicitud.afiliado ? solicitud.afiliado.id : null},refcup|vServicioAnio:${solicitud && solicitud.afiliado ? solicitud.afiliado.id : null},${solicitud && solicitud.diagnostico_principal ? solicitud.diagnostico_principal.id : null}`"}],attrs:{disabled:"autorización"===i.proceso&&i.enAprobacion,"no-data-text":"Busqueda por descripción o código.",hint:i.servicio&&i.servicio.servicio?"Código: "+i.servicio.servicio.codigo:"","item-text":"descrip",label:"Servicio",route:"autorizaciones/servicios",model:"servicios",filter:"codigo,descrip","prepend-icon":"fas fa-first-aid",name:"servicio","error-messages":i.errors.collect("servicio"),"slot-selection":{template:'\n                        <span style="width: 100% !important;">{{value.descrip}}</span>\n                      ',props:["value"]},"slot-data":{template:'\n                        <span style="width: 100% !important;">{{value.codigo}} - {{value.descrip}}</span>\n                      ',props:["value"]}},model:{value:i.servicio.servicio,callback:function(e){i.$set(i.servicio,"servicio",e)},expression:"servicio.servicio"}})],1),i._v(" "),i.servicio.servicio?[t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:1",expression:"'required|min_value:1'"}],attrs:{disabled:"autorización"===i.proceso&&i.enAprobacion,label:"autorización"===i.proceso?"Cantidad solicitada":"Cantidad",name:"cantidad",min:1,type:"number","error-messages":i.errors.collect("cantidad")},model:{value:i.servicio.cant,callback:function(e){i.$set(i.servicio,"cant",i._n(e))},expression:"servicio.cant"}})],1),i._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"selectcomplejidad",attrs:{label:"Complejidad",items:i.complementosServicio.complejidades,"item-value":"codigo","item-text":"descrip",name:"complejidad","error-messages":i.errors.collect("complejidad"),disabled:i.complementosServicio.complejidades&&1===i.complementosServicio.complejidades.length},model:{value:i.servicio.nivel,callback:function(e){i.$set(i.servicio,"nivel",e)},expression:"servicio.nivel"}})],1),i._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"autocompletecobertura",attrs:{label:"Cobertura POSS",items:i.complementosServicio.coberturas,"item-value":"codigo",name:"cobertura",required:"","error-messages":i.errors.collect("cobertura"),filter:i.filterCoberturas,disabled:i.complementosServicio.coberturas&&1===i.complementosServicio.coberturas.length},scopedSlots:i._u([{key:"item",fn:function(e){return[t("span",{staticStyle:{width:"100% !important"}},[i._v("\n                  "+i._s(e.item.codigo)+" - "+i._s(e.item.descrip)+"\n                ")])]}},{key:"selection",fn:function(e){return[t("span",{staticStyle:{width:"100% !important"}},[i._v("\n                  "+i._s(e.item.codigo)+" - "+i._s(e.item.descrip)+"\n                ")])]}}],null,!1,630449756),model:{value:i.servicio.cober,callback:function(e){i.$set(i.servicio,"cober",e)},expression:"servicio.cober"}})],1),i._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"selectmodalidad",attrs:{label:"Modalidad",items:i.complementosServicio.modalidadesServicio,"item-value":"codigo","item-text":"descrip",name:"modalidad","error-messages":i.errors.collect("modalidad"),disabled:i.complementosServicio.modalidadesServicio&&1===i.complementosServicio.modalidadesServicio.length},model:{value:i.servicio.modSer,callback:function(e){i.$set(i.servicio,"modSer",e)},expression:"servicio.modSer"}})],1),i._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"tipoqx",attrs:{label:"Tipo Qx",items:i.complementosServicio.tiposQx,"item-value":"codigo","item-text":"descrip",name:"tipo Qx","error-messages":i.errors.collect("tipo Qx"),disabled:i.complementosServicio.tiposQx&&1===i.complementosServicio.tiposQx.length},model:{value:i.servicio.tipModSer,callback:function(e){i.$set(i.servicio,"tipModSer",e)},expression:"servicio.tipModSer"}})],1),i._v(" "),t("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Especialidad",items:i.complementosServicio.especialidades,"item-value":"id",name:"especialidad",required:"","error-messages":i.errors.collect("especialidad"),filter:i.filterEspecialidades,disabled:i.complementosServicio.especialidades&&1===i.complementosServicio.especialidades.length},scopedSlots:i._u([{key:"item",fn:function(e){return[t("span",{staticStyle:{width:"100% !important"}},[i._v("\n                      "+i._s(e.item.id)+" - "+i._s(e.item.descripcion)+"\n                    ")])]}},{key:"selection",fn:function(e){return[t("span",{staticStyle:{width:"100% !important"}},[i._v("\n                      "+i._s(e.item.id)+" - "+i._s(e.item.descripcion)+"\n                    ")])]}}],null,!1,3485236956),model:{value:i.servicio.espec,callback:function(e){i.$set(i.servicio,"espec",e)},expression:"servicio.espec"}})],1)]:i._e(),i._v(" "),t("v-flex",{attrs:{xs12:""}},[t("v-textarea",{attrs:{label:"Observaciones",rows:"1","auto-grow":""},model:{value:i.servicio.obs,callback:function(e){i.$set(i.servicio,"obs",e)},expression:"servicio.obs"}})],1)],2),i._v(" "),"autorización"===i.proceso&&i.servicio.servicio?t("v-layout",{attrs:{row:"",wrap:""}},[t("v-switch",{attrs:{label:"Servicio contratado","true-value":1,"false-value":0,disabled:!i.serviciosContratados.length},model:{value:i.servicio.contratado,callback:function(e){i.$set(i.servicio,"contratado",e)},expression:"servicio.contratado"}}),i._v(" "),i.servicio.contratado?[t("v-flex",{attrs:{xs12:""}},[t("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"autocompletePrestador",attrs:{label:"Prestador",name:"prestador",items:i.serviciosContratados,required:"","error-messages":i.errors.collect("prestador"),filter:i.filterPrestador,hint:i.servicio.servicioContratado?"Contrato:"+i.servicio.servicioContratado.plan_cobertura.contrato.numero_contrato:"","persistent-hint":""},scopedSlots:i._u([{key:"item",fn:function(e){return[t("v-list-tile-content",{staticClass:"truncate-content",staticStyle:{width:"100% !important"}},[t("v-list-tile-sub-title",{staticClass:"caption"},[i._v(i._s(e.item.plan_cobertura.contrato.entidad.nombre))]),i._v(" "),t("v-list-tile-sub-title",{staticClass:"caption"},[i._v("Contrato: "+i._s(e.item.plan_cobertura.contrato.numero_contrato))]),i._v(" "),t("v-list-tile-sub-title",{staticClass:"caption"},[i._v("Plan cobertura: "+i._s(e.item.plan_cobertura.nombre))])],1)]}},{key:"selection",fn:function(e){return[t("v-list-tile",{staticClass:"content-v-list-tile-p0",staticStyle:{width:"100% !important"}},[t("v-list-tile-content",{staticClass:"truncate-content"},[t("v-list-tile-sub-title",[i._v(i._s(e.item.plan_cobertura.contrato.entidad.nombre))]),i._v(" "),t("v-list-tile-sub-title",[i._v("Plan cobertura: "+i._s(e.item.plan_cobertura.nombre))])],1)],1)]}}],null,!1,3431620595),model:{value:i.servicio.servicioContratado,callback:function(e){i.$set(i.servicio,"servicioContratado",e)},expression:"servicio.servicioContratado"}})],1),i._v(" "),i.servicio.servicioContratado?[t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:1|max_value:"+i.servicio.cant,expression:"'required|min_value:1|max_value:' + servicio.cant"}],attrs:{disabled:!i.servicio.cant,label:"Cantidad autorizada",name:"cantidad autorizada",min:1,max:i.servicio.cant,type:"number","error-messages":i.errors.collect("cantidad autorizada")},model:{value:i.servicio.cAut,callback:function(e){i.$set(i.servicio,"cAut",i._n(e))},expression:"servicio.cAut"}})],1),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Valor unitario",text:i.currency(i.servicio.servicioContratado.tarifa)}}),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Valor total",text:i.servicio.cAut&&i.servicio.servicioContratado.tarifa?i.currency(i.servicio.servicioContratado.tarifa*i.servicio.cAut):""}}),i._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],key:"valor copago",attrs:{label:"Valor copago",name:"valor copago","prepend-icon":"attach_money",precision:0,"error-messages":i.errors.collect("valor copago")},model:{value:i.servicio.copago,callback:function(e){i.$set(i.servicio,"copago",i._n(e))},expression:"servicio.copago"}})],1)]:i._e()]:[t("v-flex",{attrs:{xs12:""}},[t("postulador-v3",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data-text":"Búsqueda por razon social, identificación o código de habilitación.",hint:i.servicio&&i.servicio.entidadNoContratada?"Código habilitación: "+i.servicio.entidadNoContratada.cod_habilitacion+" - Municipio: "+i.servicio.entidadNoContratada.municipio.nombre:"","item-text":"nombre",label:"Prestador",route:"entidades",model:"entidades",filter:"nombre,cod_habilitacion","prepend-icon":"fas fa-clinic-medical",name:"prestador autorizado","error-messages":i.errors.collect("prestador autorizado"),"slot-data":{template:'\n                    <v-list-tile class="content-v-list-tile-p0">\n                      <v-list-tile-content>\n                        <v-list-tile-title>{{value.nombre}}</v-list-tile-title>\n                        <v-list-tile-sub-title>Código habilitación: {{value.cod_habilitacion}}</v-list-tile-sub-title>\n                      </v-list-tile-content>\n                    </v-list-tile>\n                  ',props:["value"]}},model:{value:i.servicio.entidadNoContratada,callback:function(e){i.$set(i.servicio,"entidadNoContratada",e)},expression:"servicio.entidadNoContratada"}})],1),i._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:1|max_value:"+i.servicio.cant,expression:"'required|min_value:1|max_value:' + servicio.cant"}],attrs:{disabled:!i.servicio.cant,label:"Cantidad autorizada",name:"cantidad autorizada",min:1,max:i.servicio.cant,type:"number","error-messages":i.errors.collect("cantidad autorizada")},model:{value:i.servicio.cAut,callback:function(e){i.$set(i.servicio,"cAut",i._n(e))},expression:"servicio.cAut"}})],1),i._v(" "),i.servicio.valorTemporalServicio&&!i.serviciosContratados.length?t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Valor unitario",text:i.currency(i.servicio.valor)}}):t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],key:"valor unitario",attrs:{label:"Valor unitario",name:"valor unitario","prepend-icon":"attach_money",precision:0,"error-messages":i.errors.collect("valor unitario")},model:{value:i.servicio.valor,callback:function(e){i.$set(i.servicio,"valor",i._n(e))},expression:"servicio.valor"}})],1),i._v(" "),t("input-detail-flex",{attrs:{"flex-class":"xs12 sm6 md3",label:"Valor total",text:i.servicio.cAut&&i.servicio.valor?i.currency(i.servicio.valor*i.servicio.cAut):""}}),i._v(" "),t("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[t("input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],key:"valor copago",attrs:{label:"Valor copago",name:"valor copago","prepend-icon":"attach_money",precision:0,"error-messages":i.errors.collect("valor copago")},model:{value:i.servicio.copago,callback:function(e){i.$set(i.servicio,"copago",i._n(e))},expression:"servicio.copago"}})],1)]],2):i._e()],1),i._v(" "),t("v-divider"),i._v(" "),t("v-card-actions",[t("v-btn",{attrs:{flat:""},on:{click:function(e){i.dialog=!1}}},[i._v("\n          Cerrar\n        ")]),i._v(" "),t("v-spacer"),i._v(" "),t("v-btn",{attrs:{flat:"",color:"primary"},on:{click:i.agregar}},[i._v("\n          Agregar\n        ")])],1)],1)],1)},o=[],s={render:a,staticRenderFns:o};e.a=s}});
//# sourceMappingURL=23.321c2d4fa0e857696169.js.map