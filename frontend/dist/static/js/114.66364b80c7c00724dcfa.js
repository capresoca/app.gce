webpackJsonp([114],{1139:function(a,t,i){"use strict";var o=i(13),e=i.n(o),s=i(14),r=i.n(s),l=i(249),c=i.n(l),n=i(58),d=i(12),v=i(40),u=i(247),_=i(248);t.a={name:"DetalleIncapacidades",components:{ToolbarList:u.default,Loading:n.default,InputDetailFlex:function(){return new Promise(function(a){a()}).then(i.bind(null,250))}},props:["parametros"],data:function(){return{liquidacion:null,loading:!1,loadingSubmit:!1,estadoRelacionLaboral:null,ibc:null,ibcCalculado:null,nuevoIbc:null,activarTachadoIbc:!1,dias:null,diasCalculado:null,nuevoDias:null,activarTachadoDias:!1,valorSalarioPorLosDias:null,valorReconocerPorIncapacidad:null,valorAReconocer:0,valorMinimioAReconocer:null,valorAMultiplicar:null,prorroga:null,totalDias:null,valorAPagar:null,pagarHasta90dias:66.66666,pagarDesde91dias:50,porcentajeAPagar:null,dialog:!1,dialogDiasPagar:!1,dialogMaternidad:!1,menuDate:!1,estadoLiquidacion:"Liquidada",rubros:[],esAprobada:!1,loadingPdf:!1,headers:[{text:"Id",align:"center",sortable:!1,value:"id"},{text:"Periodo",align:"center",sortable:!1,value:"periodo"},{text:"IBC",align:"center",sortable:!1,value:"ibc"},{text:"Días pagados",align:"center",sortable:!1,value:"diasPagados"}]}},mounted:function(){null!==this.parametros.entidad&&(this.getRegisto(this.parametros.entidad.id),this.getRubros())},watch:{estadoLiquidacion:function(a){this.esAprobada="Aprobada"===a}},computed:{computedDateFormatted:function(){return this.formDate(this.liquidacion.fecha_tramite)}},methods:{getRegisto:function(a){var t=this,i=this.$loading.show({container:this.$refs.detalleLiquidacion.$el});this.axios.get("incapacidades/"+a).then(function(a){""!==a.data&&(t.liquidacion=a.data.incapacidad,t.estadoLiquidacion=t.liquidacion.estado,t.estadoRelacionLaboral=a.data.estado_relacion_laboral,t.porcentajeAPagar=t.liquidacion.dias_incapacidad_total<=90?t.pagarHasta90dias:t.pagarDesde91dias,t.ibc=t.estadoRelacionLaboral.promedio_ibc||t.liquidacion.relacion_laboral.ibc,t.ibcCalculado=t.estadoRelacionLaboral.promedio_ibc||t.liquidacion.relacion_laboral.ibc,1===t.liquidacion.tipo_incapacidad.prestacion.id?t.diasMaternidad():t.diasNormal(),t.liquidacion.ibc_calculado!==t.liquidacion.ibc_pagado&&(t.ibc=t.liquidacion.ibc_pagado,t.ibcCalculado=t.liquidacion.ibc_calculado,t.activarTachadoIbc=!0),t.liquidacion.dias_calculado!==t.liquidacion.dias_pagado&&(t.dias=t.liquidacion.dias_pagado,t.diasCalculado=t.liquidacion.dias_calculado,t.totalDias=t.dias,t.activarTachadoDias=!0),t.calcularLiquidacion()),i.hide()}).catch(function(a){i.hide(),t.$store.commit(d.b,{msg:"Hay un error al traer la incapacidad. "+a,color:"danger"})})},getRubros:function(){var a=this;this.axios.get("incapacidades_rubros").then(function(t){a.rubros=t.data.data}).catch(function(t){a.$store.commit(d.b,{msg:"Hay un error al traer los rubros. "+t,color:"danger"})})},calcularLiquidacion:function(){1===this.liquidacion.tipo_incapacidad.prestacion.id?this.calcularLiquidacionMaternidad():this.calcularLiquidacionNormal()},calcularLiquidacionNormal:function(){var a=void 0;this.valorSalarioPorLosDias=this.ibc/30,this.valorReconocerPorIncapacidad=this.valorSalarioPorLosDias*this.porcentajeAPagar/100,this.valorMinimioAReconocer=this.estadoRelacionLaboral.smlv.valor/30,a=this.valorReconocerPorIncapacidad>this.valorMinimioAReconocer?this.valorReconocerPorIncapacidad:this.valorMinimioAReconocer,this.valorAReconocer=a,this.valorAReconocer>this.valorMinimioAReconocer?this.valorAMultiplicar=this.valorAReconocer:this.valorAMultiplicar=this.valorMinimioAReconocer,this.valorAPagar=this.valorAMultiplicar*this.totalDias},calcularLiquidacionMaternidad:function(){this.valorSalarioPorLosDias=this.ibc/30,this.valorAPagar=this.valorSalarioPorLosDias*this.totalDias},agregarValoresCalculados:function(){this.liquidacion.ibc_calculado=this.ibcCalculado,this.liquidacion.ibc_pagado=this.ibc,this.liquidacion.dias_calculado=this.diasCalculado,this.liquidacion.dias_pagado=this.dias,this.liquidacion.valor_a_reconocer_diario=this.valorAReconocer,this.liquidacion.total_a_pagar=this.valorAPagar,this.liquidacion.dias_pago=this.totalDias,this.liquidacion.estado=this.estadoLiquidacion},diasMaternidad:function(){this.dias=this.estadoRelacionLaboral.maternidad.dias_pagar,this.diasCalculado=this.estadoRelacionLaboral.maternidad.dias_pagar,this.totalDias=this.estadoRelacionLaboral.maternidad.dias_pagar},diasNormal:function(){this.prorroga=this.liquidacion.tipo_incapacidad.prorroga,this.totalDias=this.prorroga?this.liquidacion.dias_incapacidad:this.liquidacion.dias_incapacidad-2,this.dias=this.totalDias,this.diasCalculado=this.totalDias},aproximarEntero:function(a){return Math.round(a)},abrirModal:function(){this.nuevoIbc=this.ibc,this.dialog=!0},abrirModalDias:function(){this.nuevoDias=this.dias,this.dialogDiasPagar=!0},cerrarModalYCalcularLiquidacion:function(){this.ibc=parseInt(this.nuevoIbc),this.activarTachadoIbc=!0,this.calcularLiquidacion(),this.dialog=!1},cerrarModalDiasYCalcularLiquidacion:function(){this.dias=parseInt(this.nuevoDias),this.totalDias=this.dias,this.activarTachadoDias=!0,this.calcularLiquidacion(),this.dialogDiasPagar=!1},formDate:function(a){if(!a)return null;var t=a.split("-"),i=c()(t,3);return i[0]+"/"+i[1]+"/"+i[2]},close:function(){this.$validator.reset(),this.$store.dispatch(v.c,{contexto:this,itemId:this.parametros.tabOrigin})},cerrarDialogMaternidad:function(){this.dialogMaternidad=!1},validador:function(a){return this.$validator.validateAll(a).then(function(a){return a})},filterRubros:function(a,t){var i=function(a){return null!=a?a:""},o=i(a.nombre+" "+a.codigo),e=i(t);return o.toString().toLowerCase().indexOf(e.toString().toLowerCase())>-1},generarReporte:function(a){var t=this;this.loadingPdf=!0,this.axios.get("firmar-ruta?nombre_ruta=certificado-presupuestal&id="+a).then(function(a){var i=a.data;window.open(i,"_blank").focus(),t.loadingPdf=!1}).catch(function(a){t.loadingPdf=!1,t.$store.commit(d.b,{msg:"Error al Imprimir. "+a.response,color:"danger"})})},submit:function(a){var t=this;return r()(e.a.mark(function a(){var i;return e.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.validador("formEstadoIncapacidad");case 2:if(!a.sent){a.next=9;break}i=t.$loading.show({container:t.$refs.cargar}),t.loadingSubmit=!0,t.agregarValoresCalculados(),t.axios.put("incapacidades/"+t.liquidacion.id,t.liquidacion).then(function(a){t.$store.commit(d.b,{msg:"Item actualizado satisfactoriamente",color:"success"}),t.$store.commit(_.Q,{item:a.data.incapacidad_o,estado:"editar",key:t.parametros.key}),t.$store.dispatch(v.c,{contexto:t,itemId:t.parametros.tabOrigin}),"Aprobada"===a.data.incapacidad.estado&&t.generarReporte(a.data.incapacidad.pr_solicitud_cp_id),i.hide()}).catch(function(a){i.hide(),t.loadingSubmit=!1,t.$store.commit(d.b,{msg:"Hay un error al guardar el registro. "+a,color:"danger"})}),a.next=10;break;case 9:t.$store.commit(d.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 10:case"end":return a.stop()}},a,t)}))()}}}},2031:function(a,t,i){var o=i(2032);"string"==typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);i(456)("3427c142",o,!0,{})},2032:function(a,t,i){t=a.exports=i(455)(!0),t.push([a.i,".estado[data-v-3ceb7673]{height:10px;padding:0}.tachado[data-v-3ceb7673]{text-decoration:line-through}","",{version:3,sources:["/home/capresoca/projects/Capresoca-Frontend/src/components/misional/atencionUsuario/liquidacionIncapacidades/DetalleIncapacidades.vue"],names:[],mappings:"AACA,yBACE,YAAa,AACb,SAAW,CACZ,AACD,0BACE,4BAA6B,CAC9B",file:"DetalleIncapacidades.vue",sourcesContent:["\n.estado[data-v-3ceb7673] {\n  height: 10px;\n  padding: 0;\n}\n.tachado[data-v-3ceb7673]{\n  text-decoration:line-through;\n}\n"],sourceRoot:""}])},2033:function(a,t,i){"use strict";var o=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",[i("v-dialog",{attrs:{width:"500px"},model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[i("v-form",{attrs:{"data-vv-scope":"formValor"}},[i("v-card",[i("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[i("span",{staticClass:"title"},[a._v("Nuevo valor")])]),a._v(" "),i("v-container",{attrs:{fluid:"","grid-list-md":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{key:"salario base de cotizacion",attrs:{label:"Salario base de cotización",name:"salario base de cotizacion","error-messages":a.errors.collect("salario base de cotizacion")},model:{value:a.nuevoIbc,callback:function(t){a.nuevoIbc=t},expression:"nuevoIbc"}})],1)],1)],1),a._v(" "),i("v-card-actions",{staticClass:"grey lighten-4"},[i("v-spacer"),a._v(" "),i("v-btn",{on:{click:function(t){a.dialog=!1}}},[a._v("Cancelar")]),a._v(" "),i("v-btn",{attrs:{color:"primary",disabled:a.errors.any()},on:{click:a.cerrarModalYCalcularLiquidacion}},[a._v("Guardar")])],1)],1)],1)],1),a._v(" "),i("v-dialog",{attrs:{width:"500px"},model:{value:a.dialogDiasPagar,callback:function(t){a.dialogDiasPagar=t},expression:"dialogDiasPagar"}},[i("v-form",{attrs:{"data-vv-scope":"formValor"}},[i("v-card",[i("v-card-title",{staticClass:"grey lighten-3 elevation-0"},[i("span",{staticClass:"title"},[a._v("Nuevo valor")])]),a._v(" "),i("v-container",{attrs:{fluid:"","grid-list-md":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{key:"dias a pagar",attrs:{label:"Días a pagar",name:"dias a pagar","error-messages":a.errors.collect("dias a pagar")},model:{value:a.nuevoDias,callback:function(t){a.nuevoDias=t},expression:"nuevoDias"}})],1)],1)],1),a._v(" "),i("v-card-actions",{staticClass:"grey lighten-4"},[i("v-spacer"),a._v(" "),i("v-btn",{on:{click:function(t){a.dialogDiasPagar=!1}}},[a._v("Cancelar")]),a._v(" "),i("v-btn",{attrs:{color:"primary",disabled:a.errors.any()},on:{click:a.cerrarModalDiasYCalcularLiquidacion}},[a._v("Guardar")])],1)],1)],1)],1),a._v(" "),a.estadoRelacionLaboral&&a.estadoRelacionLaboral.maternidad?i("v-dialog",{attrs:{width:"500px"},model:{value:a.dialogMaternidad,callback:function(t){a.dialogMaternidad=t},expression:"dialogMaternidad"}},[i("v-card",[i("v-card-text",{staticClass:"pa-0"},[i("v-data-table",{staticClass:"elevation-0",attrs:{headers:a.headers,items:a.estadoRelacionLaboral?a.estadoRelacionLaboral.maternidad.aportes:[],"hide-actions":"","no-data-text":"No existen datos"},scopedSlots:a._u([{key:"items",fn:function(t){return[i("td",{staticClass:"text-xs-center"},[a._v(a._s(t.item.id))]),a._v(" "),i("td",{staticClass:"text-xs-center"},[a._v(a._s(t.item.periodo))]),a._v(" "),i("td",{staticClass:"text-xs-center"},[a._v(a._s(a._f("numberFormat")(t.item.ibc,0,"$")))]),a._v(" "),i("td",{staticClass:"text-xs-center"},[a._v(a._s(t.item.dias))])]}}],null,!1,47325060)})],1),a._v(" "),i("v-divider"),a._v(" "),i("v-card-actions",[i("v-spacer"),a._v(" "),i("v-btn",{attrs:{color:"primary",flat:""},on:{click:a.cerrarDialogMaternidad}},[a._v("Cerrar")])],1)],1)],1):a._e(),a._v(" "),i("v-card",{ref:"formLiquidacion"},[i("v-container",{staticStyle:{"max-width":"inherit"},attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-card",{staticClass:"content-list-p0 pt-0",attrs:{flat:""}},[i("v-list",{attrs:{"two-line":""}},[[i("v-list-tile",[i("v-list-tile-avatar",{attrs:{color:"info"}},[i("v-icon",{attrs:{dark:""}},[a._v("assignment")])],1),a._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[a._v("\n                      Detalle liquidación incapacidad\n                    ")]),a._v(" "),a.liquidacion?i("v-list-tile-sub-title",[a._v("No. "+a._s(a.liquidacion.consecutivo))]):a._e()],1)],1),a._v(" "),i("v-spacer"),a._v(" "),i("v-divider")]],2),a._v(" "),i("v-card-text",[i("v-container",{ref:"detalleLiquidacion",staticClass:"pa-0",attrs:{fluid:"","grid-list-xl":""}},[i("loading",{model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}}),a._v(" "),i("v-slide-y-transition",{attrs:{group:""}},[a.liquidacion?i("v-layout",{key:"seccion1",attrs:{row:"",wrap:""}},[a.estadoRelacionLaboral.periodo_actual_mora?i("v-flex",{attrs:{xs12:""}},[i("v-alert",{attrs:{value:!0,type:"error"}},[a._v("\n                        El periodo actual esta en mora\n                      ")])],1):a._e(),a._v(" "),a.estadoRelacionLaboral.periodo_consultado_mora?i("v-flex",{attrs:{xs12:""}},[i("v-alert",{attrs:{value:!0,type:"error"}},[a._v("\n                        El periodo en el que se generó la incapacidad está en mora\n                      ")])],1):a._e(),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Afiliado")]),a._v(" "),i("span",{staticStyle:{"text-decoration":"underline",cursor:"pointer"},on:{click:function(t){t.preventDefault(),a.$store.commit("NAV_ADD_ITEM",{ruta:"detalleGeneralAfiliado",titulo:"Detalle afiliado",parametros:{entidad:{id:a.liquidacion.afiliado.id},tabOrigin:a.$store.state.nav.currentItem.split("tab-")[1]}})}}},[a._v("\n                          "+a._s(a.liquidacion.afiliado.nombre_completo)+"\n                        ")])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Tipo Incapacidad")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.tipo_incapacidad.prestacion.tipo)+" > "+a._s(a.liquidacion.tipo_incapacidad.tipo))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Identificación")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.afiliado.identificacion_completa))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Fecha nacimiento")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.afiliado.fecha_nacimiento))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Estado")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.estado))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Prorroga")]),a._v(" "),i("span",[a._v(a._s(1==a.liquidacion.tipo_incapacidad.tipo_incapacidad?"Si":"No"))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Días incapacidad")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.dias_incapacidad))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Días incapacidad total")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.dias_incapacidad_total))])],1)],1),a._v(" "),"LICENCIA DE MATERNIDAD"===a.liquidacion.tipo_incapacidad.prestacion.tipo?i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Días gestación")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.dias_gestacion))])],1)],1):a._e(),a._v(" "),a.liquidacion.dias_prematuro?i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Días prematuro")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.dias_prematuro))])],1)],1):a._e(),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Relación laboral")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.relacion_laboral.pagador.razon_social))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Inicio incapacidad")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.fecha_inicio))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Fin incapacidad")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.fecha_fin))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Pagar a")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.pagar_a))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("DX")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.cie10.codigo)+" - "+a._s(a.liquidacion.cie10.descripcion))])],1)],1)],1):a._e(),a._v(" "),i("v-layout",{key:"aportesAfiliado",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[a.estadoRelacionLaboral&&a.estadoRelacionLaboral.maternidad?i("v-btn",{attrs:{color:"info"},on:{click:function(t){a.dialogMaternidad=!0}}},[a._v("Aportes afiliado")]):a._e()],1)],1),a._v(" "),a.liquidacion&&a.liquidacion.incapacidad_anterior?i("v-layout",{key:"seccionIncapacidadAnterior",attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs12:""}},[i("v-subheader",[a._v("Incapacidad anterior")])],1),a._v(" "),i("v-flex",{attrs:{xs2:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Fecha inicio")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.incapacidad_anterior.fecha_inicio))])],1)],1),a._v(" "),i("v-flex",{attrs:{xs10:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Fecha fin")]),a._v(" "),i("span",[a._v(a._s(a.liquidacion.incapacidad_anterior.fecha_fin))])],1)],1)],1):a._e(),a._v(" "),i("v-layout",{key:"seccion1.1",attrs:{row:"",wrap:""}},[a.liquidacion&&a.liquidacion.histclinica?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("v-layout",{attrs:{"align-center":"","fill-height":""}},[i("v-flex",{attrs:{"d-flex":"",xs10:"",sm8:""}},[i("v-text-field",{key:"historia clinica",attrs:{label:"Historia clínica",name:"historia clinica",disabled:"","prepend-icon":"attach_file","error-messages":a.errors.collect("historia clinica")},model:{value:a.liquidacion.histclinica.nombre,callback:function(t){a.$set(a.liquidacion.histclinica,"nombre",t)},expression:"liquidacion.histclinica.nombre"}})],1),a._v(" "),i("v-flex",{attrs:{"d-flex":"",xs2:"",sm4:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",fab:"",color:"success",small:"",href:a.liquidacion.histclinica.url_signed,target:"_blank"},slot:"activator"},[i("v-icon",[a._v("remove_red_eye")])],1),a._v(" "),i("span",[a._v("Ver archivo")])],1)],1)],1)],1):a._e(),a._v(" "),a.liquidacion&&a.liquidacion.certbanco?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("v-layout",{attrs:{"align-center":"","fill-height":""}},[i("v-flex",{attrs:{"d-flex":"",xs10:"",sm8:""}},[i("v-text-field",{key:"certificacion bancaria",attrs:{label:"Certificación bancaria",name:"certificacion bancaria",disabled:"","prepend-icon":"attach_file","error-messages":a.errors.collect("certificacion bancaria")},model:{value:a.liquidacion.certbanco.nombre,callback:function(t){a.$set(a.liquidacion.certbanco,"nombre",t)},expression:"liquidacion.certbanco.nombre"}})],1),a._v(" "),i("v-flex",{attrs:{"d-flex":"",xs2:"",sm4:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",fab:"",color:"success",small:"",href:a.liquidacion.certbanco.url_signed,target:"_blank"},slot:"activator"},[i("v-icon",[a._v("remove_red_eye")])],1),a._v(" "),i("span",[a._v("Ver archivo")])],1)],1)],1)],1):a._e(),a._v(" "),a.liquidacion&&a.liquidacion.incapacidad?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("v-layout",{attrs:{"align-center":"","fill-height":""}},[i("v-flex",{attrs:{"d-flex":"",xs10:"",sm8:""}},[i("v-text-field",{key:"incapacidad",attrs:{label:"Incapacidad",name:"incapacidad",disabled:"","prepend-icon":"attach_file","error-messages":a.errors.collect("incapacidad")},model:{value:a.liquidacion.incapacidad.nombre,callback:function(t){a.$set(a.liquidacion.incapacidad,"nombre",t)},expression:"liquidacion.incapacidad.nombre"}})],1),a._v(" "),i("v-flex",{attrs:{"d-flex":"",xs2:"",sm4:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",fab:"",color:"success",small:"",href:a.liquidacion.incapacidad.url_signed,target:"_blank"},slot:"activator"},[i("v-icon",[a._v("remove_red_eye")])],1),a._v(" "),i("span",[a._v("Ver archivo")])],1)],1)],1)],1):a._e(),a._v(" "),a.liquidacion&&a.liquidacion.archivo_identificacion?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("v-layout",{attrs:{"align-center":"","fill-height":""}},[i("v-flex",{attrs:{"d-flex":"",xs10:"",sm8:""}},[i("v-text-field",{key:"identificacion",attrs:{label:"Identificación",name:"identificacion",disabled:"","prepend-icon":"attach_file","error-messages":a.errors.collect("identificacion")},model:{value:a.liquidacion.archivo_identificacion.nombre,callback:function(t){a.$set(a.liquidacion.archivo_identificacion,"nombre",t)},expression:"liquidacion.archivo_identificacion.nombre"}})],1),a._v(" "),i("v-flex",{attrs:{"d-flex":"",xs2:"",sm4:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",fab:"",color:"success",small:"",href:a.liquidacion.archivo_identificacion.url_signed,target:"_blank"},slot:"activator"},[i("v-icon",[a._v("remove_red_eye")])],1),a._v(" "),i("span",[a._v("Ver archivo")])],1)],1)],1)],1):a._e()],1)],1)],1)],1)],1),a._v(" "),a.liquidacion?i("v-card",{staticClass:"content-list-p0 pt-0",attrs:{flat:""}},[i("v-list",{attrs:{"two-line":""}},[[i("v-divider"),a._v(" "),i("v-list-tile",[i("v-list-tile-avatar",{attrs:{color:"grey"}},[i("v-icon",{attrs:{dark:""}},[a._v("attach_money")])],1),a._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[a._v("\n                      Liquidación\n                    ")]),a._v(" "),a.liquidacion?i("v-list-tile-sub-title",[a._v("Cálculo")]):a._e()],1)],1),a._v(" "),i("v-spacer"),a._v(" "),i("v-divider")]],2),a._v(" "),i("v-card-text",[i("v-container",{ref:"detalleLiquidacion",staticClass:"pa-0",attrs:{fluid:"","grid-list-xl":""}},[i("loading",{model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}}),a._v(" "),i("v-slide-y-transition",{attrs:{group:""}},[a.liquidacion?i("v-layout",{key:"seccion1",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Salario base de cotización")]),a._v(" "),i("span",[a._v("\n                          "+a._s(a._f("numberFormat")(a.ibc,0,"$"))+"\n                          "),"Aprobada"!==this.liquidacion.estado&&"Negada"!==this.liquidacion.estado?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticClass:"ml-2",attrs:{slot:"activator",small:""},on:{click:a.abrirModal},slot:"activator"},[a._v("edit")]),i("span",[a._v("Editar")])],1):a._e()],1),a._v(" "),a.activarTachadoIbc?i("span",{class:{tachado:a.activarTachadoIbc}},[a._v("\n                          "+a._s(a._f("numberFormat")(a.ibcCalculado,0,"$"))+"\n                        ")]):a._e()],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Salario diario ")]),a._v(" "),i("span",[a._v(a._s(a._f("numberFormat")(a.valorSalarioPorLosDias,0,"$")))])],1)],1),a._v(" "),1!==a.liquidacion.tipo_incapacidad.prestacion.id?i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Valor a reconocer diario "),i("span",{staticClass:"font-weight-bold"},[a._v("("+a._s(a.porcentajeAPagar)+"%)")])]),a._v(" "),i("span",[a._v(a._s(a._f("numberFormat")(a.valorAReconocer,0,"$")))])],1)],1):a._e(),a._v(" "),1!==a.liquidacion.tipo_incapacidad.prestacion.id?i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Valor mínimo a reconocer")]),a._v(" "),i("span",[a._v(a._s(a._f("numberFormat")(a.valorMinimioAReconocer,0,"$")))])],1)],1):a._e(),a._v(" "),1===a.liquidacion.tipo_incapacidad.prestacion.id?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Días cotizados")]),a._v(" "),i("span",[a._v(a._s(a.estadoRelacionLaboral.maternidad?a.estadoRelacionLaboral.maternidad.dias_cotizados:""))])],1)],1):a._e(),a._v(" "),1===a.liquidacion.tipo_incapacidad.prestacion.id?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Días neto")]),a._v(" "),i("span",[a._v(a._s(a.estadoRelacionLaboral.maternidad.dias_neto))])],1)],1):a._e(),a._v(" "),1===a.liquidacion.tipo_incapacidad.prestacion.id?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-list-tile-content",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-sub-title",{staticClass:"caption grey--text"},[a._v("Días a pagar")]),a._v(" "),i("span",[a._v("\n                          "+a._s(a.dias)+"\n                          "),"Aprobada"!==this.liquidacion.estado&&"Negada"!==this.liquidacion.estado?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticClass:"ml-2",attrs:{slot:"activator",small:""},on:{click:a.abrirModalDias},slot:"activator"},[a._v("edit")]),i("span",[a._v("Editar")])],1):a._e()],1),a._v(" "),a.activarTachadoDias?i("span",{class:{tachado:a.activarTachadoDias}},[a._v("\n                          "+a._s(a.diasCalculado)+"\n                        ")]):a._e()],1)],1):a._e()],1):a._e(),a._v(" "),a.liquidacion?i("v-layout",{key:"seccionLiquidacion",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs6:""}},[i("v-card",{staticClass:"white--text",attrs:{color:"blue-grey darken-2"}},[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("div",[i("span",[a._v(a._s(a._f("numberFormat")(a.valorAMultiplicar||a.valorSalarioPorLosDias,0,"$"))+" x "+a._s(a.totalDias)+" días")]),a._v(" "),i("br"),a._v(" "),i("span",{staticClass:"font-weight-bold title"},[a._v("TOTAL A PAGAR: ")]),a._v(" "),i("span",{staticClass:"subheading font-weight-regular"},[a._v(a._s(a._f("numberFormat")(a.valorAPagar,0,"$")))])])])])],1)],1)],1):a._e()],1)],1)],1)],1):a._e(),a._v(" "),a.liquidacion?i("v-card",{staticClass:"content-list-p0 pt-0",attrs:{flat:""}},[i("v-list",{attrs:{"two-line":""}},[[i("v-divider"),a._v(" "),i("v-list-tile",[i("v-list-tile-avatar",{attrs:{color:"success"}},[i("v-icon",{attrs:{dark:""}},[a._v("input")])],1),a._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[a._v("\n                      Respuesta\n                    ")]),a._v(" "),i("v-list-tile-sub-title",[a._v("Estado: "+a._s(a.liquidacion.estado||"Sin respuesta"))])],1)],1),a._v(" "),i("v-spacer"),a._v(" "),i("v-divider")]],2),a._v(" "),i("div",[i("v-card-text",[i("v-container",{ref:"detalleLiquidacion",staticClass:"pa-0",attrs:{fluid:"","grid-list-xl":""}},[i("loading",{model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}}),a._v(" "),i("v-slide-y-transition",{attrs:{group:""}},[i("div",{key:"respuesta",attrs:{row:"",wrap:""}},[i("v-form",{attrs:{"data-vv-scope":"formEstadoIncapacidad"}},[i("v-flex",{attrs:{xs12:"",sm4:""}},[i("v-menu",{ref:"menuDate",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:a.menuDate,callback:function(t){a.menuDate=t},expression:"menuDate"}},[i("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],attrs:{slot:"activator",label:"Fecha trámite","prepend-icon":"event",readonly:"",name:"fecha trámite","error-messages":a.errors.collect("fecha trámite")},slot:"activator",model:{value:a.computedDateFormatted,callback:function(t){a.computedDateFormatted=t},expression:"computedDateFormatted"}}),a._v(" "),i("v-date-picker",{attrs:{locale:"es","no-title":""},on:{input:function(t){a.menuDate=!1},change:function(){var t=a.$validator.errors.items.findIndex(function(a){return"fecha trámite"===a.field});a.$validator.errors.items.splice(-1!==t?t:0,-1!==t?1:0)}},model:{value:a.liquidacion.fecha_tramite,callback:function(t){a.$set(a.liquidacion,"fecha_tramite",t)},expression:"liquidacion.fecha_tramite"}})],1)],1),a._v(" "),i("v-flex",{attrs:{xs12:""}},[i("v-subheader",{staticClass:"estado"},[a._v("Estado")]),a._v(" "),i("v-radio-group",{attrs:{row:""},model:{value:a.estadoLiquidacion,callback:function(t){a.estadoLiquidacion=t},expression:"estadoLiquidacion"}},[i("v-radio",{attrs:{label:"Aprobada",value:"Aprobada"}}),a._v(" "),i("v-radio",{attrs:{label:"Negada",value:"Negada"}}),a._v(" "),i("v-radio",{attrs:{label:"Liquidada",value:"Liquidada"}})],1)],1),a._v(" "),a.esAprobada?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:a.rubros,filter:a.filterRubros,"item-text":"nombre","item-value":"id",name:"rubro",label:"Rubro","no-data-text":"No hay rubros disponibles","error-messages":a.errors.collect("rubro"),required:"","prepend-icon":"subtitles"},scopedSlots:a._u([{key:"item",fn:function(t){return[[i("v-list-tile-content",[i("v-list-tile-title",{domProps:{innerHTML:a._s(t.item.nombre)}}),a._v(" "),i("v-list-tile-sub-title",{domProps:{innerHTML:a._s(t.item.codigo)}})],1)]]}}],null,!1,3181165253),model:{value:a.liquidacion.pr_rubro_id,callback:function(t){a.$set(a.liquidacion,"pr_rubro_id",t)},expression:"liquidacion.pr_rubro_id"}})],1):a._e(),a._v(" "),i("v-flex",{attrs:{xs12:""}},[i("v-textarea",{key:"observaciones",attrs:{label:"Observaciones",name:"observaciones"},model:{value:a.liquidacion.observaciones,callback:function(t){a.$set(a.liquidacion,"observaciones",t)},expression:"liquidacion.observaciones"}})],1),a._v(" "),"Aprobada"===a.liquidacion.estado?i("v-flex",{attrs:{xs12:""}},[i("v-btn",{staticClass:"white--text",attrs:{loading:a.loadingPdf,color:"blue-grey"},on:{click:function(t){return a.generarReporte(a.liquidacion.pr_solicitud_cp_id)}}},[a._v("\n                            Descargar solicitud CDP\n                            "),i("v-icon",{attrs:{right:"",dark:""}},[a._v("cloud_download")])],1)],1):a._e()],1)],1)])],1)],1)],1)],1):a._e()],1)],1)],1),a._v(" "),i("v-divider"),a._v(" "),i("v-card-actions",{staticClass:"grey lighten-4"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"text-xs-left",attrs:{xs6:""}},[i("v-btn",{attrs:{loading:a.loadingSubmit},on:{click:a.close}},[a._v("Limpiar")])],1),a._v(" "),i("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[i("v-btn",{on:{click:a.close}},[a._v("Cancelar")]),a._v(" "),i("v-btn",{attrs:{loading:a.loadingSubmit,color:"primary",disabled:a.errors.any()},on:{click:a.submit}},[a._v("Guardar")])],1)],1)],1)],1)],1)},e=[],s={render:o,staticRenderFns:e};t.a=s},603:function(a,t,i){"use strict";function o(a){i(2031)}Object.defineProperty(t,"__esModule",{value:!0});var e=i(1139),s=i(2033),r=i(1),l=o,c=r(e.a,s.a,!1,l,"data-v-3ceb7673",null);t.default=c.exports}});
//# sourceMappingURL=114.66364b80c7c00724dcfa.js.map