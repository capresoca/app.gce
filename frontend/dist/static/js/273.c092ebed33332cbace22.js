webpackJsonp([273],{1167:function(e,t,o){"use strict";var i=o(13),a=o.n(i),r=o(14),s=o.n(r),n=o(59),d=o(40),c=o(248),l=o(12);t.a={name:"RegistroNivelesCargoTalentoHumano",props:["parametros"],data:function(){return{buscandoCodigo:!1,dialogCodigo:!1,ordenEdit:!1,loadingSubmit:!1,nivel:{}}},computed:{complementosFormSubgruposEmpleados:function(){return n.b.getters.complementosFormComDiario}},methods:{findByCodigo:function(){var e=this;this.nivel.codigo&&(this.buscandoCodigo=!0,this.axios.get("th_niveles_cargos/codigo/"+this.nivel.codigo).then(function(t){t.data.exists&&(e.$store.commit(l.b,{msg:"El codigo del nivel cargo de empleados existe",color:"success"}),e.formReset(),e.nivel=t.data.data,e.dialogCodigo=!0),e.buscandoCodigo=!1}).catch(function(t){e.buscandoCodigo=!1,e.$store.commit(l.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}))},validador:function(e){return this.$validator.validateAll(e).then(function(e){return e})},submit:function(){var e=this;return s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validador("formRegistroSubgruposEmpleados");case 2:if(!t.sent){t.next=7;break}e.loadingSubmit=!0,e.nivel.id?e.axios.put("th_niveles_cargos/"+e.nivel.id,e.nivel).then(function(t){e.$store.commit(l.b,{msg:"El nivel cargo de empleados se actualizo correctamente",color:"success"}),e.formReset(),e.$store.dispatch(d.c,{contexto:e,itemId:e.parametros.tabOrigin}),e.$store.commit(c.W,{item:t.data.data,estado:"editar",key:e.parametros.key})}).catch(function(t){e.$store.commit(l.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}):e.axios.post("th_niveles_cargos",e.nivel).then(function(t){e.$store.commit(l.b,{msg:"El nivel cargo de empleados se cre√≥ correctamente",color:"success"}),e.formReset(),e.$store.dispatch(d.c,{contexto:e,itemId:e.parametros.tabOrigin}),e.$store.commit(c.W,{item:t.data.data,estado:"crear",key:e.parametros.key})}).catch(function(t){console.log(t),e.$store.commit(l.b,{msg:"Hay un error al guardar el registro. "+t.response,color:"danger"})}),t.next=8;break;case 7:e.$store.commit(l.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 8:case"end":return t.stop()}},t,e)}))()},seleccionCenCosto:function(e){null!==e&&(this.nivel.cencosto=e,this.nivel.nf_cencosto_id=e.id)},editarByCodigo:function(){this.dialogCodigo=!1,this.ordenEdit=!0},cerrarByCodigo:function(){this.formReset(),this.ordenEdit=!1,this.dialogCodigo=!1},formReset:function(){this.nivel={},this.buscandoCodigo=!1,this.dialogCodigo=!1,this.ordenEdit=!1},close:function(){this.formReset(),this.$validator.reset(),this.$store.dispatch(d.c,{contexto:this,itemId:this.parametros.tabOrigin})},getRegistro:function(e){var t=this;this.axios.get("th_niveles_cargos/"+e).then(function(e){e.data.exists&&t.edit(e.data.data)}).catch(function(e){t.$store.commit(l.a,{expression:" al traer el nivel cargo. ",error:e})})},edit:function(e){this.ordenEdit=!0,this.nivel=e}},mounted:function(){null!==this.parametros.entidad&&this.getRegistro(this.parametros.entidad.id),this.$validator.localize("es")}}},2086:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",[o("v-toolbar",{staticClass:"grey lighten-3 elevation-0 toolbar--dense"},[o("v-toolbar-title",[e._v(" "+e._s(e.ordenEdit?"Edicion de nivel cargo de empleados":"Registro de nivel cargo de empleados")+" ")])],1),e._v(" "),o("v-card-text",[o("v-form",{attrs:{"data-vv-scope":"formRegistroSubgruposEmpleados"}},[o("v-container",{attrs:{fluid:"","grid-list-xl":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"pb-4",attrs:{xs12:""}},[o("v-card",[o("v-toolbar",{staticClass:"grey lighten-4 elevation-0",attrs:{dense:""}},[o("v-toolbar-title",{staticClass:"subheading"},[o("v-icon",[e._v("assignment_ind")]),e._v(" General")],1)],1),e._v(" "),o("v-card-text",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm4:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:3",expression:"'required|max:3'"}],key:"codigo",attrs:{label:"Codigo",name:"Codigo","prepend-icon":"list","error-messages":e.errors.collect("Codigo"),disabled:e.ordenEdit,"persistent-hint":"",hint:e.buscandoCodigo?"Estamos buscando el codigo":"",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findByCodigo(t)},blur:e.findByCodigo},model:{value:e.nivel.codigo,callback:function(t){e.$set(e.nivel,"codigo",t)},expression:"nivel.codigo"}})],1),e._v(" "),o("v-flex",{attrs:{xs12:"",sm8:""}},[o("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"nombre",attrs:{label:"Nombre",name:"Nombre","prepend-icon":"person","error-messages":e.errors.collect("Nombre"),required:""},model:{value:e.nivel.nombre,callback:function(t){e.$set(e.nivel,"nombre",t)},expression:"nivel.nombre"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),o("v-divider"),e._v(" "),"Confirmada"!==e.estado&&"Anulada"!==e.estado?o("v-card-actions",{staticClass:"grey lighten-4"},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[o("v-btn",{on:{click:function(t){return e.close()}}},[e._v("Cancelar")]),e._v(" "),o("v-btn",{attrs:{color:"primary",loading:e.loadingSubmit},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("Guardar")])],1)],1)],1):e._e()],1),e._v(" "),o("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialogCodigo,callback:function(t){e.dialogCodigo=t},expression:"dialogCodigo"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Codigo del nivel cargo de empleados")]),e._v(" "),o("v-card-text",[e._v("El codigo del nivel cargo de empleados ya esta siendo utilizado, desea cargar los datos para su actualizacion o utilizar otro codigo")]),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.editarByCodigo}},[e._v("Cargar datos")]),e._v(" "),o("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.cerrarByCodigo}},[e._v("Cerrar")])],1)],1)],1)],1)},a=[],r={render:i,staticRenderFns:a};t.a=r},622:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(1167),a=o(2086),r=o(1),s=r(i.a,a.a,!1,null,null,null);t.default=s.exports}});
//# sourceMappingURL=273.c092ebed33332cbace22.js.map