webpackJsonp([263],{1154:function(o,e,r){"use strict";var t=r(13),a=r.n(t),i=r(14),s=r.n(i),n=r(40),c=r(248),d=r(12);e.a={name:"RegistroGruposInventario",components:{Postulador:function(){return r.e(287).then(r.bind(null,747))}},props:["parametros"],data:function(){return{buscandoCodigo:!1,dialogCodigo:!1,ordenEdit:!1,grupos:[],grupo:{}}},methods:{findByCodigo:function(){var o=this;this.grupo.codigo&&(this.buscandoCodigo=!0,this.axios.get("in_grupos/codigo/"+this.grupo.codigo).then(function(e){e.data.exists&&(o.$store.commit(d.b,{msg:"El codigo del grupo existe",color:"success"}),o.formReset(),o.grupo=e.data.data,o.dialogCodigo=!0),o.buscandoCodigo=!1}).catch(function(e){o.buscandoCodigo=!1,o.$store.commit(d.b,{msg:"Hay un error al guardar el registro. "+e.response,color:"danger"})}))},validador:function(o){return this.$validator.validateAll(o).then(function(o){return o})},submit:function(){var o=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.validador("formRegistroGruposInventarios");case 2:if(!e.sent){e.next=6;break}o.grupo.id?o.axios.put("in_grupos/"+o.grupo.id,o.grupo).then(function(e){o.$store.commit(d.b,{msg:"El grupo se actualizo correctamente",color:"success"}),o.formReset(),o.$store.dispatch(n.c,{contexto:o,itemId:o.parametros.tabOrigin}),o.$store.commit(c.N,{item:e.data.data,estado:"editar",key:o.parametros.key})}).catch(function(e){o.$store.commit(d.b,{msg:"Hay un error al guardar el registro. "+e.response,color:"danger"})}):o.axios.post("in_grupos",o.grupo).then(function(e){o.$store.commit(d.b,{msg:"El grupo se creó correctamente",color:"success"}),o.formReset(),o.$store.dispatch(n.c,{contexto:o,itemId:o.parametros.tabOrigin}),o.$store.commit(c.N,{item:e.data.data,estado:"crear",key:o.parametros.key})}).catch(function(e){console.log(e),o.$store.commit(d.b,{msg:"Hay un error al guardar el registro. "+e.response,color:"danger"})}),e.next=7;break;case 6:o.$store.commit(d.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 7:case"end":return e.stop()}},e,o)}))()},editarByCodigo:function(){this.dialogCodigo=!1,this.ordenEdit=!0},cerrarByCodigo:function(){this.formReset(),this.ordenEdit=!1,this.dialogCodigo=!1},formReset:function(){this.grupo={},this.buscandoCodigo=!1,this.dialogCodigo=!1,this.ordenEdit=!1},getRegistro:function(o){var e=this;this.axios.get("in_grupos/"+o).then(function(o){o.data.exists&&e.edit(o.data.data)}).catch(function(o){e.$store.commit(d.a,{expression:" al traer el cliente. ",error:o})})},edit:function(o){this.ordenEdit=!0,this.grupo=o}},mounted:function(){null!==this.parametros.entidad&&this.getRegistro(this.parametros.entidad.id),this.$validator.localize("es")}}},2069:function(o,e,r){"use strict";var t=function(){var o=this,e=o.$createElement,r=o._self._c||e;return r("div",[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[o._v("\n      Registro de grupos\n    ")]),o._v(" "),r("v-card-text",[r("v-form",{attrs:{"data-vv-scope":"formRegistroGruposInventarios"}},[r("v-container",{attrs:{fluid:"","grid-list-xl":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg2:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"codigo",attrs:{label:"Codigo",name:"Codigo","error-messages":o.errors.collect("Codigo"),disabled:o.ordenEdit,"persistent-hint":"",hint:o.buscandoCodigo?"Estamos buscando el codigo":"",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&o._k(e.keyCode,"enter",13,e.key,"Enter")?null:o.findByCodigo(e)},blur:o.findByCodigo},model:{value:o.grupo.codigo,callback:function(e){o.$set(o.grupo,"codigo",e)},expression:"grupo.codigo"}})],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg8:""}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"nombre",attrs:{label:"Nombre",name:"Nombre","error-messages":o.errors.collect("Nombre"),required:""},model:{value:o.grupo.nombre,callback:function(e){o.$set(o.grupo,"nombre",e)},expression:"grupo.nombre"}})],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg2:""}},[o._v("\n              Clase\n              "),r("v-radio-group",{model:{value:o.grupo.clase,callback:function(e){o.$set(o.grupo,"clase",e)},expression:"grupo.clase"}},[r("v-radio",{key:"claseProductos",attrs:{label:"Productos",value:"Productos"}}),o._v(" "),r("v-radio",{key:"claseServicios",attrs:{label:"Servicios",value:"Servicios"}}),o._v(" "),r("v-radio",{key:"claseConsignacion",attrs:{label:"Consignacion",value:"Consignacion"}})],1)],1)],1),o._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[r("postulador",{ref:"buscarCuentaIngresos",attrs:{nodata:"Busqueda por código o nombre.",hint:"codigo",itemtext:"nombre",datatitle:"codigo",datasubtitle:"nombre",filter:"codigo,nombre",label:"Cuenta de ingresos",lite:"",scope:"formRegistroGruposInventarios",entidad:"niifs",routeparams:"nivel:auxiliar=1",preicon:"person",value:o.grupo.ingresos,clearable:""},on:{change:function(e){return o.grupo.nf_niif_ingresos_id=e},objectReturn:function(e){return o.grupo.ingresos=e}}})],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[r("postulador",{ref:"buscarCuentaGastos",attrs:{nodata:"Busqueda por código o nombre.",hint:"codigo",itemtext:"nombre",datatitle:"codigo",datasubtitle:"nombre",filter:"codigo,nombre",label:"Cuenta Gastos / Inventarios",lite:"",scope:"formRegistroGruposInventarios",entidad:"niifs",routeparams:"nivel:auxiliar=1",preicon:"person",value:o.grupo.gastos,clearable:""},on:{change:function(e){return o.grupo.nf_niif_gastos_id=e},objectReturn:function(e){return o.grupo.gastos=e}}})],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[r("postulador",{ref:"buscarCuentaVenta",attrs:{nodata:"Busqueda por código o nombre.",hint:"codigo",itemtext:"nombre",datatitle:"codigo",datasubtitle:"nombre",filter:"codigo,nombre",label:"Costos de venta",lite:"",scope:"formRegistroGruposInventarios",entidad:"niifs",routeparams:"nivel:auxiliar=1",preicon:"person",value:o.grupo.venta,clearable:""},on:{change:function(e){return o.grupo.nf_niif_venta_id=e},objectReturn:function(e){return o.grupo.venta=e}}})],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[r("postulador",{ref:"buscarCuentaEnCompras",attrs:{nodata:"Busqueda por código o nombre.",hint:"codigo",itemtext:"nombre",datatitle:"codigo",datasubtitle:"nombre",filter:"codigo,nombre",label:"RTF en compras",lite:"",scope:"formRegistroGruposInventarios",entidad:"niifs",routeparams:"nivel:auxiliar=1",preicon:"person",value:o.grupo.rtfencompras,clearable:""},on:{change:function(e){return o.grupo.nf_niif_rtfencompras_id=e},objectReturn:function(e){return o.grupo.rtfencompras=e}}})],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[r("postulador",{ref:"buscarRetencionCompras",attrs:{nodata:"Busqueda por código o nombre.",hint:"codigo",itemtext:"nombre",datatitle:"codigo",datasubtitle:"nombre",filter:"codigo,nombre",label:"RTF para compras compras",lite:"",scope:"formRegistroGruposInventarios",entidad:"conrtfs",preicon:"person",value:o.grupo.rtfparacompras,clearable:""},on:{change:function(e){return o.grupo.nf_rtfs_paracompras_id=e},objectReturn:function(e){return o.grupo.rtfparacompras=e}}})],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[o._v("\n              Retencion ICA\n              "),r("v-radio-group",{attrs:{column:!1},model:{value:o.grupo.ica,callback:function(e){o.$set(o.grupo,"ica",e)},expression:"grupo.ica"}},[r("v-radio",{key:"icaSi",attrs:{label:"Si",value:"Si"}}),o._v(" "),r("v-radio",{key:"icaNo",attrs:{label:"No",value:"No"}})],1)],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[o._v("\n              IVA al costo\n              "),r("v-radio-group",{attrs:{column:!1},model:{value:o.grupo.iva,callback:function(e){o.$set(o.grupo,"iva",e)},expression:"grupo.iva"}},[r("v-radio",{key:"ivaSi",attrs:{label:"Si",value:"Si"}}),o._v(" "),r("v-radio",{key:"ivaNo",attrs:{label:"No",value:"No"}})],1)],1),o._v(" "),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[r("postulador",{ref:"buscarRubro",attrs:{nodata:"Busqueda descripcion.",itemtext:"descripcion",datatitle:"descripcion",filter:"descripcion",label:"Rubro presupuestal",lite:"",scope:"formRegistroGruposInventarios",entidad:"pr_rubros",preicon:"person",value:o.grupo.rubro,clearable:""},on:{change:function(e){return o.grupo.pr_rubro_id=e},objectReturn:function(e){return o.grupo.rubro=e}}})],1)],1),o._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[r("v-btn",{attrs:{color:"success"},on:{click:o.submit}},[o._v("\n              Guardar\n              ")])],1)],1)],1)],1)],1)],1),o._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:o.dialogCodigo,callback:function(e){o.dialogCodigo=e},expression:"dialogCodigo"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[o._v("Codigo del grupo")]),o._v(" "),r("v-card-text",[o._v("El codigo del grupo ya esta siendo utilizado, desea cargar los datos para su actualizacion o utilizar otro codigo")]),o._v(" "),r("v-card-actions",[r("v-spacer"),o._v(" "),r("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:o.editarByCodigo}},[o._v("Cargar datos")]),o._v(" "),r("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:o.cerrarByCodigo}},[o._v("Cerrar")])],1)],1)],1)],1)},a=[],i={render:t,staticRenderFns:a};e.a=i},609:function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r(1154),a=r(2069),i=r(1),s=i(t.a,a.a,!1,null,null,null);e.default=s.exports}});
//# sourceMappingURL=263.4911a0f042f64159986e.js.map