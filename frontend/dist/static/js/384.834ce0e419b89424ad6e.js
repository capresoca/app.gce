webpackJsonp([384],{1254:function(e,i,a){"use strict";var r=a(13),t=a.n(r),n=a(14),o=a.n(n),c=a(249),s=a.n(c),d=a(12),l=a(59);i.a={name:"InformacionBasica",components:{PostuladorV2:function(){return new Promise(function(e){e()}).then(a.bind(null,61))}},props:{concurrenciaId:{type:Number,default:0},concurrenciaObj:{type:Object,default:{}}},data:function(){return{concurrencia:{},tiposViaIngreso:["Consulta Externa","Urgencias","Remitido"],menuDate:!1,menuTime:!1,fechaRecepcion:null,horaRecepcion:null,loading:!1,loadingSubmit:!1,detalleAfiliado:function(){return a.e(290).then(a.bind(null,750))}}},mounted:function(){this.getRegisto()},computed:{complementos:function(){return l.b.getters.complementosConcurrencias},computedDateFormatted:function(){return this.formDate(this.fechaRecepcion)}},methods:{getRegisto:function(){var e=this,i=this.$loading.show({container:this.$refs.formConcurrencia.$el});this.axios.get("cuentasmedicas/concurrencia/"+this.concurrenciaId).then(function(a){""!==a.data&&(e.concurrencia=a.data.data,e.splitFechaRecepcionYHora()),i.hide()}).catch(function(a){i.hide(),e.$store.commit(d.b,{msg:"Hay un error al traer la concurrencia. "+a.response,color:"danger"})})},splitFechaRecepcionYHora:function(){var e=this.concurrencia.fecha.split(" ");this.fechaRecepcion=e[0],this.horaRecepcion=e[1]},validador:function(e){return this.$validator.validateAll(e).then(function(e){return e})},formDate:function(e){if(!e)return null;var i=e.split("-"),a=s()(i,3);return a[0]+"/"+a[1]+"/"+a[2]},submit:function(){var e=this;return o()(t.a.mark(function i(){return t.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.validador("formConcurrencias");case 2:if(!i.sent){i.next=8;break}e.loadingSubmit=!0,e.concurrencia.fecha=e.fechaRecepcion+" "+e.horaRecepcion,e.axios.put("cuentasmedicas/concurrencia/"+e.concurrencia.id,e.concurrencia).then(function(i){e.$store.commit(d.b,{msg:"Item actualizado satisfactoriamente",color:"success"}),e.loadingSubmit=!1}).catch(function(i){e.loadingSubmit=!1,e.$store.commit(d.a,{expression:" al guardar el registro. ",error:i})}),i.next=9;break;case 8:e.$store.commit(d.b,{msg:"Los campos no pueden estar vacios.",color:"danger"});case 9:case"end":return i.stop()}},i,e)}))()}}}},2318:function(e,i,a){"use strict";function r(e){a(2319)}Object.defineProperty(i,"__esModule",{value:!0});var t=a(1254),n=a(2321),o=a(1),c=r,s=o(t.a,n.a,!1,c,"data-v-4bd34863",null);i.default=s.exports},2319:function(e,i,a){var r=a(2320);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(456)("3ace6f68",r,!0,{})},2320:function(e,i,a){i=e.exports=a(455)(!0),i.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"InformacionBasica.vue",sourceRoot:""}])},2321:function(e,i,a){"use strict";var r=function(){var e=this,i=e.$createElement,a=e._self._c||i;return a("v-container",{ref:"formConcurrencia",staticStyle:{"max-width":"inherit"},attrs:{"grid-list-md":""}},[a("v-form",{attrs:{"data-vv-scope":"formConcurrencias"}},[a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por nombre o número de documento.",hint:"identificacion_completa","item-text":"nombre_completo","data-title":"identificacion_completa","data-subtitle":"nombre_completo",label:"Afiliado",detail:e.detalleAfiliado,entidad:"afiliados",preicon:"person",name:"Afiliado",rules:"required","error-messages":e.errors.collect("Afiliado"),disabled:"Cerrada"===e.concurrenciaObj.estado,"slot-append":{template:'<span class="pt-2 caption">Estado: {{value.estado_afiliado.codigo}} - {{value.estado_afiliado.nombre}}</span>',props:["value"]},"no-btn-edit":""},on:{changeid:function(i){return e.concurrencia.as_afiliado_id=i}},model:{value:e.concurrencia.afiliado,callback:function(i){e.$set(e.concurrencia,"afiliado",i)},expression:"concurrencia.afiliado"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por NIT, razon social u código de habilitación.",hint:"tercero.identificacion_completa","item-text":"tercero.nombre_completo","data-title":"tercero.identificacion_completa","data-subtitle":"tercero.nombre_completo",label:"IPS",entidad:"entidades",preicon:"location_city",name:"IPS","no-btn-create":"",rules:"required","error-messages":e.errors.collect("IPS"),disabled:"Cerrada"===e.concurrenciaObj.estado},on:{changeid:function(i){return e.concurrencia.rs_entidad_id=i}},model:{value:e.concurrencia.entidad,callback:function(i){e.$set(e.concurrencia,"entidad",i)},expression:"concurrencia.entidad"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"consecutivo ips",attrs:{disabled:"Cerrada"===e.concurrenciaObj.estado,label:"Consecutivo IPS",name:"consecutivo ips",required:"","prepend-icon":"subtitles","error-messages":e.errors.collect("consecutivo ips")},model:{value:e.concurrencia.consecutivo_ips,callback:function(i){e.$set(e.concurrencia,"consecutivo_ips",i)},expression:"concurrencia.consecutivo_ips"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.complementos.rsServicios,"item-text":"nombre","item-value":"id",name:"servicio",label:"Servicio","no-data-text":"No hay servicios disponibles","error-messages":e.errors.collect("servicio"),required:"","prepend-icon":"contacts",disabled:"Cerrada"===e.concurrenciaObj.estado},scopedSlots:e._u([{key:"item",fn:function(i){return[[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(i.item.nombre)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(i.item.codigo)}})],1)]]}}]),model:{value:e.concurrencia.rs_servicio_id,callback:function(i){e.$set(e.concurrencia,"rs_servicio_id",i)},expression:"concurrencia.rs_servicio_id"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.complementos.especialidades,"item-text":"nombre","item-value":"id",name:"especialidad",label:"Especialidad","no-data-text":"No hay especialidades disponibles","error-messages":e.errors.collect("especialidad"),required:"","prepend-icon":"assignment_turned_in",disabled:"Cerrada"===e.concurrenciaObj.estado},scopedSlots:e._u([{key:"item",fn:function(i){return[[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(i.item.nombre)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(i.item.codigo)}})],1)]]}}]),model:{value:e.concurrencia.rs_especialidad_id,callback:function(i){e.$set(e.concurrencia,"rs_especialidad_id",i)},expression:"concurrencia.rs_especialidad_id"}})],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{staticStyle:{"margin-top":"15px","margin-bottom":"15px"}},[a("v-list-tile-avatar",{attrs:{color:"red"}},[a("v-icon",{attrs:{dark:""}},[e._v("label_important")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("\n              Ingreso\n            ")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Ingreso")])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-menu",{ref:"menuDate",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:e.menuDate,callback:function(i){e.menuDate=i},expression:"menuDate"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:YYYY/MM/DD",expression:"'required|date_format:YYYY/MM/DD'"}],attrs:{slot:"activator",label:"Fecha de ingreso","prepend-icon":"event",readonly:"",name:"fecha de ingreso","error-messages":e.errors.collect("fecha de ingreso"),disabled:"Cerrada"===e.concurrenciaObj.estado},slot:"activator",model:{value:e.computedDateFormatted,callback:function(i){e.computedDateFormatted=i},expression:"computedDateFormatted"}}),e._v(" "),a("v-date-picker",{attrs:{readonly:"Cerrada"===e.concurrenciaObj.estado,locale:"es","no-title":""},on:{input:function(i){e.menuDate=!1},change:function(){var i=e.$validator.errors.items.findIndex(function(e){return"fecha"===e.field});e.$validator.errors.items.splice(-1!==i?i:0,-1!==i?1:0)}},model:{value:e.fechaRecepcion,callback:function(i){e.fechaRecepcion=i},expression:"fechaRecepcion"}})],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-menu",{ref:"menuTime",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.horaRecepcion,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(i){e.horaRecepcion=i},"update:return-value":function(i){e.horaRecepcion=i}},model:{value:e.menuTime,callback:function(i){e.menuTime=i},expression:"menuTime"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{slot:"activator",label:"Hora de ingreso","prepend-icon":"access_time",readonly:"",required:"",name:"hora ingreso","error-messages":e.errors.collect("hora ingreso"),disabled:"Cerrada"===e.concurrenciaObj.estado},slot:"activator",model:{value:e.horaRecepcion,callback:function(i){e.horaRecepcion=i},expression:"horaRecepcion"}}),e._v(" "),e.menuTime?a("v-time-picker",{attrs:{readonly:"Cerrada"===e.concurrenciaObj.estado,"full-width":""},on:{change:function(i){return e.$refs.menuTime.save(e.horaRecepcion)}},model:{value:e.horaRecepcion,callback:function(i){e.horaRecepcion=i},expression:"horaRecepcion"}}):e._e()],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.tiposViaIngreso,label:"Via de ingreso",name:"via de ingreso","prepend-icon":"input","error-messages":e.errors.collect("via de ingreso"),required:"",disabled:"Cerrada"===e.concurrenciaObj.estado},model:{value:e.concurrencia.via_ingreso,callback:function(i){e.$set(e.concurrencia,"via_ingreso",i)},expression:"concurrencia.via_ingreso"}})],1),e._v(" "),"Remitido"===e.concurrencia.via_ingreso?a("v-flex",{attrs:{xs12:""}},[a("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por NIT, razon social u código de habilitación.",hint:"tercero.identificacion_completa","item-text":"tercero.nombre_completo","data-title":"tercero.identificacion_completa","data-subtitle":"tercero.nombre_completo",label:"IPS Origen",entidad:"entidades",preicon:"location_city",name:"IPS","no-btn-create":"",rules:"required","error-messages":e.errors.collect("IPS"),disabled:"Cerrada"===e.concurrenciaObj.estado},on:{changeid:function(i){return e.concurrencia.rs_entorigen_id=i}},model:{value:e.concurrencia.entidad_origen,callback:function(i){e.$set(e.concurrencia,"entidad_origen",i)},expression:"concurrencia.entidad_origen"}})],1):e._e(),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("postulador-v2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"no-data":"Busqueda por código, descripcion y genero",hint:"codigo","item-text":"descripcion","data-title":"codigo","data-subtitle":"descripcion",label:"Diagnóstico Principal",entidad:"rs_cie10s",preicon:"reorder",name:"diagnóstico",rules:"required","error-messages":e.errors.collect("diagnóstico"),"no-btn-create":"","min-characters-search":3,clearable:"",disabled:"Cerrada"===e.concurrenciaObj.estado},on:{changeid:function(i){return e.concurrencia.rs_cie10_ingreso=i}},model:{value:e.concurrencia.diagnostico_ingreso,callback:function(i){e.$set(e.concurrencia,"diagnostico_ingreso",i)},expression:"concurrencia.diagnostico_ingreso"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("postulador-v2",{attrs:{"no-data":"Busqueda por código, descripcion y genero",hint:"codigo","item-text":"descripcion","data-title":"codigo","data-subtitle":"descripcion",label:"Diagnóstico Relacionado (opcional)",entidad:"rs_cie10s",preicon:"reorder",name:"diagnóstico","no-btn-create":"","min-characters-search":3,clearable:"",disabled:"Cerrada"===e.concurrenciaObj.estado},on:{changeid:function(i){return e.concurrencia.rs_cie10_relacionado=i}},model:{value:e.concurrencia.diagnostico_relacionado,callback:function(i){e.$set(e.concurrencia,"diagnostico_relacionado",i)},expression:"concurrencia.diagnostico_relacionado"}})],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary",loading:e.loadingSubmit},on:{click:function(i){return i.preventDefault(),e.submit(i)}}},[e._v("Guardar")])],1)],1)},t=[],n={render:r,staticRenderFns:t};i.a=n}});
//# sourceMappingURL=384.834ce0e419b89424ad6e.js.map